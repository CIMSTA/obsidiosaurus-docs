/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// node_modules/gm/lib/options.js
var require_options = __commonJS({
  "node_modules/gm/lib/options.js"(exports, module2) {
    module2.exports = exports = function(proto) {
      proto._options = {};
      proto.options = function setOptions(options) {
        var keys = Object.keys(options), i = keys.length, key;
        while (i--) {
          key = keys[i];
          this._options[key] = options[key];
        }
        return this;
      };
    };
  }
});

// node_modules/gm/lib/getters.js
var require_getters = __commonJS({
  "node_modules/gm/lib/getters.js"(exports, module2) {
    module2.exports = function(gm2) {
      var proto = gm2.prototype;
      const IDENTIFYING = 1;
      const IDENTIFIED = 2;
      var map = {
        "format": { key: "format", format: "%m ", helper: "Format" },
        "depth": { key: "depth", format: "%q" },
        "filesize": { key: "Filesize", format: "%b" },
        "size": { key: "size", format: "%wx%h ", helper: "Geometry" },
        "color": { key: "color", format: "%k", helper: "Colors" },
        "orientation": { key: "Orientation", format: "%[EXIF:Orientation]", helper: "Orientation" },
        "res": { key: "Resolution", verbose: true }
      };
      Object.keys(map).forEach(function(getter) {
        proto[getter] = function(opts, callback) {
          if (!callback)
            callback = opts, opts = {};
          if (!callback)
            return this;
          var val = map[getter], key = val.key, self2 = this;
          if (self2.data[key]) {
            callback.call(self2, null, self2.data[key]);
            return self2;
          }
          self2.on(getter, callback);
          self2.bufferStream = !!opts.bufferStream;
          if (val.verbose) {
            self2.identify(opts, function(err, stdout, stderr, cmd) {
              if (err) {
                self2.emit(getter, err, self2.data[key], stdout, stderr, cmd);
              } else {
                self2.emit(getter, err, self2.data[key]);
              }
            });
            return self2;
          }
          var args = makeArgs(self2, val);
          self2._exec(args, function(err, stdout, stderr, cmd) {
            if (err) {
              self2.emit(getter, err, self2.data[key], stdout, stderr, cmd);
              return;
            }
            var result = (stdout || "").trim();
            if (val.helper in helper) {
              helper[val.helper](self2.data, result);
            } else {
              self2.data[key] = result;
            }
            self2.emit(getter, err, self2.data[key]);
          });
          return self2;
        };
      });
      proto.identify = function identify(opts, callback) {
        if (typeof opts === "string") {
          opts = {
            format: opts
          };
        }
        if (!callback)
          callback = opts, opts = {};
        if (!callback)
          return this;
        if (opts && opts.format)
          return identifyPattern.call(this, opts, callback);
        var self2 = this;
        if (IDENTIFIED === self2._identifyState) {
          callback.call(self2, null, self2.data);
          return self2;
        }
        self2.on("identify", callback);
        if (IDENTIFYING === self2._identifyState) {
          return self2;
        }
        self2._identifyState = IDENTIFYING;
        self2.bufferStream = !!opts.bufferStream;
        var args = makeArgs(self2, { verbose: true });
        self2._exec(args, function(err, stdout, stderr, cmd) {
          if (err) {
            self2.emit("identify", err, self2.data, stdout, stderr, cmd);
            return;
          }
          err = parse2(stdout, self2);
          if (err) {
            self2.emit("identify", err, self2.data, stdout, stderr, cmd);
            return;
          }
          self2.data.path = self2.source;
          self2.emit("identify", null, self2.data);
          self2._identifyState = IDENTIFIED;
        });
        return self2;
      };
      function identifyPattern(opts, callback) {
        var self2 = this;
        self2.bufferStream = !!opts.bufferStream;
        var args = makeArgs(self2, opts);
        self2._exec(args, function(err, stdout, stderr, cmd) {
          if (err) {
            return callback.call(self2, err, void 0, stdout, stderr, cmd);
          }
          callback.call(self2, err, (stdout || "").trim());
        });
        return self2;
      }
      function parse2(stdout, self2) {
        var parts = (stdout || "").trim().replace(/\r\n|\r/g, "\n").split("\n");
        parts.shift();
        try {
          var len = parts.length, rgx1 = /^( *)(.+?): (.*)$/, rgx2 = /^( *)(.+?):$/, out = { indent: {} }, level = null, lastkey, i = 0, res, o;
          for (; i < len; ++i) {
            res = rgx1.exec(parts[i]) || rgx2.exec(parts[i]);
            if (!res)
              continue;
            var indent = res[1].length, key = res[2] ? res[2].trim() : "";
            if ("Image" == key || "Warning" == key)
              continue;
            var val = res[3] ? res[3].trim() : null;
            if (null === level) {
              level = indent;
              o = out.root = out.indent[level] = self2.data;
            } else if (indent < level) {
              if (!(indent in out.indent)) {
                continue;
              }
              o = out.indent[indent];
            } else if (indent > level) {
              out.indent[level] = o;
              o = o[lastkey] = {};
            }
            level = indent;
            if (val) {
              if (o.hasOwnProperty(key)) {
                if (!Array.isArray(o[key])) {
                  var tmp = o[key];
                  o[key] = [tmp];
                }
                o[key].push(val);
              } else {
                o[key] = val;
              }
              if (key in helper) {
                helper[key](o, val);
              }
            }
            lastkey = key;
          }
        } catch (err) {
          err.message = err.message + "\n\n  Identify stdout:\n  " + stdout;
          return err;
        }
      }
      function makeArgs(self2, val) {
        var args = [
          "identify",
          "-ping"
        ];
        if (val.format) {
          args.push("-format", val.format);
        }
        if (val.verbose) {
          args.push("-verbose");
        }
        args = args.concat(self2.src());
        return args;
      }
      var orientations = {
        "1": "TopLeft",
        "2": "TopRight",
        "3": "BottomRight",
        "4": "BottomLeft",
        "5": "LeftTop",
        "6": "RightTop",
        "7": "RightBottom",
        "8": "LeftBottom"
      };
      var helper = gm2.identifyHelpers = {};
      helper.Geometry = function Geometry(o, val) {
        var split = val.split(" ").shift().split("x");
        var width = parseInt(split[0], 10);
        var height = parseInt(split[1], 10);
        if (o.size && o.size.width && o.size.height) {
          if (width > o.size.width)
            o.size.width = width;
          if (height > o.size.height)
            o.size.height = height;
        } else {
          o.size = {
            width,
            height
          };
        }
      };
      helper.Format = function Format(o, val) {
        o.format = val.split(" ")[0];
      };
      helper.Depth = function Depth(o, val) {
        o.depth = parseInt(val, 10);
      };
      helper.Colors = function Colors(o, val) {
        o.color = parseInt(val, 10);
      };
      helper.Orientation = function Orientation(o, val) {
        if (val in orientations) {
          o["Profile-EXIF"] || (o["Profile-EXIF"] = {});
          o["Profile-EXIF"].Orientation = val;
          o.Orientation = orientations[val];
        } else {
          o.Orientation = val || "Unknown";
        }
      };
    };
  }
});

// node_modules/gm/lib/utils.js
var require_utils = __commonJS({
  "node_modules/gm/lib/utils.js"(exports) {
    exports.escape = function escape(arg) {
      return '"' + String(arg).trim().replace(/"/g, '\\"') + '"';
    };
    exports.unescape = function escape(arg) {
      return String(arg).trim().replace(/"/g, "");
    };
    exports.argsToArray = function(args) {
      var arr = [];
      for (var i = 0; i <= arguments.length; i++) {
        if ("undefined" != typeof arguments[i])
          arr.push(arguments[i]);
      }
      return arr;
    };
    exports.isUtil = function(v) {
      var ty = "object";
      switch (Object.prototype.toString.call(v)) {
        case "[object String]":
          ty = "String";
          break;
        case "[object Array]":
          ty = "Array";
          break;
        case "[object Boolean]":
          ty = "Boolean";
          break;
      }
      return ty;
    };
  }
});

// node_modules/gm/lib/args.js
var require_args = __commonJS({
  "node_modules/gm/lib/args.js"(exports, module2) {
    var argsToArray = require_utils().argsToArray;
    var isUtil = require_utils().isUtil;
    module2.exports = function(proto) {
      proto.selectFrame = function(frame) {
        if (typeof frame === "number")
          this.sourceFrames = "[" + frame + "]";
        return this;
      };
      proto.command = proto.subCommand = function subCommand(name) {
        this._subCommand = name;
        return this;
      };
      proto.adjoin = function adjoin() {
        return this.out("-adjoin");
      };
      proto.affine = function affine(matrix) {
        return this.out("-affine", matrix);
      };
      proto.alpha = function alpha(type) {
        if (!this._options.imageMagick)
          return new Error("Method -alpha is not supported by GraphicsMagick");
        return this.out("-alpha", type);
      };
      proto.append = function append(img, ltr) {
        if (!this._append) {
          this._append = [];
          this.addSrcFormatter(function(src) {
            this.out(this._append.ltr ? "+append" : "-append");
            src.push.apply(src, this._append);
          });
        }
        if (0 === arguments.length) {
          this._append.ltr = false;
          return this;
        }
        for (var i = 0; i < arguments.length; ++i) {
          var arg = arguments[i];
          switch (isUtil(arg)) {
            case "Boolean":
              this._append.ltr = arg;
              break;
            case "String":
              this._append.push(arg);
              break;
            case "Array":
              for (var j = 0, len = arg.length; j < len; j++) {
                if (isUtil(arg[j]) == "String") {
                  this._append.push(arg[j]);
                }
              }
              break;
          }
        }
        return this;
      };
      proto.authenticate = function authenticate(string) {
        return this.out("-authenticate", string);
      };
      proto.average = function average() {
        return this.out("-average");
      };
      proto.backdrop = function backdrop() {
        return this.out("-backdrop");
      };
      proto.blackThreshold = function blackThreshold(red, green, blue, opacity) {
        return this.out("-black-threshold", argsToArray(red, green, blue, opacity).join(","));
      };
      proto.bluePrimary = function bluePrimary(x, y) {
        return this.out("-blue-primary", argsToArray(x, y).join(","));
      };
      proto.border = function border(width, height) {
        return this.out("-border", width + "x" + height);
      };
      proto.borderColor = function borderColor(color) {
        return this.out("-bordercolor", color);
      };
      proto.box = function box(color) {
        return this.out("-box", color);
      };
      proto.channel = function channel(type) {
        return this.out("-channel", type);
      };
      proto.chop = function chop(w, h, x, y) {
        return this.in("-chop", w + "x" + h + "+" + (x || 0) + "+" + (y || 0));
      };
      proto.clip = function clip() {
        return this.out("-clip");
      };
      proto.coalesce = function coalesce() {
        return this.out("-coalesce");
      };
      proto.colorize = function colorize(r, g, b) {
        return this.out("-colorize", [r, g, b].join(","));
      };
      proto.colorMap = function colorMap(type) {
        return this.out("-colormap", type);
      };
      proto.compose = function compose(operator) {
        return this.out("-compose", operator);
      };
      proto.compress = function compress(type) {
        return this.out("-compress", type);
      };
      proto.convolve = function convolve(kernel) {
        return this.out("-convolve", kernel);
      };
      proto.createDirectories = function createDirectories() {
        return this.out("-create-directories");
      };
      proto.deconstruct = function deconstruct() {
        return this.out("-deconstruct");
      };
      proto.define = function define(value) {
        return this.out("-define", value);
      };
      proto.delay = function delay(value) {
        return this.out("-delay", value);
      };
      proto.displace = function displace(horizontalScale, verticalScale) {
        return this.out("-displace", horizontalScale + "x" + verticalScale);
      };
      proto.display = function display(value) {
        return this.out("-display", value);
      };
      proto.dispose = function dispose(method) {
        return this.out("-dispose", method);
      };
      proto.dissolve = function dissolve(percent) {
        return this.out("-dissolve", percent + "%");
      };
      proto.encoding = function encoding(type) {
        return this.out("-encoding", type);
      };
      proto.endian = function endian(type) {
        return this.out("-endian", type);
      };
      proto.file = function file(filename) {
        return this.out("-file", filename);
      };
      proto.flatten = function flatten() {
        return this.out("-flatten");
      };
      proto.foreground = function foreground(color) {
        return this.out("-foreground", color);
      };
      proto.frame = function frame(width, height, outerBevelWidth, innerBevelWidth) {
        if (arguments.length == 0)
          return this.out("-frame");
        return this.out("-frame", width + "x" + height + "+" + outerBevelWidth + "+" + innerBevelWidth);
      };
      proto.fuzz = function fuzz(distance, percent) {
        return this.out("-fuzz", distance + (percent ? "%" : ""));
      };
      proto.gaussian = function gaussian(radius, sigma) {
        return this.out("-gaussian", argsToArray(radius, sigma).join("x"));
      };
      proto.geometry = function geometry(width, height, arg) {
        if (arguments.length == 1 && typeof arguments[0] === "string")
          return this.out("-geometry", arguments[0]);
        return this.out("-geometry", width + "x" + height + (arg || ""));
      };
      proto.greenPrimary = function greenPrimary(x, y) {
        return this.out("-green-primary", x + "," + y);
      };
      proto.highlightColor = function highlightColor(color) {
        return this.out("-highlight-color", color);
      };
      proto.highlightStyle = function highlightStyle(style) {
        return this.out("-highlight-style", style);
      };
      proto.iconGeometry = function iconGeometry(geometry) {
        return this.out("-iconGeometry", geometry);
      };
      proto.intent = function intent(type) {
        return this.out("-intent", type);
      };
      proto.lat = function lat(width, height, offset, percent) {
        return this.out("-lat", width + "x" + height + offset + (percent ? "%" : ""));
      };
      proto.level = function level(blackPoint, gamma, whitePoint, percent) {
        return this.out("-level", argsToArray(blackPoint, gamma, whitePoint).join(",") + (percent ? "%" : ""));
      };
      proto.list = function list(type) {
        return this.out("-list", type);
      };
      proto.log = function log(string) {
        return this.out("-log", string);
      };
      proto.loop = function loop(iterations) {
        return this.out("-loop", iterations);
      };
      proto.map = function map(filename) {
        return this.out("-map", filename);
      };
      proto.mask = function mask(filename) {
        return this.out("-mask", filename);
      };
      proto.matte = function matte() {
        return this.out("-matte");
      };
      proto.matteColor = function matteColor(color) {
        return this.out("-mattecolor", color);
      };
      proto.maximumError = function maximumError(limit) {
        return this.out("-maximum-error", limit);
      };
      proto.mode = function mode(value) {
        return this.out("-mode", value);
      };
      proto.monitor = function monitor() {
        return this.out("-monitor");
      };
      proto.mosaic = function mosaic() {
        return this.out("-mosaic");
      };
      proto.motionBlur = function motionBlur(radius, sigma, angle) {
        var arg = radius;
        if (typeof sigma != "undefined")
          arg += "x" + sigma;
        if (typeof angle != "undefined")
          arg += "+" + angle;
        return this.out("-motion-blur", arg);
      };
      proto.name = function name() {
        return this.out("-name");
      };
      proto.noop = function noop() {
        return this.out("-noop");
      };
      proto.normalize = function normalize() {
        return this.out("-normalize");
      };
      proto.opaque = function opaque(color) {
        return this.out("-opaque", color);
      };
      proto.operator = function operator(channel, operator, rvalue, percent) {
        return this.out("-operator", channel, operator, rvalue + (percent ? "%" : ""));
      };
      proto.orderedDither = function orderedDither(channeltype, NxN) {
        return this.out("-ordered-dither", channeltype, NxN);
      };
      proto.outputDirectory = function outputDirectory(directory) {
        return this.out("-output-directory", directory);
      };
      proto.page = function page(width, height, arg) {
        return this.out("-page", width + "x" + height + (arg || ""));
      };
      proto.pause = function pause(seconds) {
        return this.out("-pause", seconds);
      };
      proto.pen = function pen(color) {
        return this.out("-pen", color);
      };
      proto.ping = function ping() {
        return this.out("-ping");
      };
      proto.pointSize = function pointSize(value) {
        return this.out("-pointsize", value);
      };
      proto.preview = function preview(type) {
        return this.out("-preview", type);
      };
      proto.process = function process2(command) {
        return this.out("-process", command);
      };
      proto.profile = function profile(filename) {
        return this.out("-profile", filename);
      };
      proto.progress = function progress() {
        return this.out("+progress");
      };
      proto.randomThreshold = function randomThreshold(channeltype, LOWxHIGH) {
        return this.out("-random-threshold", channeltype, LOWxHIGH);
      };
      proto.recolor = function recolor(matrix) {
        return this.out("-recolor", matrix);
      };
      proto.redPrimary = function redPrimary(x, y) {
        return this.out("-red-primary", x, y);
      };
      proto.remote = function remote() {
        return this.out("-remote");
      };
      proto.render = function render() {
        return this.out("-render");
      };
      proto.repage = function repage(width, height, xoff, yoff, arg) {
        if (arguments[0] === "+")
          return this.out("+repage");
        return this.out("-repage", width + "x" + height + "+" + xoff + "+" + yoff + (arg || ""));
      };
      proto.sample = function sample(geometry) {
        return this.out("-sample", geometry);
      };
      proto.samplingFactor = function samplingFactor(horizontalFactor, verticalFactor) {
        return this.out("-sampling-factor", horizontalFactor + "x" + verticalFactor);
      };
      proto.scene = function scene(value) {
        return this.out("-scene", value);
      };
      proto.scenes = function scenes(start, end) {
        return this.out("-scenes", start + "-" + end);
      };
      proto.screen = function screen() {
        return this.out("-screen");
      };
      proto.set = function set(attribute, value) {
        return this.out("-set", attribute, value);
      };
      proto.segment = function segment(clusterThreshold, smoothingThreshold) {
        return this.out("-segment", clusterThreshold + "x" + smoothingThreshold);
      };
      proto.shade = function shade(azimuth, elevation) {
        return this.out("-shade", azimuth + "x" + elevation);
      };
      proto.shadow = function shadow(radius, sigma) {
        return this.out("-shadow", argsToArray(radius, sigma).join("x"));
      };
      proto.sharedMemory = function sharedMemory() {
        return this.out("-shared-memory");
      };
      proto.shave = function shave(width, height, percent) {
        return this.out("-shave", width + "x" + height + (percent ? "%" : ""));
      };
      proto.shear = function shear(xDegrees, yDegreees) {
        return this.out("-shear", xDegrees + "x" + yDegreees);
      };
      proto.silent = function silent(color) {
        return this.out("-silent");
      };
      proto.rawSize = function rawSize(width, height, offset) {
        var off = "undefined" != typeof offset ? "+" + offset : "";
        return this.out("-size", width + "x" + height + off);
      };
      proto.snaps = function snaps(value) {
        return this.out("-snaps", value);
      };
      proto.stegano = function stegano(offset) {
        return this.out("-stegano", offset);
      };
      proto.stereo = function stereo() {
        return this.out("-stereo");
      };
      proto.textFont = function textFont(name) {
        return this.out("-text-font", name);
      };
      proto.texture = function texture(filename) {
        return this.out("-texture", filename);
      };
      proto.threshold = function threshold(value, percent) {
        return this.out("-threshold", value + (percent ? "%" : ""));
      };
      proto.thumbnail = function thumbnail(w, h, options) {
        options = options || "";
        var geometry, wIsValid = Boolean(w || w === 0), hIsValid = Boolean(h || h === 0);
        if (wIsValid && hIsValid) {
          geometry = w + "x" + h + options;
        } else if (wIsValid) {
          geometry = this._options.imageMagick ? w + options : w + "x" + options;
        } else if (hIsValid) {
          geometry = "x" + h + options;
        } else {
          return this;
        }
        return this.out("-thumbnail", geometry);
      };
      proto.tile = function tile(filename) {
        return this.out("-tile", filename);
      };
      proto.title = function title(string) {
        return this.out("-title", string);
      };
      proto.transform = function transform(color) {
        return this.out("-transform", color);
      };
      proto.transparent = function transparent(color) {
        return this.out("-transparent", color);
      };
      proto.treeDepth = function treeDepth(value) {
        return this.out("-treedepth", value);
      };
      proto.update = function update(seconds) {
        return this.out("-update", seconds);
      };
      proto.units = function units(type) {
        return this.out("-units", type);
      };
      proto.unsharp = function unsharp(radius, sigma, amount, threshold) {
        var arg = radius;
        if (typeof sigma != "undefined")
          arg += "x" + sigma;
        if (typeof amount != "undefined")
          arg += "+" + amount;
        if (typeof threshold != "undefined")
          arg += "+" + threshold;
        return this.out("-unsharp", arg);
      };
      proto.usePixmap = function usePixmap() {
        return this.out("-use-pixmap");
      };
      proto.view = function view(string) {
        return this.out("-view", string);
      };
      proto.virtualPixel = function virtualPixel(method) {
        return this.out("-virtual-pixel", method);
      };
      proto.visual = function visual(type) {
        return this.out("-visual", type);
      };
      proto.watermark = function watermark(brightness, saturation) {
        return this.out("-watermark", brightness + "x" + saturation);
      };
      proto.wave = function wave(amplitude, wavelength) {
        return this.out("-wave", amplitude + "x" + wavelength);
      };
      proto.whitePoint = function whitePoint(x, y) {
        return this.out("-white-point", x + "x" + y);
      };
      proto.whiteThreshold = function whiteThreshold(red, green, blue, opacity) {
        return this.out("-white-threshold", argsToArray(red, green, blue, opacity).join(","));
      };
      proto.window = function window2(id) {
        return this.out("-window", id);
      };
      proto.windowGroup = function windowGroup() {
        return this.out("-window-group");
      };
      proto.strip = function strip() {
        if (this._options.imageMagick)
          return this.out("-strip");
        return this.noProfile().out("+comment");
      };
      proto.interlace = function interlace(type) {
        return this.out("-interlace", type || "None");
      };
      proto.setFormat = function setFormat(format) {
        if (format)
          this._outputFormat = format;
        return this;
      };
      proto.resize = function resize(w, h, options) {
        options = options || "";
        var geometry, wIsValid = Boolean(w || w === 0), hIsValid = Boolean(h || h === 0);
        if (wIsValid && hIsValid) {
          geometry = w + "x" + h + options;
        } else if (wIsValid) {
          geometry = this._options.imageMagick ? w + options : w + "x" + options;
        } else if (hIsValid) {
          geometry = "x" + h + options;
        } else {
          return this;
        }
        return this.out("-resize", geometry);
      };
      proto.resizeExact = function resize(w, h) {
        var options = "!";
        return proto.resize.apply(this, [w, h, options]);
      };
      proto.scale = function scale(w, h, options) {
        options = options || "";
        var geometry;
        if (w && h) {
          geometry = w + "x" + h + options;
        } else if (w && !h) {
          geometry = this._options.imageMagick ? w + options : w + "x" + options;
        } else if (!w && h) {
          geometry = "x" + h + options;
        }
        return this.out("-scale", geometry);
      };
      proto.filter = function filter(val) {
        return this.out("-filter", val);
      };
      proto.density = function density(w, h) {
        if (w && !h && this._options.imageMagick) {
          return this.in("-density", w);
        }
        return this.in("-density", w + "x" + h);
      };
      proto.noProfile = function noProfile() {
        this.out("+profile", '"*"');
        return this;
      };
      proto.resample = function resample(w, h) {
        return this.out("-resample", w + "x" + h);
      };
      proto.rotate = function rotate(color, deg) {
        return this.out("-background", color, "-rotate", String(deg || 0));
      };
      proto.flip = function flip() {
        return this.out("-flip");
      };
      proto.flop = function flop() {
        return this.out("-flop");
      };
      proto.crop = function crop(w, h, x, y, percent) {
        if (this.inputIs("jpg")) {
          var index = this._in.indexOf("-size");
          if (~index) {
            this._in.splice(index, 2);
          }
        }
        return this.out("-crop", w + "x" + h + "+" + (x || 0) + "+" + (y || 0) + (percent ? "%" : ""));
      };
      proto.magnify = function magnify(factor) {
        return this.in("-magnify");
      };
      proto.minify = function minify() {
        return this.in("-minify");
      };
      proto.quality = function quality(val) {
        return this.in("-quality", val || 75);
      };
      proto.blur = function blur(radius, sigma) {
        return this.out("-blur", radius + (sigma ? "x" + sigma : ""));
      };
      proto.charcoal = function charcoal(factor) {
        return this.out("-charcoal", factor || 2);
      };
      proto.modulate = function modulate(b, s, h) {
        return this.out("-modulate", [b, s, h].join(","));
      };
      proto.antialias = function antialias(disable) {
        return false === disable ? this.out("+antialias") : this;
      };
      proto.bitdepth = function bitdepth(val) {
        return this.out("-depth", val);
      };
      proto.colors = function colors(val) {
        return this.out("-colors", val || 128);
      };
      proto.colorspace = function colorspace(val) {
        return this.out("-colorspace", val);
      };
      proto.comment = comment("-comment");
      proto.contrast = function contrast(mult) {
        var arg = (parseInt(mult, 10) || 0) > 0 ? "+contrast" : "-contrast";
        mult = Math.abs(mult) || 1;
        while (mult--) {
          this.out(arg);
        }
        return this;
      };
      proto.cycle = function cycle(amount) {
        return this.out("-cycle", amount || 2);
      };
      proto.despeckle = function despeckle() {
        return this.out("-despeckle");
      };
      proto.dither = function dither(on) {
        var sign = false === on ? "+" : "-";
        return this.out(sign + "dither");
      };
      proto.monochrome = function monochrome() {
        return this.out("-monochrome");
      };
      proto.edge = function edge(radius) {
        return this.out("-edge", radius || 1);
      };
      proto.emboss = function emboss(radius) {
        return this.out("-emboss", radius || 1);
      };
      proto.enhance = function enhance() {
        return this.out("-enhance");
      };
      proto.equalize = function equalize() {
        return this.out("-equalize");
      };
      proto.gamma = function gamma(r, g, b) {
        return this.out("-gamma", [r, g, b].join());
      };
      proto.implode = function implode(factor) {
        return this.out("-implode", factor || 1);
      };
      proto.label = comment("-label");
      var limits = ["disk", "file", "map", "memory", "pixels", "threads"];
      proto.limit = function limit(type, val) {
        type = type.toLowerCase();
        if (!~limits.indexOf(type)) {
          return this;
        }
        return this.out("-limit", type, val);
      };
      proto.median = function median(radius) {
        return this.out("-median", radius || 1);
      };
      proto.negative = function negative(grayscale) {
        var sign = grayscale ? "+" : "-";
        return this.out(sign + "negate");
      };
      var noises = [
        "uniform",
        "gaussian",
        "multiplicative",
        "impulse",
        "laplacian",
        "poisson"
      ];
      proto.noise = function noise(radius) {
        radius = String(radius).toLowerCase();
        var sign = ~noises.indexOf(radius) ? "+" : "-";
        return this.out(sign + "noise", radius);
      };
      proto.paint = function paint(radius) {
        return this.out("-paint", radius);
      };
      proto.raise = function raise(w, h) {
        return this.out("-raise", (w || 0) + "x" + (h || 0));
      };
      proto.lower = function lower(w, h) {
        return this.out("+raise", (w || 0) + "x" + (h || 0));
      };
      proto.region = function region(w, h, x, y) {
        w = w || 0;
        h = h || 0;
        x = x || 0;
        y = y || 0;
        return this.out("-region", w + "x" + h + "+" + x + "+" + y);
      };
      proto.roll = function roll(x, y) {
        x = ((x = parseInt(x, 10) || 0) >= 0 ? "+" : "") + x;
        y = ((y = parseInt(y, 10) || 0) >= 0 ? "+" : "") + y;
        return this.out("-roll", x + y);
      };
      proto.sharpen = function sharpen(radius, sigma) {
        sigma = sigma ? "x" + sigma : "";
        return this.out("-sharpen", radius + sigma);
      };
      proto.solarize = function solarize(factor) {
        return this.out("-solarize", (factor || 1) + "%");
      };
      proto.spread = function spread(amount) {
        return this.out("-spread", amount || 5);
      };
      proto.swirl = function swirl(degrees) {
        return this.out("-swirl", degrees || 180);
      };
      proto.type = function type(type) {
        return this.in("-type", type);
      };
      proto.trim = function trim() {
        return this.out("-trim");
      };
      proto.extent = function extent(w, h, options) {
        options = options || "";
        var geometry;
        if (w && h) {
          geometry = w + "x" + h + options;
        } else if (w && !h) {
          geometry = this._options.imageMagick ? w + options : w + "x" + options;
        } else if (!w && h) {
          geometry = "x" + h + options;
        }
        return this.out("-extent", geometry);
      };
      proto.gravity = function gravity(type) {
        if (!type || !~gravity.types.indexOf(type)) {
          type = "NorthWest";
        }
        return this.out("-gravity", type);
      };
      proto.gravity.types = [
        "NorthWest",
        "North",
        "NorthEast",
        "West",
        "Center",
        "East",
        "SouthWest",
        "South",
        "SouthEast"
      ];
      proto.flatten = function flatten() {
        return this.out("-flatten");
      };
      proto.background = function background(color) {
        return this.in("-background", color);
      };
    };
    function comment(arg) {
      return function(format) {
        format = String(format);
        format = "@" == format.charAt(0) ? format.substring(1) : format;
        return this.out(arg, '"' + format + '"');
      };
    }
  }
});

// node_modules/gm/lib/drawing.js
var require_drawing = __commonJS({
  "node_modules/gm/lib/drawing.js"(exports, module2) {
    var escape = require_utils().escape;
    module2.exports = function(proto) {
      proto.fill = function fill(color) {
        return this.out("-fill", color || "none");
      };
      proto.stroke = function stroke(color, width) {
        if (width) {
          this.strokeWidth(width);
        }
        return this.out("-stroke", color || "none");
      };
      proto.strokeWidth = function strokeWidth(width) {
        return this.out("-strokewidth", width);
      };
      proto.font = function font(font, size) {
        if (size) {
          this.fontSize(size);
        }
        return this.out("-font", font);
      };
      proto.fontSize = function fontSize(size) {
        return this.out("-pointsize", size);
      };
      proto.draw = function draw(args) {
        return this.out("-draw", [].slice.call(arguments).join(" "));
      };
      proto.drawPoint = function drawPoint(x, y) {
        return this.draw("point", x + "," + y);
      };
      proto.drawLine = function drawLine(x0, y0, x1, y1) {
        return this.draw("line", x0 + "," + y0, x1 + "," + y1);
      };
      proto.drawRectangle = function drawRectangle(x0, y0, x1, y1, wc, hc) {
        var shape = "rectangle", lastarg;
        if ("undefined" !== typeof wc) {
          shape = "roundRectangle";
          if ("undefined" === typeof hc) {
            hc = wc;
          }
          lastarg = wc + "," + hc;
        }
        return this.draw(shape, x0 + "," + y0, x1 + "," + y1, lastarg);
      };
      proto.drawArc = function drawArc(x0, y0, x1, y1, a0, a1) {
        return this.draw("arc", x0 + "," + y0, x1 + "," + y1, a0 + "," + a1);
      };
      proto.drawEllipse = function drawEllipse(x0, y0, rx, ry, a0, a1) {
        if (a0 == void 0)
          a0 = 0;
        if (a1 == void 0)
          a1 = 360;
        return this.draw("ellipse", x0 + "," + y0, rx + "," + ry, a0 + "," + a1);
      };
      proto.drawCircle = function drawCircle(x0, y0, x1, y1) {
        return this.draw("circle", x0 + "," + y0, x1 + "," + y1);
      };
      proto.drawPolyline = function drawPolyline() {
        return this.draw("polyline", formatPoints(arguments));
      };
      proto.drawPolygon = function drawPolygon() {
        return this.draw("polygon", formatPoints(arguments));
      };
      proto.drawBezier = function drawBezier() {
        return this.draw("bezier", formatPoints(arguments));
      };
      proto._gravities = [
        "northwest",
        "north",
        "northeast",
        "west",
        "center",
        "east",
        "southwest",
        "south",
        "southeast"
      ];
      proto.drawText = function drawText(x0, y0, text, gravity) {
        var gravity = String(gravity || "").toLowerCase(), arg = ["text " + x0 + "," + y0 + " " + escape(text)];
        if (~this._gravities.indexOf(gravity)) {
          arg.unshift("gravity", gravity);
        }
        return this.draw.apply(this, arg);
      };
      proto._drawProps = ["color", "matte"];
      proto.setDraw = function setDraw(prop, x, y, method) {
        prop = String(prop || "").toLowerCase();
        if (!~this._drawProps.indexOf(prop)) {
          return this;
        }
        return this.draw(prop, x + "," + y, method);
      };
    };
    function formatPoints(points) {
      var len = points.length, result = [], i = 0;
      for (; i < len; ++i) {
        result.push(points[i].join(","));
      }
      return result;
    }
  }
});

// node_modules/gm/lib/convenience/thumb.js
var require_thumb = __commonJS({
  "node_modules/gm/lib/convenience/thumb.js"(exports, module2) {
    module2.exports = function(proto) {
      proto.thumb = function thumb(w, h, name, quality, align, progressive, callback, opts) {
        var self2 = this, args = Array.prototype.slice.call(arguments);
        opts = args.pop();
        if (typeof opts === "function") {
          callback = opts;
          opts = "";
        } else {
          callback = args.pop();
        }
        w = args.shift();
        h = args.shift();
        name = args.shift();
        quality = args.shift() || 63;
        align = args.shift() || "topleft";
        var interlace = args.shift() ? "Line" : "None";
        self2.size(function(err, size) {
          if (err) {
            return callback.apply(self2, arguments);
          }
          w = parseInt(w, 10);
          h = parseInt(h, 10);
          var w1, h1;
          var xoffset = 0;
          var yoffset = 0;
          if (size.width < size.height) {
            w1 = w;
            h1 = Math.floor(size.height * (w / size.width));
            if (h1 < h) {
              w1 = Math.floor(w1 * ((h - h1) / h + 1));
              h1 = h;
            }
          } else if (size.width > size.height) {
            h1 = h;
            w1 = Math.floor(size.width * (h / size.height));
            if (w1 < w) {
              h1 = Math.floor(h1 * ((w - w1) / w + 1));
              w1 = w;
            }
          } else if (size.width == size.height) {
            var bigger = w > h ? w : h;
            w1 = bigger;
            h1 = bigger;
          }
          if (align == "center") {
            if (w < w1) {
              xoffset = (w1 - w) / 2;
            }
            if (h < h1) {
              yoffset = (h1 - h) / 2;
            }
          }
          self2.quality(quality).in("-size", w1 + "x" + h1).scale(w1, h1, opts).crop(w, h, xoffset, yoffset).interlace(interlace).noProfile().write(name, function() {
            callback.apply(self2, arguments);
          });
        });
        return self2;
      };
      proto.thumbExact = function() {
        var self2 = this, args = Array.prototype.slice.call(arguments);
        args.push("!");
        self2.thumb.apply(self2, args);
      };
    };
  }
});

// node_modules/array-parallel/index.js
var require_array_parallel = __commonJS({
  "node_modules/array-parallel/index.js"(exports, module2) {
    module2.exports = function parallel(fns, context, callback) {
      if (!callback) {
        if (typeof context === "function") {
          callback = context;
          context = null;
        } else {
          callback = noop;
        }
      }
      var pending = fns && fns.length;
      if (!pending)
        return callback(null, []);
      var finished = false;
      var results = new Array(pending);
      fns.forEach(context ? function(fn, i) {
        fn.call(context, maybeDone(i));
      } : function(fn, i) {
        fn(maybeDone(i));
      });
      function maybeDone(i) {
        return function(err, result) {
          if (finished)
            return;
          if (err) {
            callback(err, results);
            finished = true;
            return;
          }
          results[i] = result;
          if (!--pending)
            callback(null, results);
        };
      }
    };
    function noop() {
    }
  }
});

// node_modules/gm/lib/convenience/morph.js
var require_morph = __commonJS({
  "node_modules/gm/lib/convenience/morph.js"(exports, module2) {
    var fs2 = require("fs");
    var parallel = require_array_parallel();
    module2.exports = function(proto) {
      function noop() {
      }
      proto.morph = function morph(other, outname, callback) {
        if (!outname) {
          throw new Error("an output filename is required");
        }
        callback = (callback || noop).bind(this);
        var self2 = this;
        if (Array.isArray(other)) {
          other.forEach(function(img) {
            self2.out(img);
          });
          self2.out("-morph", other.length);
        } else {
          self2.out(other, "-morph", 1);
        }
        self2.write(outname, function(err, stdout, stderr, cmd) {
          if (err)
            return callback(err, stdout, stderr, cmd);
          fs2.exists(outname, function(exists) {
            if (exists)
              return callback(null, stdout, stderr, cmd);
            parallel([
              fs2.unlink.bind(fs2, outname + ".0"),
              fs2.unlink.bind(fs2, outname + ".2"),
              fs2.rename.bind(fs2, outname + ".1", outname)
            ], function(err2) {
              callback(err2, stdout, stderr, cmd);
            });
          });
        });
        return self2;
      };
    };
  }
});

// node_modules/gm/lib/convenience/sepia.js
var require_sepia = __commonJS({
  "node_modules/gm/lib/convenience/sepia.js"(exports, module2) {
    module2.exports = function(proto) {
      proto.sepia = function sepia() {
        return this.modulate(115, 0, 100).colorize(7, 21, 50);
      };
    };
  }
});

// node_modules/gm/lib/convenience/autoOrient.js
var require_autoOrient = __commonJS({
  "node_modules/gm/lib/convenience/autoOrient.js"(exports, module2) {
    module2.exports = function(proto) {
      var exifTransforms = {
        topleft: "",
        topright: ["-flop"],
        bottomright: ["-rotate", 180],
        bottomleft: ["-flip"],
        lefttop: ["-flip", "-rotate", 90],
        righttop: ["-rotate", 90],
        rightbottom: ["-flop", "-rotate", 90],
        leftbottom: ["-rotate", 270]
      };
      proto.autoOrient = function autoOrient() {
        if (this._options.nativeAutoOrient || this._options.imageMagick) {
          this.out("-auto-orient");
          return this;
        }
        this.preprocessor(function(callback) {
          this.orientation({ bufferStream: true }, function(err, orientation) {
            if (err)
              return callback(err);
            var transforms = exifTransforms[orientation.toLowerCase()];
            if (transforms) {
              var index = this._out.indexOf(transforms[0]);
              if (~index) {
                this._out.splice(index, transforms.length);
              }
              this._out.unshift.apply(this._out, transforms.concat("-page", "+0+0"));
            }
            callback();
          });
        });
        return this;
      };
    };
  }
});

// node_modules/gm/lib/convenience.js
var require_convenience = __commonJS({
  "node_modules/gm/lib/convenience.js"(exports, module2) {
    module2.exports = function(proto) {
      require_thumb()(proto);
      require_morph()(proto);
      require_sepia()(proto);
      require_autoOrient()(proto);
    };
  }
});

// node_modules/pseudomap/pseudomap.js
var require_pseudomap = __commonJS({
  "node_modules/pseudomap/pseudomap.js"(exports, module2) {
    var hasOwnProperty = Object.prototype.hasOwnProperty;
    module2.exports = PseudoMap;
    function PseudoMap(set2) {
      if (!(this instanceof PseudoMap))
        throw new TypeError("Constructor PseudoMap requires 'new'");
      this.clear();
      if (set2) {
        if (set2 instanceof PseudoMap || typeof Map === "function" && set2 instanceof Map)
          set2.forEach(function(value, key) {
            this.set(key, value);
          }, this);
        else if (Array.isArray(set2))
          set2.forEach(function(kv) {
            this.set(kv[0], kv[1]);
          }, this);
        else
          throw new TypeError("invalid argument");
      }
    }
    PseudoMap.prototype.forEach = function(fn, thisp) {
      thisp = thisp || this;
      Object.keys(this._data).forEach(function(k) {
        if (k !== "size")
          fn.call(thisp, this._data[k].value, this._data[k].key);
      }, this);
    };
    PseudoMap.prototype.has = function(k) {
      return !!find(this._data, k);
    };
    PseudoMap.prototype.get = function(k) {
      var res = find(this._data, k);
      return res && res.value;
    };
    PseudoMap.prototype.set = function(k, v) {
      set(this._data, k, v);
    };
    PseudoMap.prototype.delete = function(k) {
      var res = find(this._data, k);
      if (res) {
        delete this._data[res._index];
        this._data.size--;
      }
    };
    PseudoMap.prototype.clear = function() {
      var data = /* @__PURE__ */ Object.create(null);
      data.size = 0;
      Object.defineProperty(this, "_data", {
        value: data,
        enumerable: false,
        configurable: true,
        writable: false
      });
    };
    Object.defineProperty(PseudoMap.prototype, "size", {
      get: function() {
        return this._data.size;
      },
      set: function(n) {
      },
      enumerable: true,
      configurable: true
    });
    PseudoMap.prototype.values = PseudoMap.prototype.keys = PseudoMap.prototype.entries = function() {
      throw new Error("iterators are not implemented in this version");
    };
    function same(a, b) {
      return a === b || a !== a && b !== b;
    }
    function Entry(k, v, i) {
      this.key = k;
      this.value = v;
      this._index = i;
    }
    function find(data, k) {
      for (var i = 0, s = "_" + k, key = s; hasOwnProperty.call(data, key); key = s + i++) {
        if (same(data[key].key, k))
          return data[key];
      }
    }
    function set(data, k, v) {
      for (var i = 0, s = "_" + k, key = s; hasOwnProperty.call(data, key); key = s + i++) {
        if (same(data[key].key, k)) {
          data[key].value = v;
          return;
        }
      }
      data.size++;
      data[key] = new Entry(k, v, key);
    }
  }
});

// node_modules/pseudomap/map.js
var require_map = __commonJS({
  "node_modules/pseudomap/map.js"(exports, module2) {
    if (process.env.npm_package_name === "pseudomap" && process.env.npm_lifecycle_script === "test")
      process.env.TEST_PSEUDOMAP = "true";
    if (typeof Map === "function" && !process.env.TEST_PSEUDOMAP) {
      module2.exports = Map;
    } else {
      module2.exports = require_pseudomap();
    }
  }
});

// node_modules/gm/node_modules/yallist/yallist.js
var require_yallist = __commonJS({
  "node_modules/gm/node_modules/yallist/yallist.js"(exports, module2) {
    module2.exports = Yallist;
    Yallist.Node = Node;
    Yallist.create = Yallist;
    function Yallist(list) {
      var self2 = this;
      if (!(self2 instanceof Yallist)) {
        self2 = new Yallist();
      }
      self2.tail = null;
      self2.head = null;
      self2.length = 0;
      if (list && typeof list.forEach === "function") {
        list.forEach(function(item) {
          self2.push(item);
        });
      } else if (arguments.length > 0) {
        for (var i = 0, l = arguments.length; i < l; i++) {
          self2.push(arguments[i]);
        }
      }
      return self2;
    }
    Yallist.prototype.removeNode = function(node) {
      if (node.list !== this) {
        throw new Error("removing node which does not belong to this list");
      }
      var next = node.next;
      var prev = node.prev;
      if (next) {
        next.prev = prev;
      }
      if (prev) {
        prev.next = next;
      }
      if (node === this.head) {
        this.head = next;
      }
      if (node === this.tail) {
        this.tail = prev;
      }
      node.list.length--;
      node.next = null;
      node.prev = null;
      node.list = null;
    };
    Yallist.prototype.unshiftNode = function(node) {
      if (node === this.head) {
        return;
      }
      if (node.list) {
        node.list.removeNode(node);
      }
      var head = this.head;
      node.list = this;
      node.next = head;
      if (head) {
        head.prev = node;
      }
      this.head = node;
      if (!this.tail) {
        this.tail = node;
      }
      this.length++;
    };
    Yallist.prototype.pushNode = function(node) {
      if (node === this.tail) {
        return;
      }
      if (node.list) {
        node.list.removeNode(node);
      }
      var tail = this.tail;
      node.list = this;
      node.prev = tail;
      if (tail) {
        tail.next = node;
      }
      this.tail = node;
      if (!this.head) {
        this.head = node;
      }
      this.length++;
    };
    Yallist.prototype.push = function() {
      for (var i = 0, l = arguments.length; i < l; i++) {
        push(this, arguments[i]);
      }
      return this.length;
    };
    Yallist.prototype.unshift = function() {
      for (var i = 0, l = arguments.length; i < l; i++) {
        unshift(this, arguments[i]);
      }
      return this.length;
    };
    Yallist.prototype.pop = function() {
      if (!this.tail) {
        return void 0;
      }
      var res = this.tail.value;
      this.tail = this.tail.prev;
      if (this.tail) {
        this.tail.next = null;
      } else {
        this.head = null;
      }
      this.length--;
      return res;
    };
    Yallist.prototype.shift = function() {
      if (!this.head) {
        return void 0;
      }
      var res = this.head.value;
      this.head = this.head.next;
      if (this.head) {
        this.head.prev = null;
      } else {
        this.tail = null;
      }
      this.length--;
      return res;
    };
    Yallist.prototype.forEach = function(fn, thisp) {
      thisp = thisp || this;
      for (var walker = this.head, i = 0; walker !== null; i++) {
        fn.call(thisp, walker.value, i, this);
        walker = walker.next;
      }
    };
    Yallist.prototype.forEachReverse = function(fn, thisp) {
      thisp = thisp || this;
      for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {
        fn.call(thisp, walker.value, i, this);
        walker = walker.prev;
      }
    };
    Yallist.prototype.get = function(n) {
      for (var i = 0, walker = this.head; walker !== null && i < n; i++) {
        walker = walker.next;
      }
      if (i === n && walker !== null) {
        return walker.value;
      }
    };
    Yallist.prototype.getReverse = function(n) {
      for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {
        walker = walker.prev;
      }
      if (i === n && walker !== null) {
        return walker.value;
      }
    };
    Yallist.prototype.map = function(fn, thisp) {
      thisp = thisp || this;
      var res = new Yallist();
      for (var walker = this.head; walker !== null; ) {
        res.push(fn.call(thisp, walker.value, this));
        walker = walker.next;
      }
      return res;
    };
    Yallist.prototype.mapReverse = function(fn, thisp) {
      thisp = thisp || this;
      var res = new Yallist();
      for (var walker = this.tail; walker !== null; ) {
        res.push(fn.call(thisp, walker.value, this));
        walker = walker.prev;
      }
      return res;
    };
    Yallist.prototype.reduce = function(fn, initial) {
      var acc;
      var walker = this.head;
      if (arguments.length > 1) {
        acc = initial;
      } else if (this.head) {
        walker = this.head.next;
        acc = this.head.value;
      } else {
        throw new TypeError("Reduce of empty list with no initial value");
      }
      for (var i = 0; walker !== null; i++) {
        acc = fn(acc, walker.value, i);
        walker = walker.next;
      }
      return acc;
    };
    Yallist.prototype.reduceReverse = function(fn, initial) {
      var acc;
      var walker = this.tail;
      if (arguments.length > 1) {
        acc = initial;
      } else if (this.tail) {
        walker = this.tail.prev;
        acc = this.tail.value;
      } else {
        throw new TypeError("Reduce of empty list with no initial value");
      }
      for (var i = this.length - 1; walker !== null; i--) {
        acc = fn(acc, walker.value, i);
        walker = walker.prev;
      }
      return acc;
    };
    Yallist.prototype.toArray = function() {
      var arr = new Array(this.length);
      for (var i = 0, walker = this.head; walker !== null; i++) {
        arr[i] = walker.value;
        walker = walker.next;
      }
      return arr;
    };
    Yallist.prototype.toArrayReverse = function() {
      var arr = new Array(this.length);
      for (var i = 0, walker = this.tail; walker !== null; i++) {
        arr[i] = walker.value;
        walker = walker.prev;
      }
      return arr;
    };
    Yallist.prototype.slice = function(from, to) {
      to = to || this.length;
      if (to < 0) {
        to += this.length;
      }
      from = from || 0;
      if (from < 0) {
        from += this.length;
      }
      var ret = new Yallist();
      if (to < from || to < 0) {
        return ret;
      }
      if (from < 0) {
        from = 0;
      }
      if (to > this.length) {
        to = this.length;
      }
      for (var i = 0, walker = this.head; walker !== null && i < from; i++) {
        walker = walker.next;
      }
      for (; walker !== null && i < to; i++, walker = walker.next) {
        ret.push(walker.value);
      }
      return ret;
    };
    Yallist.prototype.sliceReverse = function(from, to) {
      to = to || this.length;
      if (to < 0) {
        to += this.length;
      }
      from = from || 0;
      if (from < 0) {
        from += this.length;
      }
      var ret = new Yallist();
      if (to < from || to < 0) {
        return ret;
      }
      if (from < 0) {
        from = 0;
      }
      if (to > this.length) {
        to = this.length;
      }
      for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {
        walker = walker.prev;
      }
      for (; walker !== null && i > from; i--, walker = walker.prev) {
        ret.push(walker.value);
      }
      return ret;
    };
    Yallist.prototype.reverse = function() {
      var head = this.head;
      var tail = this.tail;
      for (var walker = head; walker !== null; walker = walker.prev) {
        var p = walker.prev;
        walker.prev = walker.next;
        walker.next = p;
      }
      this.head = tail;
      this.tail = head;
      return this;
    };
    function push(self2, item) {
      self2.tail = new Node(item, self2.tail, null, self2);
      if (!self2.head) {
        self2.head = self2.tail;
      }
      self2.length++;
    }
    function unshift(self2, item) {
      self2.head = new Node(item, null, self2.head, self2);
      if (!self2.tail) {
        self2.tail = self2.head;
      }
      self2.length++;
    }
    function Node(value, prev, next, list) {
      if (!(this instanceof Node)) {
        return new Node(value, prev, next, list);
      }
      this.list = list;
      this.value = value;
      if (prev) {
        prev.next = this;
        this.prev = prev;
      } else {
        this.prev = null;
      }
      if (next) {
        next.prev = this;
        this.next = next;
      } else {
        this.next = null;
      }
    }
  }
});

// node_modules/gm/node_modules/lru-cache/index.js
var require_lru_cache = __commonJS({
  "node_modules/gm/node_modules/lru-cache/index.js"(exports, module2) {
    "use strict";
    module2.exports = LRUCache;
    var Map2 = require_map();
    var util2 = require("util");
    var Yallist = require_yallist();
    var hasSymbol = typeof Symbol === "function" && process.env._nodeLRUCacheForceNoSymbol !== "1";
    var makeSymbol;
    if (hasSymbol) {
      makeSymbol = function(key) {
        return Symbol(key);
      };
    } else {
      makeSymbol = function(key) {
        return "_" + key;
      };
    }
    var MAX = makeSymbol("max");
    var LENGTH = makeSymbol("length");
    var LENGTH_CALCULATOR = makeSymbol("lengthCalculator");
    var ALLOW_STALE = makeSymbol("allowStale");
    var MAX_AGE = makeSymbol("maxAge");
    var DISPOSE = makeSymbol("dispose");
    var NO_DISPOSE_ON_SET = makeSymbol("noDisposeOnSet");
    var LRU_LIST = makeSymbol("lruList");
    var CACHE = makeSymbol("cache");
    function naiveLength() {
      return 1;
    }
    function LRUCache(options) {
      if (!(this instanceof LRUCache)) {
        return new LRUCache(options);
      }
      if (typeof options === "number") {
        options = { max: options };
      }
      if (!options) {
        options = {};
      }
      var max = this[MAX] = options.max;
      if (!max || !(typeof max === "number") || max <= 0) {
        this[MAX] = Infinity;
      }
      var lc = options.length || naiveLength;
      if (typeof lc !== "function") {
        lc = naiveLength;
      }
      this[LENGTH_CALCULATOR] = lc;
      this[ALLOW_STALE] = options.stale || false;
      this[MAX_AGE] = options.maxAge || 0;
      this[DISPOSE] = options.dispose;
      this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false;
      this.reset();
    }
    Object.defineProperty(LRUCache.prototype, "max", {
      set: function(mL) {
        if (!mL || !(typeof mL === "number") || mL <= 0) {
          mL = Infinity;
        }
        this[MAX] = mL;
        trim(this);
      },
      get: function() {
        return this[MAX];
      },
      enumerable: true
    });
    Object.defineProperty(LRUCache.prototype, "allowStale", {
      set: function(allowStale) {
        this[ALLOW_STALE] = !!allowStale;
      },
      get: function() {
        return this[ALLOW_STALE];
      },
      enumerable: true
    });
    Object.defineProperty(LRUCache.prototype, "maxAge", {
      set: function(mA) {
        if (!mA || !(typeof mA === "number") || mA < 0) {
          mA = 0;
        }
        this[MAX_AGE] = mA;
        trim(this);
      },
      get: function() {
        return this[MAX_AGE];
      },
      enumerable: true
    });
    Object.defineProperty(LRUCache.prototype, "lengthCalculator", {
      set: function(lC) {
        if (typeof lC !== "function") {
          lC = naiveLength;
        }
        if (lC !== this[LENGTH_CALCULATOR]) {
          this[LENGTH_CALCULATOR] = lC;
          this[LENGTH] = 0;
          this[LRU_LIST].forEach(function(hit) {
            hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key);
            this[LENGTH] += hit.length;
          }, this);
        }
        trim(this);
      },
      get: function() {
        return this[LENGTH_CALCULATOR];
      },
      enumerable: true
    });
    Object.defineProperty(LRUCache.prototype, "length", {
      get: function() {
        return this[LENGTH];
      },
      enumerable: true
    });
    Object.defineProperty(LRUCache.prototype, "itemCount", {
      get: function() {
        return this[LRU_LIST].length;
      },
      enumerable: true
    });
    LRUCache.prototype.rforEach = function(fn, thisp) {
      thisp = thisp || this;
      for (var walker = this[LRU_LIST].tail; walker !== null; ) {
        var prev = walker.prev;
        forEachStep(this, fn, walker, thisp);
        walker = prev;
      }
    };
    function forEachStep(self2, fn, node, thisp) {
      var hit = node.value;
      if (isStale(self2, hit)) {
        del(self2, node);
        if (!self2[ALLOW_STALE]) {
          hit = void 0;
        }
      }
      if (hit) {
        fn.call(thisp, hit.value, hit.key, self2);
      }
    }
    LRUCache.prototype.forEach = function(fn, thisp) {
      thisp = thisp || this;
      for (var walker = this[LRU_LIST].head; walker !== null; ) {
        var next = walker.next;
        forEachStep(this, fn, walker, thisp);
        walker = next;
      }
    };
    LRUCache.prototype.keys = function() {
      return this[LRU_LIST].toArray().map(function(k) {
        return k.key;
      }, this);
    };
    LRUCache.prototype.values = function() {
      return this[LRU_LIST].toArray().map(function(k) {
        return k.value;
      }, this);
    };
    LRUCache.prototype.reset = function() {
      if (this[DISPOSE] && this[LRU_LIST] && this[LRU_LIST].length) {
        this[LRU_LIST].forEach(function(hit) {
          this[DISPOSE](hit.key, hit.value);
        }, this);
      }
      this[CACHE] = new Map2();
      this[LRU_LIST] = new Yallist();
      this[LENGTH] = 0;
    };
    LRUCache.prototype.dump = function() {
      return this[LRU_LIST].map(function(hit) {
        if (!isStale(this, hit)) {
          return {
            k: hit.key,
            v: hit.value,
            e: hit.now + (hit.maxAge || 0)
          };
        }
      }, this).toArray().filter(function(h) {
        return h;
      });
    };
    LRUCache.prototype.dumpLru = function() {
      return this[LRU_LIST];
    };
    LRUCache.prototype.inspect = function(n, opts) {
      var str = "LRUCache {";
      var extras = false;
      var as = this[ALLOW_STALE];
      if (as) {
        str += "\n  allowStale: true";
        extras = true;
      }
      var max = this[MAX];
      if (max && max !== Infinity) {
        if (extras) {
          str += ",";
        }
        str += "\n  max: " + util2.inspect(max, opts);
        extras = true;
      }
      var maxAge = this[MAX_AGE];
      if (maxAge) {
        if (extras) {
          str += ",";
        }
        str += "\n  maxAge: " + util2.inspect(maxAge, opts);
        extras = true;
      }
      var lc = this[LENGTH_CALCULATOR];
      if (lc && lc !== naiveLength) {
        if (extras) {
          str += ",";
        }
        str += "\n  length: " + util2.inspect(this[LENGTH], opts);
        extras = true;
      }
      var didFirst = false;
      this[LRU_LIST].forEach(function(item) {
        if (didFirst) {
          str += ",\n  ";
        } else {
          if (extras) {
            str += ",\n";
          }
          didFirst = true;
          str += "\n  ";
        }
        var key = util2.inspect(item.key).split("\n").join("\n  ");
        var val = { value: item.value };
        if (item.maxAge !== maxAge) {
          val.maxAge = item.maxAge;
        }
        if (lc !== naiveLength) {
          val.length = item.length;
        }
        if (isStale(this, item)) {
          val.stale = true;
        }
        val = util2.inspect(val, opts).split("\n").join("\n  ");
        str += key + " => " + val;
      });
      if (didFirst || extras) {
        str += "\n";
      }
      str += "}";
      return str;
    };
    LRUCache.prototype.set = function(key, value, maxAge) {
      maxAge = maxAge || this[MAX_AGE];
      var now = maxAge ? Date.now() : 0;
      var len = this[LENGTH_CALCULATOR](value, key);
      if (this[CACHE].has(key)) {
        if (len > this[MAX]) {
          del(this, this[CACHE].get(key));
          return false;
        }
        var node = this[CACHE].get(key);
        var item = node.value;
        if (this[DISPOSE]) {
          if (!this[NO_DISPOSE_ON_SET]) {
            this[DISPOSE](key, item.value);
          }
        }
        item.now = now;
        item.maxAge = maxAge;
        item.value = value;
        this[LENGTH] += len - item.length;
        item.length = len;
        this.get(key);
        trim(this);
        return true;
      }
      var hit = new Entry(key, value, len, now, maxAge);
      if (hit.length > this[MAX]) {
        if (this[DISPOSE]) {
          this[DISPOSE](key, value);
        }
        return false;
      }
      this[LENGTH] += hit.length;
      this[LRU_LIST].unshift(hit);
      this[CACHE].set(key, this[LRU_LIST].head);
      trim(this);
      return true;
    };
    LRUCache.prototype.has = function(key) {
      if (!this[CACHE].has(key))
        return false;
      var hit = this[CACHE].get(key).value;
      if (isStale(this, hit)) {
        return false;
      }
      return true;
    };
    LRUCache.prototype.get = function(key) {
      return get(this, key, true);
    };
    LRUCache.prototype.peek = function(key) {
      return get(this, key, false);
    };
    LRUCache.prototype.pop = function() {
      var node = this[LRU_LIST].tail;
      if (!node)
        return null;
      del(this, node);
      return node.value;
    };
    LRUCache.prototype.del = function(key) {
      del(this, this[CACHE].get(key));
    };
    LRUCache.prototype.load = function(arr) {
      this.reset();
      var now = Date.now();
      for (var l = arr.length - 1; l >= 0; l--) {
        var hit = arr[l];
        var expiresAt = hit.e || 0;
        if (expiresAt === 0) {
          this.set(hit.k, hit.v);
        } else {
          var maxAge = expiresAt - now;
          if (maxAge > 0) {
            this.set(hit.k, hit.v, maxAge);
          }
        }
      }
    };
    LRUCache.prototype.prune = function() {
      var self2 = this;
      this[CACHE].forEach(function(value, key) {
        get(self2, key, false);
      });
    };
    function get(self2, key, doUse) {
      var node = self2[CACHE].get(key);
      if (node) {
        var hit = node.value;
        if (isStale(self2, hit)) {
          del(self2, node);
          if (!self2[ALLOW_STALE])
            hit = void 0;
        } else {
          if (doUse) {
            self2[LRU_LIST].unshiftNode(node);
          }
        }
        if (hit)
          hit = hit.value;
      }
      return hit;
    }
    function isStale(self2, hit) {
      if (!hit || !hit.maxAge && !self2[MAX_AGE]) {
        return false;
      }
      var stale = false;
      var diff = Date.now() - hit.now;
      if (hit.maxAge) {
        stale = diff > hit.maxAge;
      } else {
        stale = self2[MAX_AGE] && diff > self2[MAX_AGE];
      }
      return stale;
    }
    function trim(self2) {
      if (self2[LENGTH] > self2[MAX]) {
        for (var walker = self2[LRU_LIST].tail; self2[LENGTH] > self2[MAX] && walker !== null; ) {
          var prev = walker.prev;
          del(self2, walker);
          walker = prev;
        }
      }
    }
    function del(self2, node) {
      if (node) {
        var hit = node.value;
        if (self2[DISPOSE]) {
          self2[DISPOSE](hit.key, hit.value);
        }
        self2[LENGTH] -= hit.length;
        self2[CACHE].delete(hit.key);
        self2[LRU_LIST].removeNode(node);
      }
    }
    function Entry(key, value, length, now, maxAge) {
      this.key = key;
      this.value = value;
      this.length = length;
      this.now = now;
      this.maxAge = maxAge || 0;
    }
  }
});

// node_modules/isexe/windows.js
var require_windows = __commonJS({
  "node_modules/isexe/windows.js"(exports, module2) {
    module2.exports = isexe;
    isexe.sync = sync;
    var fs2 = require("fs");
    function checkPathExt(path3, options) {
      var pathext = options.pathExt !== void 0 ? options.pathExt : process.env.PATHEXT;
      if (!pathext) {
        return true;
      }
      pathext = pathext.split(";");
      if (pathext.indexOf("") !== -1) {
        return true;
      }
      for (var i = 0; i < pathext.length; i++) {
        var p = pathext[i].toLowerCase();
        if (p && path3.substr(-p.length).toLowerCase() === p) {
          return true;
        }
      }
      return false;
    }
    function checkStat(stat, path3, options) {
      if (!stat.isSymbolicLink() && !stat.isFile()) {
        return false;
      }
      return checkPathExt(path3, options);
    }
    function isexe(path3, options, cb) {
      fs2.stat(path3, function(er, stat) {
        cb(er, er ? false : checkStat(stat, path3, options));
      });
    }
    function sync(path3, options) {
      return checkStat(fs2.statSync(path3), path3, options);
    }
  }
});

// node_modules/isexe/mode.js
var require_mode = __commonJS({
  "node_modules/isexe/mode.js"(exports, module2) {
    module2.exports = isexe;
    isexe.sync = sync;
    var fs2 = require("fs");
    function isexe(path3, options, cb) {
      fs2.stat(path3, function(er, stat) {
        cb(er, er ? false : checkStat(stat, options));
      });
    }
    function sync(path3, options) {
      return checkStat(fs2.statSync(path3), options);
    }
    function checkStat(stat, options) {
      return stat.isFile() && checkMode(stat, options);
    }
    function checkMode(stat, options) {
      var mod = stat.mode;
      var uid = stat.uid;
      var gid = stat.gid;
      var myUid = options.uid !== void 0 ? options.uid : process.getuid && process.getuid();
      var myGid = options.gid !== void 0 ? options.gid : process.getgid && process.getgid();
      var u = parseInt("100", 8);
      var g = parseInt("010", 8);
      var o = parseInt("001", 8);
      var ug = u | g;
      var ret = mod & o || mod & g && gid === myGid || mod & u && uid === myUid || mod & ug && myUid === 0;
      return ret;
    }
  }
});

// node_modules/isexe/index.js
var require_isexe = __commonJS({
  "node_modules/isexe/index.js"(exports, module2) {
    var fs2 = require("fs");
    var core;
    if (process.platform === "win32" || global.TESTING_WINDOWS) {
      core = require_windows();
    } else {
      core = require_mode();
    }
    module2.exports = isexe;
    isexe.sync = sync;
    function isexe(path3, options, cb) {
      if (typeof options === "function") {
        cb = options;
        options = {};
      }
      if (!cb) {
        if (typeof Promise !== "function") {
          throw new TypeError("callback not provided");
        }
        return new Promise(function(resolve2, reject) {
          isexe(path3, options || {}, function(er, is) {
            if (er) {
              reject(er);
            } else {
              resolve2(is);
            }
          });
        });
      }
      core(path3, options || {}, function(er, is) {
        if (er) {
          if (er.code === "EACCES" || options && options.ignoreErrors) {
            er = null;
            is = false;
          }
        }
        cb(er, is);
      });
    }
    function sync(path3, options) {
      try {
        return core.sync(path3, options || {});
      } catch (er) {
        if (options && options.ignoreErrors || er.code === "EACCES") {
          return false;
        } else {
          throw er;
        }
      }
    }
  }
});

// node_modules/gm/node_modules/which/which.js
var require_which = __commonJS({
  "node_modules/gm/node_modules/which/which.js"(exports, module2) {
    module2.exports = which;
    which.sync = whichSync;
    var isWindows = process.platform === "win32" || process.env.OSTYPE === "cygwin" || process.env.OSTYPE === "msys";
    var path3 = require("path");
    var COLON = isWindows ? ";" : ":";
    var isexe = require_isexe();
    function getNotFoundError(cmd) {
      var er = new Error("not found: " + cmd);
      er.code = "ENOENT";
      return er;
    }
    function getPathInfo(cmd, opt) {
      var colon = opt.colon || COLON;
      var pathEnv = opt.path || process.env.PATH || "";
      var pathExt = [""];
      pathEnv = pathEnv.split(colon);
      var pathExtExe = "";
      if (isWindows) {
        pathEnv.unshift(process.cwd());
        pathExtExe = opt.pathExt || process.env.PATHEXT || ".EXE;.CMD;.BAT;.COM";
        pathExt = pathExtExe.split(colon);
        if (cmd.indexOf(".") !== -1 && pathExt[0] !== "")
          pathExt.unshift("");
      }
      if (cmd.match(/\//) || isWindows && cmd.match(/\\/))
        pathEnv = [""];
      return {
        env: pathEnv,
        ext: pathExt,
        extExe: pathExtExe
      };
    }
    function which(cmd, opt, cb) {
      if (typeof opt === "function") {
        cb = opt;
        opt = {};
      }
      var info = getPathInfo(cmd, opt);
      var pathEnv = info.env;
      var pathExt = info.ext;
      var pathExtExe = info.extExe;
      var found = [];
      (function F(i, l) {
        if (i === l) {
          if (opt.all && found.length)
            return cb(null, found);
          else
            return cb(getNotFoundError(cmd));
        }
        var pathPart = pathEnv[i];
        if (pathPart.charAt(0) === '"' && pathPart.slice(-1) === '"')
          pathPart = pathPart.slice(1, -1);
        var p = path3.join(pathPart, cmd);
        if (!pathPart && /^\.[\\\/]/.test(cmd)) {
          p = cmd.slice(0, 2) + p;
        }
        ;
        (function E(ii, ll) {
          if (ii === ll)
            return F(i + 1, l);
          var ext = pathExt[ii];
          isexe(p + ext, { pathExt: pathExtExe }, function(er, is) {
            if (!er && is) {
              if (opt.all)
                found.push(p + ext);
              else
                return cb(null, p + ext);
            }
            return E(ii + 1, ll);
          });
        })(0, pathExt.length);
      })(0, pathEnv.length);
    }
    function whichSync(cmd, opt) {
      opt = opt || {};
      var info = getPathInfo(cmd, opt);
      var pathEnv = info.env;
      var pathExt = info.ext;
      var pathExtExe = info.extExe;
      var found = [];
      for (var i = 0, l = pathEnv.length; i < l; i++) {
        var pathPart = pathEnv[i];
        if (pathPart.charAt(0) === '"' && pathPart.slice(-1) === '"')
          pathPart = pathPart.slice(1, -1);
        var p = path3.join(pathPart, cmd);
        if (!pathPart && /^\.[\\\/]/.test(cmd)) {
          p = cmd.slice(0, 2) + p;
        }
        for (var j = 0, ll = pathExt.length; j < ll; j++) {
          var cur = p + pathExt[j];
          var is;
          try {
            is = isexe.sync(cur, { pathExt: pathExtExe });
            if (is) {
              if (opt.all)
                found.push(cur);
              else
                return cur;
            }
          } catch (ex) {
          }
        }
      }
      if (opt.all && found.length)
        return found;
      if (opt.nothrow)
        return null;
      throw getNotFoundError(cmd);
    }
  }
});

// node_modules/gm/node_modules/cross-spawn/lib/resolveCommand.js
var require_resolveCommand = __commonJS({
  "node_modules/gm/node_modules/cross-spawn/lib/resolveCommand.js"(exports, module2) {
    "use strict";
    var path3 = require("path");
    var which = require_which();
    var LRU = require_lru_cache();
    var commandCache = new LRU({ max: 50, maxAge: 30 * 1e3 });
    function resolveCommand(command, noExtension) {
      var resolved;
      noExtension = !!noExtension;
      resolved = commandCache.get(command + "!" + noExtension);
      if (commandCache.has(command)) {
        return commandCache.get(command);
      }
      try {
        resolved = !noExtension ? which.sync(command) : which.sync(command, { pathExt: path3.delimiter + (process.env.PATHEXT || "") });
      } catch (e) {
      }
      commandCache.set(command + "!" + noExtension, resolved);
      return resolved;
    }
    module2.exports = resolveCommand;
  }
});

// node_modules/gm/node_modules/cross-spawn/lib/hasBrokenSpawn.js
var require_hasBrokenSpawn = __commonJS({
  "node_modules/gm/node_modules/cross-spawn/lib/hasBrokenSpawn.js"(exports, module2) {
    "use strict";
    module2.exports = function() {
      if (process.platform !== "win32") {
        return false;
      }
      var nodeVer = process.version.substr(1).split(".").map(function(num) {
        return parseInt(num, 10);
      });
      return nodeVer[0] === 0 && nodeVer[1] < 12;
    }();
  }
});

// node_modules/gm/node_modules/cross-spawn/lib/parse.js
var require_parse = __commonJS({
  "node_modules/gm/node_modules/cross-spawn/lib/parse.js"(exports, module2) {
    "use strict";
    var fs2 = require("fs");
    var LRU = require_lru_cache();
    var resolveCommand = require_resolveCommand();
    var hasBrokenSpawn = require_hasBrokenSpawn();
    var isWin = process.platform === "win32";
    var shebangCache = new LRU({ max: 50, maxAge: 30 * 1e3 });
    function readShebang(command) {
      var buffer;
      var fd;
      var match;
      var shebang;
      if (shebangCache.has(command)) {
        return shebangCache.get(command);
      }
      buffer = new Buffer(150);
      try {
        fd = fs2.openSync(command, "r");
        fs2.readSync(fd, buffer, 0, 150, 0);
        fs2.closeSync(fd);
      } catch (e) {
      }
      match = buffer.toString().trim().match(/#!(.+)/i);
      if (match) {
        shebang = match[1].replace(/\/usr\/bin\/env\s+/i, "");
      }
      shebangCache.set(command, shebang);
      return shebang;
    }
    function escapeArg(arg, quote) {
      arg = "" + arg;
      if (!quote) {
        arg = arg.replace(/([\(\)%!\^<>&|;,"'\s])/g, "^$1");
      } else {
        arg = arg.replace(/(\\*)"/g, '$1$1\\"');
        arg = arg.replace(/(\\*)$/, "$1$1");
        arg = '"' + arg + '"';
      }
      return arg;
    }
    function escapeCommand(command) {
      return /^[a-z0-9_-]+$/i.test(command) ? command : escapeArg(command, true);
    }
    function requiresShell(command) {
      return !/\.(?:com|exe)$/i.test(command);
    }
    function parse2(command, args, options) {
      var shebang;
      var applyQuotes;
      var file;
      var original;
      var shell;
      if (args && !Array.isArray(args)) {
        options = args;
        args = null;
      }
      args = args ? args.slice(0) : [];
      options = options || {};
      original = command;
      if (isWin) {
        file = resolveCommand(command);
        file = file || resolveCommand(command, true);
        shebang = file && readShebang(file);
        shell = options.shell || hasBrokenSpawn;
        if (shebang) {
          args.unshift(file);
          command = shebang;
          shell = shell || requiresShell(resolveCommand(shebang) || resolveCommand(shebang, true));
        } else {
          shell = shell || requiresShell(file);
        }
        if (shell) {
          applyQuotes = command !== "echo";
          command = escapeCommand(command);
          args = args.map(function(arg) {
            return escapeArg(arg, applyQuotes);
          });
          args = ["/s", "/c", '"' + command + (args.length ? " " + args.join(" ") : "") + '"'];
          command = process.env.comspec || "cmd.exe";
          options.windowsVerbatimArguments = true;
        }
      }
      return {
        command,
        args,
        options,
        file,
        original
      };
    }
    module2.exports = parse2;
  }
});

// node_modules/gm/node_modules/cross-spawn/lib/enoent.js
var require_enoent = __commonJS({
  "node_modules/gm/node_modules/cross-spawn/lib/enoent.js"(exports, module2) {
    "use strict";
    var isWin = process.platform === "win32";
    var resolveCommand = require_resolveCommand();
    var isNode10 = process.version.indexOf("v0.10.") === 0;
    function notFoundError(command, syscall) {
      var err;
      err = new Error(syscall + " " + command + " ENOENT");
      err.code = err.errno = "ENOENT";
      err.syscall = syscall + " " + command;
      return err;
    }
    function hookChildProcess(cp, parsed) {
      var originalEmit;
      if (!isWin) {
        return;
      }
      originalEmit = cp.emit;
      cp.emit = function(name, arg1) {
        var err;
        if (name === "exit") {
          err = verifyENOENT(arg1, parsed, "spawn");
          if (err) {
            return originalEmit.call(cp, "error", err);
          }
        }
        return originalEmit.apply(cp, arguments);
      };
    }
    function verifyENOENT(status, parsed) {
      if (isWin && status === 1 && !parsed.file) {
        return notFoundError(parsed.original, "spawn");
      }
      return null;
    }
    function verifyENOENTSync(status, parsed) {
      if (isWin && status === 1 && !parsed.file) {
        return notFoundError(parsed.original, "spawnSync");
      }
      if (isNode10 && status === -1) {
        parsed.file = isWin ? parsed.file : resolveCommand(parsed.original);
        if (!parsed.file) {
          return notFoundError(parsed.original, "spawnSync");
        }
      }
      return null;
    }
    module2.exports.hookChildProcess = hookChildProcess;
    module2.exports.verifyENOENT = verifyENOENT;
    module2.exports.verifyENOENTSync = verifyENOENTSync;
    module2.exports.notFoundError = notFoundError;
  }
});

// node_modules/gm/node_modules/cross-spawn/index.js
var require_cross_spawn = __commonJS({
  "node_modules/gm/node_modules/cross-spawn/index.js"(exports, module2) {
    "use strict";
    var cp = require("child_process");
    var parse2 = require_parse();
    var enoent = require_enoent();
    var cpSpawnSync = cp.spawnSync;
    function spawn(command, args, options) {
      var parsed;
      var spawned;
      parsed = parse2(command, args, options);
      spawned = cp.spawn(parsed.command, parsed.args, parsed.options);
      enoent.hookChildProcess(spawned, parsed);
      return spawned;
    }
    function spawnSync(command, args, options) {
      var parsed;
      var result;
      if (!cpSpawnSync) {
        try {
          cpSpawnSync = require("spawn-sync");
        } catch (ex) {
          throw new Error(
            "In order to use spawnSync on node 0.10 or older, you must install spawn-sync:\n\n  npm install spawn-sync --save"
          );
        }
      }
      parsed = parse2(command, args, options);
      result = cpSpawnSync(parsed.command, parsed.args, parsed.options);
      result.error = result.error || enoent.verifyENOENTSync(result.status, parsed);
      return result;
    }
    module2.exports = spawn;
    module2.exports.spawn = spawn;
    module2.exports.sync = spawnSync;
    module2.exports._parse = parse2;
    module2.exports._enoent = enoent;
  }
});

// node_modules/ms/index.js
var require_ms = __commonJS({
  "node_modules/ms/index.js"(exports, module2) {
    var s = 1e3;
    var m = s * 60;
    var h = m * 60;
    var d = h * 24;
    var w = d * 7;
    var y = d * 365.25;
    module2.exports = function(val, options) {
      options = options || {};
      var type = typeof val;
      if (type === "string" && val.length > 0) {
        return parse2(val);
      } else if (type === "number" && isFinite(val)) {
        return options.long ? fmtLong(val) : fmtShort(val);
      }
      throw new Error(
        "val is not a non-empty string or a valid number. val=" + JSON.stringify(val)
      );
    };
    function parse2(str) {
      str = String(str);
      if (str.length > 100) {
        return;
      }
      var match = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(
        str
      );
      if (!match) {
        return;
      }
      var n = parseFloat(match[1]);
      var type = (match[2] || "ms").toLowerCase();
      switch (type) {
        case "years":
        case "year":
        case "yrs":
        case "yr":
        case "y":
          return n * y;
        case "weeks":
        case "week":
        case "w":
          return n * w;
        case "days":
        case "day":
        case "d":
          return n * d;
        case "hours":
        case "hour":
        case "hrs":
        case "hr":
        case "h":
          return n * h;
        case "minutes":
        case "minute":
        case "mins":
        case "min":
        case "m":
          return n * m;
        case "seconds":
        case "second":
        case "secs":
        case "sec":
        case "s":
          return n * s;
        case "milliseconds":
        case "millisecond":
        case "msecs":
        case "msec":
        case "ms":
          return n;
        default:
          return void 0;
      }
    }
    function fmtShort(ms) {
      var msAbs = Math.abs(ms);
      if (msAbs >= d) {
        return Math.round(ms / d) + "d";
      }
      if (msAbs >= h) {
        return Math.round(ms / h) + "h";
      }
      if (msAbs >= m) {
        return Math.round(ms / m) + "m";
      }
      if (msAbs >= s) {
        return Math.round(ms / s) + "s";
      }
      return ms + "ms";
    }
    function fmtLong(ms) {
      var msAbs = Math.abs(ms);
      if (msAbs >= d) {
        return plural(ms, msAbs, d, "day");
      }
      if (msAbs >= h) {
        return plural(ms, msAbs, h, "hour");
      }
      if (msAbs >= m) {
        return plural(ms, msAbs, m, "minute");
      }
      if (msAbs >= s) {
        return plural(ms, msAbs, s, "second");
      }
      return ms + " ms";
    }
    function plural(ms, msAbs, n, name) {
      var isPlural = msAbs >= n * 1.5;
      return Math.round(ms / n) + " " + name + (isPlural ? "s" : "");
    }
  }
});

// node_modules/gm/node_modules/debug/src/common.js
var require_common = __commonJS({
  "node_modules/gm/node_modules/debug/src/common.js"(exports, module2) {
    "use strict";
    function setup(env) {
      createDebug.debug = createDebug;
      createDebug.default = createDebug;
      createDebug.coerce = coerce;
      createDebug.disable = disable;
      createDebug.enable = enable;
      createDebug.enabled = enabled;
      createDebug.humanize = require_ms();
      Object.keys(env).forEach(function(key) {
        createDebug[key] = env[key];
      });
      createDebug.instances = [];
      createDebug.names = [];
      createDebug.skips = [];
      createDebug.formatters = {};
      function selectColor(namespace) {
        var hash = 0;
        for (var i = 0; i < namespace.length; i++) {
          hash = (hash << 5) - hash + namespace.charCodeAt(i);
          hash |= 0;
        }
        return createDebug.colors[Math.abs(hash) % createDebug.colors.length];
      }
      createDebug.selectColor = selectColor;
      function createDebug(namespace) {
        var prevTime;
        function debug() {
          if (!debug.enabled) {
            return;
          }
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          var self2 = debug;
          var curr = Number(new Date());
          var ms = curr - (prevTime || curr);
          self2.diff = ms;
          self2.prev = prevTime;
          self2.curr = curr;
          prevTime = curr;
          args[0] = createDebug.coerce(args[0]);
          if (typeof args[0] !== "string") {
            args.unshift("%O");
          }
          var index = 0;
          args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {
            if (match === "%%") {
              return match;
            }
            index++;
            var formatter = createDebug.formatters[format];
            if (typeof formatter === "function") {
              var val = args[index];
              match = formatter.call(self2, val);
              args.splice(index, 1);
              index--;
            }
            return match;
          });
          createDebug.formatArgs.call(self2, args);
          var logFn = self2.log || createDebug.log;
          logFn.apply(self2, args);
        }
        debug.namespace = namespace;
        debug.enabled = createDebug.enabled(namespace);
        debug.useColors = createDebug.useColors();
        debug.color = selectColor(namespace);
        debug.destroy = destroy;
        debug.extend = extend;
        if (typeof createDebug.init === "function") {
          createDebug.init(debug);
        }
        createDebug.instances.push(debug);
        return debug;
      }
      function destroy() {
        var index = createDebug.instances.indexOf(this);
        if (index !== -1) {
          createDebug.instances.splice(index, 1);
          return true;
        }
        return false;
      }
      function extend(namespace, delimiter) {
        return createDebug(this.namespace + (typeof delimiter === "undefined" ? ":" : delimiter) + namespace);
      }
      function enable(namespaces) {
        createDebug.save(namespaces);
        createDebug.names = [];
        createDebug.skips = [];
        var i;
        var split = (typeof namespaces === "string" ? namespaces : "").split(/[\s,]+/);
        var len = split.length;
        for (i = 0; i < len; i++) {
          if (!split[i]) {
            continue;
          }
          namespaces = split[i].replace(/\*/g, ".*?");
          if (namespaces[0] === "-") {
            createDebug.skips.push(new RegExp("^" + namespaces.substr(1) + "$"));
          } else {
            createDebug.names.push(new RegExp("^" + namespaces + "$"));
          }
        }
        for (i = 0; i < createDebug.instances.length; i++) {
          var instance = createDebug.instances[i];
          instance.enabled = createDebug.enabled(instance.namespace);
        }
      }
      function disable() {
        createDebug.enable("");
      }
      function enabled(name) {
        if (name[name.length - 1] === "*") {
          return true;
        }
        var i;
        var len;
        for (i = 0, len = createDebug.skips.length; i < len; i++) {
          if (createDebug.skips[i].test(name)) {
            return false;
          }
        }
        for (i = 0, len = createDebug.names.length; i < len; i++) {
          if (createDebug.names[i].test(name)) {
            return true;
          }
        }
        return false;
      }
      function coerce(val) {
        if (val instanceof Error) {
          return val.stack || val.message;
        }
        return val;
      }
      createDebug.enable(createDebug.load());
      return createDebug;
    }
    module2.exports = setup;
  }
});

// node_modules/gm/node_modules/debug/src/browser.js
var require_browser = __commonJS({
  "node_modules/gm/node_modules/debug/src/browser.js"(exports, module2) {
    "use strict";
    function _typeof(obj) {
      if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
        _typeof = function _typeof2(obj2) {
          return typeof obj2;
        };
      } else {
        _typeof = function _typeof2(obj2) {
          return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
        };
      }
      return _typeof(obj);
    }
    exports.log = log;
    exports.formatArgs = formatArgs;
    exports.save = save;
    exports.load = load;
    exports.useColors = useColors;
    exports.storage = localstorage();
    exports.colors = ["#0000CC", "#0000FF", "#0033CC", "#0033FF", "#0066CC", "#0066FF", "#0099CC", "#0099FF", "#00CC00", "#00CC33", "#00CC66", "#00CC99", "#00CCCC", "#00CCFF", "#3300CC", "#3300FF", "#3333CC", "#3333FF", "#3366CC", "#3366FF", "#3399CC", "#3399FF", "#33CC00", "#33CC33", "#33CC66", "#33CC99", "#33CCCC", "#33CCFF", "#6600CC", "#6600FF", "#6633CC", "#6633FF", "#66CC00", "#66CC33", "#9900CC", "#9900FF", "#9933CC", "#9933FF", "#99CC00", "#99CC33", "#CC0000", "#CC0033", "#CC0066", "#CC0099", "#CC00CC", "#CC00FF", "#CC3300", "#CC3333", "#CC3366", "#CC3399", "#CC33CC", "#CC33FF", "#CC6600", "#CC6633", "#CC9900", "#CC9933", "#CCCC00", "#CCCC33", "#FF0000", "#FF0033", "#FF0066", "#FF0099", "#FF00CC", "#FF00FF", "#FF3300", "#FF3333", "#FF3366", "#FF3399", "#FF33CC", "#FF33FF", "#FF6600", "#FF6633", "#FF9900", "#FF9933", "#FFCC00", "#FFCC33"];
    function useColors() {
      if (typeof window !== "undefined" && window.process && (window.process.type === "renderer" || window.process.__nwjs)) {
        return true;
      }
      if (typeof navigator !== "undefined" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) {
        return false;
      }
      return typeof document !== "undefined" && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773
      typeof window !== "undefined" && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?
      // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
      typeof navigator !== "undefined" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker
      typeof navigator !== "undefined" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/);
    }
    function formatArgs(args) {
      args[0] = (this.useColors ? "%c" : "") + this.namespace + (this.useColors ? " %c" : " ") + args[0] + (this.useColors ? "%c " : " ") + "+" + module2.exports.humanize(this.diff);
      if (!this.useColors) {
        return;
      }
      var c = "color: " + this.color;
      args.splice(1, 0, c, "color: inherit");
      var index = 0;
      var lastC = 0;
      args[0].replace(/%[a-zA-Z%]/g, function(match) {
        if (match === "%%") {
          return;
        }
        index++;
        if (match === "%c") {
          lastC = index;
        }
      });
      args.splice(lastC, 0, c);
    }
    function log() {
      var _console;
      return (typeof console === "undefined" ? "undefined" : _typeof(console)) === "object" && console.log && (_console = console).log.apply(_console, arguments);
    }
    function save(namespaces) {
      try {
        if (namespaces) {
          exports.storage.setItem("debug", namespaces);
        } else {
          exports.storage.removeItem("debug");
        }
      } catch (error) {
      }
    }
    function load() {
      var r;
      try {
        r = exports.storage.getItem("debug");
      } catch (error) {
      }
      if (!r && typeof process !== "undefined" && "env" in process) {
        r = process.env.DEBUG;
      }
      return r;
    }
    function localstorage() {
      try {
        return localStorage;
      } catch (error) {
      }
    }
    module2.exports = require_common()(exports);
    var formatters = module2.exports.formatters;
    formatters.j = function(v) {
      try {
        return JSON.stringify(v);
      } catch (error) {
        return "[UnexpectedJSONParseError]: " + error.message;
      }
    };
  }
});

// node_modules/array-series/index.js
var require_array_series = __commonJS({
  "node_modules/array-series/index.js"(exports, module2) {
    module2.exports = function series(fns, context, callback) {
      if (!callback) {
        if (typeof context === "function") {
          callback = context;
          context = null;
        } else {
          callback = noop;
        }
      }
      if (!(fns && fns.length))
        return callback();
      fns = fns.slice(0);
      var call = context ? function() {
        fns.length ? fns.shift().call(context, next) : callback();
      } : function() {
        fns.length ? fns.shift()(next) : callback();
      };
      call();
      function next(err) {
        err ? callback(err) : call();
      }
    };
    function noop() {
    }
  }
});

// node_modules/gm/lib/command.js
var require_command = __commonJS({
  "node_modules/gm/lib/command.js"(exports, module2) {
    var spawn = require_cross_spawn();
    var utils = require_utils();
    var debug = require_browser()("gm");
    var series = require_array_series();
    var PassThrough = require("stream").PassThrough;
    var noBufferConcat = "gm v1.9.0+ required node v0.8+. Please update your version of node, downgrade gm < 1.9, or do not use `bufferStream`.";
    module2.exports = function(proto) {
      function args(prop) {
        return function args2() {
          var len = arguments.length;
          var a = [];
          var i = 0;
          for (; i < len; ++i) {
            a.push(arguments[i]);
          }
          this[prop] = this[prop].concat(a);
          return this;
        };
      }
      function streamToUnemptyBuffer(stream2, callback) {
        var done = false;
        var buffers = [];
        stream2.on("data", function(data) {
          buffers.push(data);
        });
        stream2.on("end", function() {
          if (done)
            return;
          done = true;
          let result = Buffer.concat(buffers);
          buffers = null;
          if (result.length === 0) {
            const err = new Error("Stream yields empty buffer");
            callback(err, null);
          } else {
            callback(null, result);
          }
        });
        stream2.on("error", function(err) {
          done = true;
          buffers = null;
          callback(err);
        });
      }
      proto.in = args("_in");
      proto.out = args("_out");
      proto._preprocessor = [];
      proto.preprocessor = args("_preprocessor");
      proto.write = function write(name, callback) {
        if (!callback)
          callback = name, name = null;
        if ("function" !== typeof callback) {
          throw new TypeError("gm().write() expects a callback function");
        }
        if (!name) {
          return callback(TypeError("gm().write() expects a filename when writing new files"));
        }
        this.outname = name;
        var self2 = this;
        this._preprocess(function(err) {
          if (err)
            return callback(err);
          self2._spawn(self2.args(), true, callback);
        });
      };
      proto.stream = function stream2(format, callback) {
        if (!callback && typeof format === "function") {
          callback = format;
          format = null;
        }
        var throughStream;
        if ("function" !== typeof callback) {
          throughStream = new PassThrough();
          callback = function(err, stdout, stderr) {
            if (err)
              throughStream.emit("error", err);
            else
              stdout.pipe(throughStream);
          };
        }
        if (format) {
          format = format.split(".").pop();
          this.outname = format + ":-";
        }
        var self2 = this;
        this._preprocess(function(err) {
          if (err)
            return callback(err);
          return self2._spawn(self2.args(), false, callback);
        });
        return throughStream || this;
      };
      proto.toBuffer = function toBuffer(format, callback) {
        if (!callback)
          callback = format, format = null;
        if ("function" !== typeof callback) {
          throw new Error("gm().toBuffer() expects a callback.");
        }
        return this.stream(format, function(err, stdout) {
          if (err)
            return callback(err);
          streamToUnemptyBuffer(stdout, callback);
        });
      };
      proto._preprocess = function _preprocess(callback) {
        series(this._preprocessor, this, callback);
      };
      proto._exec = function _exec(args2, callback) {
        return this._spawn(args2, true, callback);
      };
      proto._spawn = function _spawn(args2, bufferOutput, callback) {
        var appPath = this._options.appPath || "";
        var bin;
        switch (this._options.imageMagick) {
          case true:
            bin = args2.shift();
            break;
          case "7+":
            bin = "magick";
            break;
          default:
            bin = "gm";
            break;
        }
        bin = appPath + bin;
        var cmd = bin + " " + args2.map(utils.escape).join(" "), self2 = this, proc, err, timeout = parseInt(this._options.timeout), disposers = this._options.disposers, timeoutId;
        debug(cmd);
        if (args2.indexOf("-minify") > -1 && this._options.imageMagick) {
          return cb(new Error("imageMagick does not support minify, use -scale or -sample. Alternatively, use graphicsMagick"));
        }
        try {
          proc = spawn(bin, args2);
        } catch (e) {
          return cb(e);
        }
        proc.stdin.once("error", cb);
        proc.on("error", function(err2) {
          if (err2.code === "ENOENT") {
            cb(new Error("Could not execute GraphicsMagick/ImageMagick: " + cmd + " this most likely means the gm/convert binaries can't be found"));
          } else {
            cb(err2);
          }
        });
        if (timeout) {
          timeoutId = setTimeout(function() {
            dispose("gm() resulted in a timeout.");
          }, timeout);
        }
        if (disposers) {
          disposers.forEach(function(disposer) {
            disposer.events.forEach(function(event) {
              disposer.emitter.on(event, dispose);
            });
          });
        }
        if (self2.sourceBuffer) {
          proc.stdin.write(this.sourceBuffer);
          proc.stdin.end();
        } else if (self2.sourceStream) {
          if (!self2.sourceStream.readable) {
            return cb(new Error("gm().stream() or gm().write() with a non-readable stream."));
          }
          self2.sourceStream.pipe(proc.stdin);
          if (self2.bufferStream && !this._buffering) {
            if (!Buffer.concat) {
              throw new Error(noBufferConcat);
            }
            self2._buffering = true;
            streamToUnemptyBuffer(self2.sourceStream, function(err2, buffer) {
              self2.sourceBuffer = buffer;
              self2.sourceStream = null;
            });
          }
        }
        if (bufferOutput) {
          var stdout = "", stderr = "", onOut, onErr, onExit;
          proc.stdout.on("data", onOut = function(data) {
            stdout += data;
          });
          proc.stderr.on("data", onErr = function(data) {
            stderr += data;
          });
          proc.on("close", onExit = function(code, signal) {
            let err2;
            if (code !== 0 || signal !== null) {
              err2 = new Error("Command failed: " + stderr);
              err2.code = code;
              err2.signal = signal;
            }
            ;
            cb(err2, stdout, stderr, cmd);
            stdout = stderr = onOut = onErr = onExit = null;
          });
        } else {
          cb(null, proc.stdout, proc.stderr, cmd);
        }
        return self2;
        function cb(err2, stdout2, stderr2, cmd2) {
          if (cb.called)
            return;
          if (timeoutId)
            clearTimeout(timeoutId);
          cb.called = 1;
          if (args2[0] !== "identify" && bin !== "identify") {
            self2._in = [];
            self2._out = [];
          }
          callback.call(self2, err2, stdout2, stderr2, cmd2);
        }
        function dispose(msg) {
          const message = msg ? msg : "gm() was disposed";
          const err2 = new Error(message);
          cb(err2);
          if (proc.exitCode === null) {
            proc.stdin.pause();
            proc.kill();
          }
        }
      };
      proto.args = function args2() {
        var outname = this.outname || "-";
        if (this._outputFormat)
          outname = this._outputFormat + ":" + outname;
        return [].concat(
          this._subCommand,
          this._in,
          this.src(),
          this._out,
          outname
        ).filter(Boolean);
      };
      proto.addSrcFormatter = function addSrcFormatter(formatter) {
        if ("function" != typeof formatter)
          throw new TypeError("sourceFormatter must be a function");
        this._sourceFormatters || (this._sourceFormatters = []);
        this._sourceFormatters.push(formatter);
        return this;
      };
      proto.src = function src() {
        var arr = [];
        for (var i = 0; i < this._sourceFormatters.length; ++i) {
          this._sourceFormatters[i].call(this, arr);
        }
        return arr;
      };
      var types = {
        "jpg": /\.jpe?g$/i,
        "png": /\.png$/i,
        "gif": /\.gif$/i,
        "tiff": /\.tif?f$/i,
        "bmp": /(?:\.bmp|\.dib)$/i,
        "webp": /\.webp$/i
      };
      types.jpeg = types.jpg;
      types.tif = types.tiff;
      types.dib = types.bmp;
      proto.inputIs = function inputIs(type) {
        if (!type)
          return false;
        var rgx = types[type];
        if (!rgx) {
          if ("." !== type[0])
            type = "." + type;
          rgx = new RegExp("\\" + type + "$", "i");
        }
        return rgx.test(this.source);
      };
      proto.addDisposer = function addDisposer(emitter, events) {
        if (!this._options.disposers) {
          this._options.disposers = [];
        }
        this._options.disposers.push({
          emitter,
          events
        });
        return this;
      };
    };
  }
});

// node_modules/gm/lib/compare.js
var require_compare = __commonJS({
  "node_modules/gm/lib/compare.js"(exports, module2) {
    var spawn = require_cross_spawn();
    var debug = require_browser()("gm");
    var utils = require_utils();
    module2.exports = exports = function(proto) {
      function compare(orig, compareTo, options, cb) {
        var isImageMagick = this._options && this._options.imageMagick;
        var appPath = this._options && this._options.appPath || "";
        var args = ["-metric", "mse", orig, compareTo];
        let bin;
        switch (isImageMagick) {
          case true:
            bin = "compare";
            break;
          case "7+":
            bin = "magick";
            args.unshift("compare");
            break;
          default:
            bin = "gm";
            args.unshift("compare");
            break;
        }
        bin = appPath + bin;
        var tolerance = 0.4;
        if (typeof options === "object") {
          if (options.highlightColor && options.highlightColor.indexOf('"') < 0) {
            options.highlightColor = '"' + options.highlightColor + '"';
          }
          if (options.file) {
            if (typeof options.file !== "string") {
              throw new TypeError("The path for the diff output is invalid");
            }
            if (options.highlightColor) {
              args.push("-highlight-color");
              args.push(options.highlightColor);
            }
            if (options.highlightStyle) {
              args.push("-highlight-style");
              args.push(options.highlightStyle);
            }
            if (!isImageMagick) {
              args.push("-file");
            }
            args.push(options.file);
          }
          if (typeof options.tolerance != "undefined") {
            if (typeof options.tolerance !== "number") {
              throw new TypeError("The tolerance value should be a number");
            }
            tolerance = options.tolerance;
          }
        } else {
          if (isImageMagick) {
            args.push("null:");
          }
          if (typeof options == "function") {
            cb = options;
          } else {
            tolerance = options;
          }
        }
        var cmd = bin + " " + args.map(utils.escape).join(" ");
        debug(cmd);
        var proc = spawn(bin, args);
        var stdout = "";
        var stderr = "";
        proc.stdout.on("data", function(data) {
          stdout += data;
        });
        proc.stderr.on("data", function(data) {
          stderr += data;
        });
        proc.on("close", function(code) {
          if (isImageMagick) {
            if (code === 0) {
              return cb(null, 0 <= tolerance, 0, stdout);
            } else if (code === 1) {
              stdout = stderr;
            } else {
              return cb(stderr);
            }
          } else {
            if (code !== 0) {
              return cb(stderr);
            }
          }
          var regex = isImageMagick ? /\((\d+\.?[\d\-\+e]*)\)/m : /Total: (\d+\.?\d*)/m;
          var match = regex.exec(stdout);
          if (!match) {
            return cb(new Error("Unable to parse output.\nGot " + stdout));
          }
          var equality = parseFloat(match[1]);
          cb(null, equality <= tolerance, equality, stdout, orig, compareTo);
        });
      }
      if (proto) {
        proto.compare = compare;
      }
      return compare;
    };
  }
});

// node_modules/gm/lib/composite.js
var require_composite = __commonJS({
  "node_modules/gm/lib/composite.js"(exports, module2) {
    module2.exports = exports = function(proto) {
      proto.composite = function(other, mask) {
        this.in(other);
        if (typeof mask !== "undefined")
          this.out(mask);
        this.subCommand("composite");
        return this;
      };
    };
  }
});

// node_modules/gm/lib/montage.js
var require_montage = __commonJS({
  "node_modules/gm/lib/montage.js"(exports, module2) {
    module2.exports = exports = function(proto) {
      proto.montage = function(other) {
        this.in(other);
        this.subCommand("montage");
        return this;
      };
    };
  }
});

// node_modules/gm/package.json
var require_package = __commonJS({
  "node_modules/gm/package.json"(exports, module2) {
    module2.exports = {
      name: "gm",
      description: "GraphicsMagick and ImageMagick for node.js",
      version: "1.25.0",
      author: "Aaron Heckmann <aaron.heckmann+github@gmail.com>",
      keywords: [
        "graphics",
        "magick",
        "image",
        "graphicsmagick",
        "imagemagick",
        "gm",
        "convert",
        "identify",
        "compare"
      ],
      engines: {
        node: ">=14"
      },
      bugs: {
        url: "http://github.com/aheckmann/gm/issues"
      },
      licenses: [
        {
          type: "MIT",
          url: "http://www.opensource.org/licenses/mit-license.php"
        }
      ],
      main: "./index",
      scripts: {
        security: "npm audit",
        test: "npm run security && npm run test-integration",
        "test-integration": "node test/ --integration",
        "test-unit": "node test/"
      },
      repository: {
        type: "git",
        url: "https://github.com/aheckmann/gm.git"
      },
      license: "MIT",
      devDependencies: {
        async: "~0.9.0"
      },
      dependencies: {
        "array-parallel": "~0.1.3",
        "array-series": "~0.1.5",
        "cross-spawn": "^4.0.0",
        debug: "^3.1.0"
      }
    };
  }
});

// node_modules/gm/index.js
var require_gm = __commonJS({
  "node_modules/gm/index.js"(exports, module2) {
    var Stream = require("stream").Stream;
    var EventEmitter = require("events").EventEmitter;
    var util2 = require("util");
    util2.inherits(gm2, EventEmitter);
    function gm2(source, height, color) {
      var width;
      if (!(this instanceof gm2)) {
        return new gm2(source, height, color);
      }
      EventEmitter.call(this);
      this._options = {};
      this.options(this.__proto__._options);
      this.data = {};
      this._in = [];
      this._out = [];
      this._outputFormat = null;
      this._subCommand = "convert";
      if (source instanceof Stream) {
        this.sourceStream = source;
        source = height || "unknown.jpg";
      } else if (Buffer.isBuffer(source)) {
        this.sourceBuffer = source;
        source = height || "unknown.jpg";
      } else if (height) {
        width = source;
        source = "";
        this.in("-size", width + "x" + height);
        if (color) {
          this.in("xc:" + color);
        }
      }
      if (typeof source === "string") {
        var frames = source.match(/(\[.+\])$/);
        if (frames) {
          this.sourceFrames = source.substr(frames.index, frames[0].length);
          source = source.substr(0, frames.index);
        }
      }
      this.source = source;
      this.addSrcFormatter(function(src) {
        var inputFromStdin = this.sourceStream || this.sourceBuffer;
        var ret = inputFromStdin ? "-" : this.source;
        const fileNameProvied = typeof height === "string";
        if (inputFromStdin && fileNameProvied && /\.ico$/i.test(this.source)) {
          ret = `ico:-`;
        }
        if (ret && this.sourceFrames)
          ret += this.sourceFrames;
        src.length = 0;
        src[0] = ret;
      });
    }
    var parent = gm2;
    gm2.subClass = function subClass(options) {
      function gm3(source, height, color) {
        if (!(this instanceof parent)) {
          return new gm3(source, height, color);
        }
        parent.call(this, source, height, color);
      }
      gm3.prototype.__proto__ = parent.prototype;
      gm3.prototype._options = {};
      gm3.prototype.options(options);
      return gm3;
    };
    require_options()(gm2.prototype);
    require_getters()(gm2);
    require_args()(gm2.prototype);
    require_drawing()(gm2.prototype);
    require_convenience()(gm2.prototype);
    require_command()(gm2.prototype);
    require_compare()(gm2.prototype);
    require_composite()(gm2.prototype);
    require_montage()(gm2.prototype);
    module2.exports = exports = gm2;
    module2.exports.utils = require_utils();
    module2.exports.compare = require_compare()();
    module2.exports.version = require_package().version;
  }
});

// node_modules/quick-format-unescaped/index.js
var require_quick_format_unescaped = __commonJS({
  "node_modules/quick-format-unescaped/index.js"(exports, module2) {
    "use strict";
    function tryStringify(o) {
      try {
        return JSON.stringify(o);
      } catch (e) {
        return '"[Circular]"';
      }
    }
    module2.exports = format;
    function format(f, args, opts) {
      var ss = opts && opts.stringify || tryStringify;
      var offset = 1;
      if (typeof f === "object" && f !== null) {
        var len = args.length + offset;
        if (len === 1)
          return f;
        var objects = new Array(len);
        objects[0] = ss(f);
        for (var index = 1; index < len; index++) {
          objects[index] = ss(args[index]);
        }
        return objects.join(" ");
      }
      if (typeof f !== "string") {
        return f;
      }
      var argLen = args.length;
      if (argLen === 0)
        return f;
      var str = "";
      var a = 1 - offset;
      var lastPos = -1;
      var flen = f && f.length || 0;
      for (var i = 0; i < flen; ) {
        if (f.charCodeAt(i) === 37 && i + 1 < flen) {
          lastPos = lastPos > -1 ? lastPos : 0;
          switch (f.charCodeAt(i + 1)) {
            case 100:
            case 102:
              if (a >= argLen)
                break;
              if (args[a] == null)
                break;
              if (lastPos < i)
                str += f.slice(lastPos, i);
              str += Number(args[a]);
              lastPos = i + 2;
              i++;
              break;
            case 105:
              if (a >= argLen)
                break;
              if (args[a] == null)
                break;
              if (lastPos < i)
                str += f.slice(lastPos, i);
              str += Math.floor(Number(args[a]));
              lastPos = i + 2;
              i++;
              break;
            case 79:
            case 111:
            case 106:
              if (a >= argLen)
                break;
              if (args[a] === void 0)
                break;
              if (lastPos < i)
                str += f.slice(lastPos, i);
              var type = typeof args[a];
              if (type === "string") {
                str += "'" + args[a] + "'";
                lastPos = i + 2;
                i++;
                break;
              }
              if (type === "function") {
                str += args[a].name || "<anonymous>";
                lastPos = i + 2;
                i++;
                break;
              }
              str += ss(args[a]);
              lastPos = i + 2;
              i++;
              break;
            case 115:
              if (a >= argLen)
                break;
              if (lastPos < i)
                str += f.slice(lastPos, i);
              str += String(args[a]);
              lastPos = i + 2;
              i++;
              break;
            case 37:
              if (lastPos < i)
                str += f.slice(lastPos, i);
              str += "%";
              lastPos = i + 2;
              i++;
              a--;
              break;
          }
          ++a;
        }
        ++i;
      }
      if (lastPos === -1)
        return f;
      else if (lastPos < flen) {
        str += f.slice(lastPos);
      }
      return str;
    }
  }
});

// node_modules/pino/browser.js
var require_browser2 = __commonJS({
  "node_modules/pino/browser.js"(exports, module2) {
    "use strict";
    var format = require_quick_format_unescaped();
    module2.exports = pino2;
    var _console = pfGlobalThisOrFallback().console || {};
    var stdSerializers = {
      mapHttpRequest: mock,
      mapHttpResponse: mock,
      wrapRequestSerializer: passthrough,
      wrapResponseSerializer: passthrough,
      wrapErrorSerializer: passthrough,
      req: mock,
      res: mock,
      err: asErrValue,
      errWithCause: asErrValue
    };
    function shouldSerialize(serialize, serializers) {
      if (Array.isArray(serialize)) {
        const hasToFilter = serialize.filter(function(k) {
          return k !== "!stdSerializers.err";
        });
        return hasToFilter;
      } else if (serialize === true) {
        return Object.keys(serializers);
      }
      return false;
    }
    function pino2(opts) {
      opts = opts || {};
      opts.browser = opts.browser || {};
      const transmit2 = opts.browser.transmit;
      if (transmit2 && typeof transmit2.send !== "function") {
        throw Error("pino: transmit option must have a send function");
      }
      const proto = opts.browser.write || _console;
      if (opts.browser.write)
        opts.browser.asObject = true;
      const serializers = opts.serializers || {};
      const serialize = shouldSerialize(opts.browser.serialize, serializers);
      let stdErrSerialize = opts.browser.serialize;
      if (Array.isArray(opts.browser.serialize) && opts.browser.serialize.indexOf("!stdSerializers.err") > -1)
        stdErrSerialize = false;
      const customLevels = Object.keys(opts.customLevels || {});
      const levels = ["error", "fatal", "warn", "info", "debug", "trace"].concat(customLevels);
      if (typeof proto === "function") {
        levels.forEach(function(level2) {
          proto[level2] = proto;
        });
      }
      if (opts.enabled === false || opts.browser.disabled)
        opts.level = "silent";
      const level = opts.level || "info";
      const logger2 = Object.create(proto);
      if (!logger2.log)
        logger2.log = noop;
      Object.defineProperty(logger2, "levelVal", {
        get: getLevelVal
      });
      Object.defineProperty(logger2, "level", {
        get: getLevel,
        set: setLevel
      });
      const setOpts = {
        transmit: transmit2,
        serialize,
        asObject: opts.browser.asObject,
        levels,
        timestamp: getTimeFunction(opts)
      };
      logger2.levels = getLevels(opts);
      logger2.level = level;
      logger2.setMaxListeners = logger2.getMaxListeners = logger2.emit = logger2.addListener = logger2.on = logger2.prependListener = logger2.once = logger2.prependOnceListener = logger2.removeListener = logger2.removeAllListeners = logger2.listeners = logger2.listenerCount = logger2.eventNames = logger2.write = logger2.flush = noop;
      logger2.serializers = serializers;
      logger2._serialize = serialize;
      logger2._stdErrSerialize = stdErrSerialize;
      logger2.child = child;
      if (transmit2)
        logger2._logEvent = createLogEventShape();
      function getLevelVal() {
        return this.level === "silent" ? Infinity : this.levels.values[this.level];
      }
      function getLevel() {
        return this._level;
      }
      function setLevel(level2) {
        if (level2 !== "silent" && !this.levels.values[level2]) {
          throw Error("unknown level " + level2);
        }
        this._level = level2;
        set(setOpts, logger2, "error", "log");
        set(setOpts, logger2, "fatal", "error");
        set(setOpts, logger2, "warn", "error");
        set(setOpts, logger2, "info", "log");
        set(setOpts, logger2, "debug", "log");
        set(setOpts, logger2, "trace", "log");
        customLevels.forEach(function(level3) {
          set(setOpts, logger2, level3, "log");
        });
      }
      function child(bindings, childOptions) {
        if (!bindings) {
          throw new Error("missing bindings for child Pino");
        }
        childOptions = childOptions || {};
        if (serialize && bindings.serializers) {
          childOptions.serializers = bindings.serializers;
        }
        const childOptionsSerializers = childOptions.serializers;
        if (serialize && childOptionsSerializers) {
          var childSerializers = Object.assign({}, serializers, childOptionsSerializers);
          var childSerialize = opts.browser.serialize === true ? Object.keys(childSerializers) : serialize;
          delete bindings.serializers;
          applySerializers([bindings], childSerialize, childSerializers, this._stdErrSerialize);
        }
        function Child(parent) {
          this._childLevel = (parent._childLevel | 0) + 1;
          this.error = bind(parent, bindings, "error");
          this.fatal = bind(parent, bindings, "fatal");
          this.warn = bind(parent, bindings, "warn");
          this.info = bind(parent, bindings, "info");
          this.debug = bind(parent, bindings, "debug");
          this.trace = bind(parent, bindings, "trace");
          if (childSerializers) {
            this.serializers = childSerializers;
            this._serialize = childSerialize;
          }
          if (transmit2) {
            this._logEvent = createLogEventShape(
              [].concat(parent._logEvent.bindings, bindings)
            );
          }
        }
        Child.prototype = this;
        return new Child(this);
      }
      return logger2;
    }
    function getLevels(opts) {
      const customLevels = opts.customLevels || {};
      const values = Object.assign({}, pino2.levels.values, customLevels);
      const labels = Object.assign({}, pino2.levels.labels, invertObject(customLevels));
      return {
        values,
        labels
      };
    }
    function invertObject(obj) {
      const inverted = {};
      Object.keys(obj).forEach(function(key) {
        inverted[obj[key]] = key;
      });
      return inverted;
    }
    pino2.levels = {
      values: {
        fatal: 60,
        error: 50,
        warn: 40,
        info: 30,
        debug: 20,
        trace: 10
      },
      labels: {
        10: "trace",
        20: "debug",
        30: "info",
        40: "warn",
        50: "error",
        60: "fatal"
      }
    };
    pino2.stdSerializers = stdSerializers;
    pino2.stdTimeFunctions = Object.assign({}, { nullTime, epochTime, unixTime, isoTime });
    function set(opts, logger2, level, fallback) {
      const proto = Object.getPrototypeOf(logger2);
      logger2[level] = logger2.levelVal > logger2.levels.values[level] ? noop : proto[level] ? proto[level] : _console[level] || _console[fallback] || noop;
      wrap(opts, logger2, level);
    }
    function wrap(opts, logger2, level) {
      if (!opts.transmit && logger2[level] === noop)
        return;
      logger2[level] = function(write) {
        return function LOG() {
          const ts = opts.timestamp();
          const args = new Array(arguments.length);
          const proto = Object.getPrototypeOf && Object.getPrototypeOf(this) === _console ? _console : this;
          for (var i = 0; i < args.length; i++)
            args[i] = arguments[i];
          if (opts.serialize && !opts.asObject) {
            applySerializers(args, this._serialize, this.serializers, this._stdErrSerialize);
          }
          if (opts.asObject)
            write.call(proto, asObject(this, level, args, ts));
          else
            write.apply(proto, args);
          if (opts.transmit) {
            const transmitLevel = opts.transmit.level || logger2.level;
            const transmitValue = logger2.levels.values[transmitLevel];
            const methodValue = logger2.levels.values[level];
            if (methodValue < transmitValue)
              return;
            transmit(this, {
              ts,
              methodLevel: level,
              methodValue,
              transmitLevel,
              transmitValue: logger2.levels.values[opts.transmit.level || logger2.level],
              send: opts.transmit.send,
              val: logger2.levelVal
            }, args);
          }
        };
      }(logger2[level]);
    }
    function asObject(logger2, level, args, ts) {
      if (logger2._serialize)
        applySerializers(args, logger2._serialize, logger2.serializers, logger2._stdErrSerialize);
      const argsCloned = args.slice();
      let msg = argsCloned[0];
      const o = {};
      if (ts) {
        o.time = ts;
      }
      o.level = logger2.levels.values[level];
      let lvl = (logger2._childLevel | 0) + 1;
      if (lvl < 1)
        lvl = 1;
      if (msg !== null && typeof msg === "object") {
        while (lvl-- && typeof argsCloned[0] === "object") {
          Object.assign(o, argsCloned.shift());
        }
        msg = argsCloned.length ? format(argsCloned.shift(), argsCloned) : void 0;
      } else if (typeof msg === "string")
        msg = format(argsCloned.shift(), argsCloned);
      if (msg !== void 0)
        o.msg = msg;
      return o;
    }
    function applySerializers(args, serialize, serializers, stdErrSerialize) {
      for (const i in args) {
        if (stdErrSerialize && args[i] instanceof Error) {
          args[i] = pino2.stdSerializers.err(args[i]);
        } else if (typeof args[i] === "object" && !Array.isArray(args[i])) {
          for (const k in args[i]) {
            if (serialize && serialize.indexOf(k) > -1 && k in serializers) {
              args[i][k] = serializers[k](args[i][k]);
            }
          }
        }
      }
    }
    function bind(parent, bindings, level) {
      return function() {
        const args = new Array(1 + arguments.length);
        args[0] = bindings;
        for (var i = 1; i < args.length; i++) {
          args[i] = arguments[i - 1];
        }
        return parent[level].apply(this, args);
      };
    }
    function transmit(logger2, opts, args) {
      const send = opts.send;
      const ts = opts.ts;
      const methodLevel = opts.methodLevel;
      const methodValue = opts.methodValue;
      const val = opts.val;
      const bindings = logger2._logEvent.bindings;
      applySerializers(
        args,
        logger2._serialize || Object.keys(logger2.serializers),
        logger2.serializers,
        logger2._stdErrSerialize === void 0 ? true : logger2._stdErrSerialize
      );
      logger2._logEvent.ts = ts;
      logger2._logEvent.messages = args.filter(function(arg) {
        return bindings.indexOf(arg) === -1;
      });
      logger2._logEvent.level.label = methodLevel;
      logger2._logEvent.level.value = methodValue;
      send(methodLevel, logger2._logEvent, val);
      logger2._logEvent = createLogEventShape(bindings);
    }
    function createLogEventShape(bindings) {
      return {
        ts: 0,
        messages: [],
        bindings: bindings || [],
        level: { label: "", value: 0 }
      };
    }
    function asErrValue(err) {
      const obj = {
        type: err.constructor.name,
        msg: err.message,
        stack: err.stack
      };
      for (const key in err) {
        if (obj[key] === void 0) {
          obj[key] = err[key];
        }
      }
      return obj;
    }
    function getTimeFunction(opts) {
      if (typeof opts.timestamp === "function") {
        return opts.timestamp;
      }
      if (opts.timestamp === false) {
        return nullTime;
      }
      return epochTime;
    }
    function mock() {
      return {};
    }
    function passthrough(a) {
      return a;
    }
    function noop() {
    }
    function nullTime() {
      return false;
    }
    function epochTime() {
      return Date.now();
    }
    function unixTime() {
      return Math.round(Date.now() / 1e3);
    }
    function isoTime() {
      return new Date(Date.now()).toISOString();
    }
    function pfGlobalThisOrFallback() {
      function defd(o) {
        return typeof o !== "undefined" && o;
      }
      try {
        if (typeof globalThis !== "undefined")
          return globalThis;
        Object.defineProperty(Object.prototype, "globalThis", {
          get: function() {
            delete Object.prototype.globalThis;
            return this.globalThis = this;
          },
          configurable: true
        });
        return globalThis;
      } catch (e) {
        return defd(self) || defd(window) || defd(this) || {};
      }
    }
  }
});

// main.ts
var main_exports = {};
__export(main_exports, {
  config: () => config2,
  default: () => Obsidisaurus,
  logger: () => logger
});
module.exports = __toCommonJS(main_exports);
var import_obsidian2 = require("obsidian");

// src/markdownProcessor.ts
var readline = __toESM(require("readline"));
var stream = __toESM(require("stream"));

// config.ts
var config;
function setSettings(settings) {
  config = settings;
}

// src/markdownProcessor.ts
async function processMarkdown(processedFileName, sourceContent, assetJson) {
  const sourceStream = new stream.Readable();
  sourceStream.push(sourceContent);
  sourceStream.push(null);
  const rl = readline.createInterface({
    input: sourceStream,
    output: process.stdout,
    terminal: false
  });
  let transformedContent = "";
  let inAdmonition = false, inQuote = false;
  let admonition = { type: "", title: "", whitespaces: 0 };
  for await (const line of rl) {
    let processedLine = await convertObsidianLinks(line);
    processedLine = checkForAssets(processedLine, processedFileName, assetJson);
    processedLine = checkForLinks(processedLine);
    [processedLine, inAdmonition, inQuote, admonition] = convertAdmonition(processedLine, inAdmonition, inQuote, admonition);
    transformedContent += processedLine + "\n";
  }
  return transformedContent;
}
async function convertObsidianLinks(line) {
  const pattern = new RegExp(`!\\[\\[(${config.docusaurusAssetSubfolderName}/.*?)\\]\\]`);
  const match = line.match(pattern);
  if (match !== null) {
    const newPath = `![](${match[1]})`;
    return line.replace(match[0], newPath);
  } else {
    return line;
  }
}
var parseAdmonitionData = (line) => {
  var _a, _b, _c;
  const match = line.match(/^>\s*\[!(?<type>.*)](?<title>.*)?/);
  if (!match)
    return { type: "", title: "", whitespaces: 0 };
  return {
    type: ((_a = match.groups) == null ? void 0 : _a.type) || "",
    title: ((_c = (_b = match.groups) == null ? void 0 : _b.title) == null ? void 0 : _c.trim()) || "",
    whitespaces: line.indexOf("[") - line.indexOf(">")
  };
};
var convertAdmonition = (line, isInAdmonition, isInQuote, admonition) => {
  if (!isInAdmonition && !isInQuote) {
    admonition = parseAdmonitionData(line);
  }
  if (isInAdmonition) {
    if (line.trim() === "") {
      line = ":::\n";
      isInAdmonition = false;
    } else {
      line = line.slice(admonition.whitespaces);
    }
  } else if (isInQuote) {
    if (line.trim() === "") {
      line = ">\n> \u2014 " + admonition.title + "\n";
      isInQuote = false;
    }
  } else if (admonition.type) {
    if (admonition.type === "quote") {
      line = "";
      isInQuote = true;
    } else {
      isInAdmonition = true;
      line = ":::" + admonition.type;
      if (admonition.title) {
        line += " " + admonition.title;
      }
      line += "\n";
    }
  }
  return [line, isInAdmonition, isInQuote, admonition];
};
function checkForLinks(line) {
  const pattern = /\[([^\]]+)\]\(([^)]+)\)/;
  const match = line.match(pattern);
  if (match) {
    const url = match[2];
    if (url.includes("http")) {
      return line;
    } else {
      const urlParts = url.split("/");
      if (urlParts.length <= 1)
        return line;
      let mainFolder = urlParts[0];
      const isBlog = isBlogFolder(mainFolder);
      if (isBlog) {
        mainFolder = removeBlogSuffix(mainFolder);
        urlParts[0] = mainFolder;
      }
      const processedUrlParts = processUrlParts(urlParts, isBlog);
      const newUrl = "/" + processedUrlParts.join("/");
      return line.replace(url, newUrl);
    }
  }
  return line;
}
function processUrlParts(urlParts, isBlog) {
  urlParts = [...urlParts];
  const file = urlParts[urlParts.length - 1];
  let parentFolder = urlParts[urlParts.length - 2];
  if (parentFolder.endsWith("+")) {
    parentFolder = parentFolder.replace("+", "");
    urlParts.pop();
    urlParts[urlParts.length - 1] = isBlog ? parentFolder.split("-").join("/") : removeNumberPrefix(parentFolder);
  } else if (file.endsWith(".md")) {
    urlParts[urlParts.length - 1] = file.replace(".md", "");
  }
  if (isBlog) {
    urlParts[urlParts.length - 1] = urlParts[urlParts.length - 1].split("-").join("/");
  }
  if (!isBlog) {
    urlParts = urlParts.map((part) => removeNumberPrefix(part));
  }
  return urlParts;
}
function isBlogFolder(mainFolder) {
  return mainFolder === "blog" || mainFolder.endsWith("__blog");
}
function removeBlogSuffix(mainFolder) {
  return mainFolder.replace("__blog", "");
}
function removeNumberPrefix(str) {
  return str.replace(/^\d+[\.\-\)\s%20]*\s*/, "").trim();
}
function getOrCreateSize(sizes, size, processedFileName) {
  let existingSize = sizes.find((s) => s.size === size);
  if (!existingSize) {
    existingSize = {
      size,
      inDocuments: [processedFileName],
      newName: []
    };
    sizes.push(existingSize);
  } else if (!existingSize.inDocuments.includes(processedFileName)) {
    existingSize.inDocuments.push(processedFileName);
  }
  return existingSize;
}
function checkForAssets(line, processedFileName, assetJson) {
  const match = line.match(/!\[(?:\|(?<size>\d+(x\d+)?))?\]\((?<path>.*?)\)/);
  if (match && match.groups) {
    let { size, path: path3 } = match.groups;
    const fileNameWithExtension = path3.split("/").pop();
    let [fileName, fileExtension] = fileNameWithExtension.split(".");
    fileName = fileName.replace(/ /g, "_");
    fileName = fileName.replace(/%20/g, "_");
    if (!(size == null ? void 0 : size.trim())) {
      size = "standard";
    }
    let existingAsset = assetJson.find((item) => item.fileName === fileName);
    let existingSize;
    if (existingAsset) {
      existingSize = getOrCreateSize(existingAsset.sizes, size, processedFileName);
    } else {
      existingAsset = {
        fileName,
        //@ts-ignore
        originalFileName: fileNameWithExtension,
        fileExtension,
        dateModified: new Date().toISOString(),
        sourcePathRelative: path3,
        sizes: []
      };
      existingSize = getOrCreateSize(existingAsset.sizes, size, processedFileName);
      assetJson.push(existingAsset);
    }
    if (["jpg", "png", "webp", "jpeg", "bmp", "gif", "svg", "excalidraw"].includes(fileExtension)) {
      line = processImage(line, fileName, fileExtension, size, existingSize);
    } else {
      line = processAsset(line, fileName, fileExtension);
    }
  }
  return line;
}
function processImage(line, fileName, fileExtension, size, sizeObject) {
  var _a;
  const sizeSuffix = size === "standard" ? "" : `_${size}`;
  const extensionFormatMap = {
    "gif": `/assets/${fileName}${sizeSuffix}.${fileExtension}`,
    "svg": `/assets/${fileName}${sizeSuffix}.${fileExtension}`,
    //"svg": `/assets/${fileName}${sizeSuffix}.light.svg#light`,
    "excalidraw": `/assets/${fileName}${sizeSuffix}.excalidraw.light.svg#light`
  };
  let newPath = `/assets/${fileName}${sizeSuffix}.${config.convertedImageType}`;
  if (extensionFormatMap[fileExtension]) {
    newPath = extensionFormatMap[fileExtension];
    line = `![${fileName}](${newPath})`;
    if (fileExtension === "excalidraw") {
      const darkPath = newPath.replace(".light.svg#light", ".dark.svg#dark");
      line += `
![${fileName}](${darkPath})`;
    }
  } else {
    line = `![${fileName}](${newPath})`;
  }
  const newName = (_a = newPath.split("/").pop()) == null ? void 0 : _a.split("#")[0];
  if (newName && !sizeObject.newName.includes(newName)) {
    sizeObject.newName.push(newName);
  }
  return line;
}
function processAsset(line, fileName, fileExtension) {
  line = `[Download ${fileName}.${fileExtension}](${config.docusaurusAssetSubfolderName}/${fileName}.${fileExtension})`;
  return line;
}

// src/mainProcessor.ts
var import_obsidian = require("obsidian");
var fs = __toESM(require("fs"));
var path = __toESM(require("path"));
var import_util = __toESM(require("util"));
async function obsidiosaurusProcess(basePath) {
  const websitePath = path.join(basePath, "website");
  const vaultPath = path.join(basePath, "vault");
  const mainFolders = getMainfolders(vaultPath);
  mainFolders.forEach((folder) => processSingleFolder(folder, vaultPath));
  if (config.debug) {
    logger.info("\u{1F4C1} Folder structure with Files: %s", JSON.stringify(mainFolders));
  }
  const allInfo = mainFolders.flatMap((folder) => folder.files.map((file) => getSourceFileInfo(basePath, folder, file, vaultPath)));
  const allSourceFilesInfo = allInfo.filter((info) => info.type !== "assets");
  const allSourceAssetsInfo = allInfo.filter((info) => info.type === "assets");
  let targetJson = await initializeJsonFile(path.join(basePath, "allFilesInfo.json"));
  let assetJson = await initializeJsonFile(path.join(basePath, "assetInfo.json"));
  targetJson = await checkFilesExistence(targetJson);
  const filesToDelete = await getFilesToDelete(allSourceFilesInfo, targetJson);
  await deleteFiles(filesToDelete, targetJson, basePath);
  await removeAssetReferences(filesToDelete, assetJson, websitePath);
  targetJson = await writeJsonToFile(path.join(basePath, "allFilesInfo.json"), targetJson);
  await writeJsonToFile(path.join(basePath, "allSourceAssetsInfo.json"), allSourceAssetsInfo);
  const filesToProcess = await compareSource(allSourceFilesInfo, targetJson);
  if (filesToProcess.length > 0) {
    new import_obsidian.Notice(`\u2699 Processing ${filesToProcess.length} Files`);
    const filesToProcessIndices = filesToProcess.map((file) => file.index);
    const filesToMarkdownProcess = allSourceFilesInfo.filter((_, index) => filesToProcessIndices.includes(index));
    await copyMarkdownFilesToTarget(filesToMarkdownProcess, basePath, targetJson, assetJson);
    await writeJsonToFile(path.join(basePath, "allFilesInfo.json"), targetJson);
  } else {
    new import_obsidian.Notice(`\u{1F4A4} Nothing to process`);
  }
  augmentPathForMacOS();
  const assetsToProcess = await getAssetsToProcess(assetJson, websitePath);
  new import_obsidian.Notice(`\u2699 Processing ${assetsToProcess.length} Assets`);
  if (assetsToProcess.length > 0) {
    await copyAssetFilesToTarget(vaultPath, websitePath, assetJson, assetsToProcess);
  }
  deleteUnusedFiles(targetJson, websitePath);
  logger.info("\u2705 Obsidiosaurus run successfully");
  new import_obsidian.Notice("\u2705 Obsidiosaurus run successfully");
  return true;
}
async function initializeJsonFile(filePath, defaultContent = "[]") {
  let jsonContent = [];
  try {
    jsonContent = JSON.parse(await fs.promises.readFile(filePath, "utf-8"));
  } catch (error) {
    if (error.code === "ENOENT") {
      await fs.promises.writeFile(filePath, defaultContent);
      console.log(`Created ${filePath}`);
    } else {
      console.error(`Error reading file: ${filePath}`, error);
    }
  }
  return jsonContent;
}
async function writeJsonToFile(filePath, content) {
  await fs.promises.writeFile(filePath, JSON.stringify(content, null, 2));
  return JSON.parse(await fs.promises.readFile(filePath, "utf-8"));
}
function augmentPathForMacOS() {
  const os = require("os");
  if (config.debug) {
    logger.info(`\u{1F5FA}\uFE0F Current Obsidian ENV PATH: ${process.env.PATH}`);
  }
  if (os.platform() === "darwin") {
    const homebrewPath = "/opt/homebrew/bin:/usr/local/bin/brew";
    if (!process.env.PATH.includes(homebrewPath)) {
      process.env.PATH = homebrewPath + ":" + process.env.PATH;
      if (config.debug) {
        logger.info(`\u{1F5FA}\uFE0F New ENV PATH: ${process.env.PATH}`);
      }
    }
  }
}
function getMainfolders(folderPath) {
  const folders = [];
  const absoluteFolderPath = path.resolve(folderPath);
  if (config.debug) {
    logger.info("\u{1F4C1} Processing path: %s", absoluteFolderPath);
  }
  const objects = fs.readdirSync(absoluteFolderPath);
  if (config.debug) {
    logger.info("\u{1F4C2} Found files: %o", objects);
  }
  objects.forEach((object) => {
    const filePath = path.join(absoluteFolderPath, object);
    const stats = fs.statSync(filePath);
    if (stats.isDirectory()) {
      let type;
      if (object.endsWith("__blog")) {
        type = "blogMulti";
      } else if (object.includes("blog")) {
        type = "blog";
      } else if (object.includes("docs")) {
        type = "docs";
      } else if (object.includes(config.obsidianAssetSubfolderName)) {
        type = "assets";
      } else {
        type = "ignore";
      }
      if (type !== "ignore" && type !== void 0) {
        const folderObject = {
          name: object,
          type,
          files: []
        };
        folders.push(folderObject);
      }
      if (config.debug) {
        logger.info("\u{1F50D} File: %s, Type: %s", object, type);
      }
    }
  });
  if (config.debug) {
    logger.info("\u{1F4E4} Returning folders: %o", folders);
  }
  return folders;
}
function searchFilesInFolder(directory) {
  let results = [];
  let skipFiles = ".DS_Store";
  const files = fs.readdirSync(directory);
  files.forEach((file) => {
    if (skipFiles.includes(file)) {
      if (config.debug) {
        logger.info(`\u23ED\uFE0F Skipped ${file}`);
      }
      return;
    }
    const filePath = path.join(directory, file);
    const stat = fs.statSync(filePath);
    if (stat && stat.isDirectory()) {
      results = results.concat(searchFilesInFolder(filePath));
    } else {
      results.push(filePath);
    }
  });
  return results;
}
function processSingleFolder(folder, basePath) {
  const dirPath = path.join(basePath, folder.name);
  const files = searchFilesInFolder(dirPath);
  folder.files = files;
  if (config.debug) {
    logger.info("\u{1F4C4} Vault Files for %s: %s", folder.name, JSON.stringify(files));
  }
}
async function deleteParentDirectories(filepath) {
  let dirPath = path.dirname(filepath);
  while (dirPath !== path.dirname(dirPath)) {
    try {
      await fs.promises.rmdir(dirPath);
      if (config.debug) {
        logger.info(`\u{1F9E8} Successfully deleted directory ${dirPath}`);
      }
    } catch (error) {
      if (error.code !== "ENOTEMPTY" && error.code !== "EEXIST" && error.code !== "EPERM") {
        logger.info(`\u274C Failed to delete directory ${dirPath}: ${error}`);
      }
      return;
    }
    dirPath = path.dirname(dirPath);
  }
}
async function ensureDirectoryExistence(filePath) {
  const dir = path.dirname(filePath);
  if (fs.existsSync(dir)) {
    return true;
  }
  await fs.promises.mkdir(dir, { recursive: true });
}
async function compareSource(sourceJson, targetJson) {
  const filesToProcess = [];
  sourceJson.forEach((sourceFile, i) => {
    const matchingTargetFile = targetJson.find((file) => file.pathSourceRelative === sourceFile.pathSourceRelative);
    if (!matchingTargetFile) {
      filesToProcess.push({ index: i, reason: "Does not exist in targetJson" });
      if (config.debug) {
        logger.info("\u{1F4DD} File to process: %s", sourceFile.pathSourceRelative);
      }
    }
  });
  return filesToProcess;
}
function getSourceFileInfo(basePath, folder, filePath, vaultPath) {
  filePath = path.resolve(filePath);
  const stats = fs.statSync(filePath);
  const fileName = path.basename(filePath);
  const { fileNameClean, fileExtension, language } = sanitizeFileName(fileName);
  const pathSourceRelative = path.relative(vaultPath, filePath);
  let sourceFileInfo = {
    fileName,
    fileNameClean,
    fileExtension,
    language,
    mainFolder: folder.name,
    parentFolder: path.basename(path.dirname(filePath)),
    pathSourceAbsolute: filePath,
    pathSourceRelative,
    dateModified: stats.mtime,
    size: stats.size,
    type: folder.type
  };
  sourceFileInfo = getTargetPath(sourceFileInfo, basePath);
  return sourceFileInfo;
}
function sanitizeFileName(fileName) {
  const parsedPath = path.parse(fileName);
  const fileNameWithoutExtension = parsedPath.name;
  const fileExtension = parsedPath.ext;
  let fileNameClean = fileNameWithoutExtension;
  const languageMatch = fileNameClean.match(/__([a-z]{2})$/i);
  let language = null;
  if (languageMatch) {
    fileNameClean = fileNameClean.split("__")[0];
    language = languageMatch ? languageMatch[1] : null;
  }
  if (language === null) {
    if (config && config.mainLanguage) {
      language = config.mainLanguage;
    } else {
      const errorMessage = "\u274C Main language not defined in the configuration";
      logger.error(errorMessage);
      throw new Error(errorMessage);
    }
  }
  return { fileNameClean: fileNameClean.trim(), fileExtension, language };
}
function getTargetPath(sourceFileInfo, basePath) {
  const { type, language, pathSourceRelative, mainFolder, parentFolder, fileExtension } = sourceFileInfo;
  if (!type || !language || !pathSourceRelative || !parentFolder || !fileExtension || !mainFolder) {
    logger.error("\u{1F6A8} Required properties missing on sourceFileInfo");
    throw new Error("Missing required properties on sourceFileInfo");
  }
  const isMainLanguage = language === config.mainLanguage;
  const mainPathDict = {
    "docs": isMainLanguage ? "" : path.join("i18n", language, "docusaurus-plugin-content-docs", "current"),
    "blog": isMainLanguage ? "" : path.join("i18n", language, "docusaurus-plugin-content-blog", "current"),
    "blogMulti": isMainLanguage || !mainFolder ? "" : path.join("i18n", language, `docusaurus-plugin-content-blog-${mainFolder}`),
    "assets": path.join("static", config.docusaurusAssetSubfolderName)
  };
  const mainPath = mainPathDict[type] || "";
  let finalPathSourceRelative = pathSourceRelative;
  if (parentFolder.endsWith("+")) {
    const pathParts = finalPathSourceRelative.split(path.sep);
    pathParts.pop();
    if (pathParts.length > 0) {
      let lastPart = pathParts[pathParts.length - 1];
      if (lastPart.endsWith("+")) {
        lastPart = lastPart.slice(0, -1);
        pathParts[pathParts.length - 1] = lastPart;
      }
      finalPathSourceRelative = pathParts.join(path.sep) + fileExtension;
    }
  }
  finalPathSourceRelative = finalPathSourceRelative.replace(`__${language}`, "");
  if (finalPathSourceRelative.endsWith(".yml.md")) {
    finalPathSourceRelative = finalPathSourceRelative.replace(".yml.md", ".yml");
  }
  sourceFileInfo.pathTargetRelative = path.join(mainPath, finalPathSourceRelative);
  sourceFileInfo.pathTargetAbsolute = path.join(basePath, config.docusaurusWebsiteDirectory, sourceFileInfo.pathTargetRelative);
  return sourceFileInfo;
}
async function getFilesToDelete(allSourceFilesInfo, targetJson) {
  const sourceJson = allSourceFilesInfo;
  const filesToDelete = [];
  targetJson.forEach((targetFile, i) => {
    const matchingSourceFile = sourceJson.find((file) => file.pathSourceRelative === targetFile.pathSourceRelative);
    const targetDate = new Date(targetFile.dateModified);
    const sourceDate = (matchingSourceFile == null ? void 0 : matchingSourceFile.dateModified) ? new Date(matchingSourceFile.dateModified) : null;
    if (!matchingSourceFile) {
      filesToDelete.push({ index: i, reason: "it does not exist in sourceJson", pathKey: targetFile.pathSourceRelative });
      if (config.debug) {
        logger.info("\u{1F5D1}\uFE0F File to delete: %s", targetFile.pathSourceRelative);
      }
    } else if (sourceDate && targetDate.getTime() < sourceDate.getTime()) {
      filesToDelete.push({ index: i, reason: `its last modification date ${targetDate} is older than the date in sourceJson ${sourceDate}`, pathKey: targetFile.pathSourceRelative });
      if (config.debug) {
        logger.info("\u{1F504} File to update: %s, Target: %s Source: %s", targetFile.pathSourceRelative, targetDate, sourceDate);
      }
    }
  });
  return filesToDelete;
}
async function deleteFiles(filesToDelete, targetJson, basePath) {
  const errors = [];
  filesToDelete.sort((a, b) => b.index - a.index);
  for (const fileToDelete of filesToDelete) {
    const targetFile = targetJson[fileToDelete.index];
    try {
      await fs.promises.unlink(path.join(basePath, targetFile.pathTargetRelative));
      if (config.debug) {
        logger.info(`\u2705 Successfully deleted file %s`, targetFile.pathTargetRelative);
      }
      await deleteParentDirectories(path.join(basePath, targetFile.pathTargetRelative));
      targetJson.splice(fileToDelete.index, 1);
    } catch (error) {
      if (error.code !== "ENOENT") {
        logger.error(`\u274C Failed to delete file %s: %s`, targetFile.pathTargetRelative, error);
        errors.push(error);
        continue;
      }
      if (config.debug) {
        logger.info(`\u{1F5D1}\uFE0F File %s was not found, considered as deleted`, targetFile.pathTargetRelative);
      }
      targetJson.splice(fileToDelete.index, 1);
    }
  }
}
async function checkFilesExistence(targetJson) {
  const existentFiles = await Promise.all(
    targetJson.map(async (fileInfo) => {
      try {
        await fs.promises.access(fileInfo.pathTargetAbsolute);
        const stats = await fs.promises.stat(fileInfo.pathTargetAbsolute);
        fileInfo.dateModifiedTarget = stats.mtime;
        fileInfo.sizeTarget = stats.size;
        return fileInfo;
      } catch (err) {
        if (err.code !== "ENOENT") {
          throw err;
        }
        console.log(`File not fond: ${fileInfo.pathSourceRelative}`);
        return null;
      }
    })
  );
  const len = existentFiles.length;
  const files = existentFiles.filter((fileInfo) => fileInfo !== null);
  if (config.debug) {
    logger.info("Removed %i Files", len - files.length);
  }
  return files;
}
function deleteUnusedFiles(json, websitePath) {
  const targetDirectories = ["blog", "i18n", "docs"];
  const blogSuffix = "__blog";
  let filesFound = [];
  function exploreDirectory(directory) {
    const entries = fs.readdirSync(directory, { withFileTypes: true });
    for (const entry of entries) {
      const fullPath = path.join(directory, entry.name);
      if (entry.isDirectory()) {
        exploreDirectory(fullPath);
      } else if (entry.isFile()) {
        filesFound.push(fullPath);
      }
    }
  }
  targetDirectories.forEach((dir) => {
    const dirPath = path.join(websitePath, dir);
    if (fs.existsSync(dirPath)) {
      exploreDirectory(dirPath);
    }
  });
  const allDirectories = fs.readdirSync(websitePath, { withFileTypes: true });
  const otherDirectories = allDirectories.filter((dir) => dir.name.endsWith(blogSuffix));
  otherDirectories.forEach((dir) => {
    const dirPath = path.join(websitePath, dir.name);
    exploreDirectory(dirPath);
  });
  filesFound.forEach(async (file) => {
    const fileIsUsed = json.some((j) => j.pathTargetAbsolute === file);
    if (!fileIsUsed) {
      await fs.promises.unlink(file);
      console.log(`Deleted unused file: ${file}`);
    }
  });
}
async function copyMarkdownFilesToTarget(files, basePath, targetJson, assetJson) {
  const results = [];
  const promises2 = files.map(async (file) => {
    const { pathTargetAbsolute, pathSourceAbsolute, pathSourceRelative } = file;
    if (pathTargetAbsolute && pathSourceAbsolute && pathSourceRelative) {
      await ensureDirectoryExistence(pathTargetAbsolute);
      const sourceContent = await fs.promises.readFile(pathSourceAbsolute, "utf-8");
      const transformedContent = await processMarkdown(pathSourceRelative, sourceContent, assetJson);
      if (transformedContent) {
        await fs.promises.writeFile(pathTargetAbsolute, String(transformedContent));
      }
      if (config.debug) {
        logger.info(`\u{1F4E4} Converted file from ${pathSourceAbsolute} to ${pathTargetAbsolute}`);
      }
    }
    results.push(file);
  });
  await Promise.all(promises2);
  targetJson.push(...results);
  await fs.promises.writeFile(path.join(basePath, "assetInfo.json"), JSON.stringify(assetJson, null, 2));
}
async function removeAssetReferences(filesToDelete, assetJson, websitePath) {
  for (const fileToDelete of filesToDelete) {
    if (!fileToDelete.pathKey) {
      continue;
    }
    for (let assetIndex = assetJson.length - 1; assetIndex >= 0; assetIndex--) {
      const asset = assetJson[assetIndex];
      for (let sizeIndex = asset.sizes.length - 1; sizeIndex >= 0; sizeIndex--) {
        const size = asset.sizes[sizeIndex];
        const docIndex = size.inDocuments.indexOf(fileToDelete.pathKey);
        if (docIndex !== -1) {
          size.inDocuments.splice(docIndex, 1);
          if (config.debug) {
            logger.info(`\u{1F5D1} Removed filePath from inDocuments: ${fileToDelete.pathKey}`);
          }
          if (size.inDocuments.length === 0) {
            const assetToRemove = size.newName;
            await removeAssetFromTarget(assetToRemove, config.docusaurusAssetSubfolderName, websitePath);
            asset.sizes.splice(sizeIndex, 1);
            if (config.debug) {
              logger.info(`\u{1F525} Removed size from sizes: ${size.size}`);
            }
          }
        }
      }
      if (asset.sizes.length === 0) {
        assetJson.splice(assetIndex, 1);
        if (config.debug) {
          logger.info(`\u{1F4A5} Removed asset from assetJson: ${asset.fileName}`);
        }
      }
    }
  }
  return assetJson;
}
async function removeAssetFromTarget(assetToRemove, docusaurusAssetSubfolderName, websitePath) {
  for (const asset of assetToRemove) {
    const assetPath = path.join(websitePath, "static", docusaurusAssetSubfolderName, asset);
    try {
      await fs.promises.unlink(assetPath);
      if (config.debug) {
        logger.info(`\u{1F5D1} Removed asset: ${assetPath}`);
      }
    } catch (error) {
      if (config.debug) {
        logger.error(`\u274C Error removing asset: ${assetPath}`, error);
      }
    }
  }
}
var copyFile2 = import_util.default.promisify(fs.copyFile);
var mkdir2 = import_util.default.promisify(fs.mkdir);
async function copyAssetFilesToTarget(vaultPathPath, websitePath, assetJson, assetsToProcess) {
  const docusaurusAssetFolderPath = path.join(websitePath, "static", config.docusaurusAssetSubfolderName);
  await mkdir2(docusaurusAssetFolderPath, { recursive: true });
  for (const assetToProcess of assetsToProcess) {
    const asset = assetJson[assetToProcess.assetIndex];
    const size = asset.sizes[assetToProcess.sizeIndex];
    const originalFilePath = path.join(vaultPathPath, config.obsidianAssetSubfolderName, asset.originalFileName).replace(/%20/g, " ");
    for (const newName of size.newName) {
      const newFilePath = path.join(docusaurusAssetFolderPath, newName);
      if (["jpg", "png", "webp", "jpeg", "bmp", "gif"].includes(asset.fileExtension)) {
        try {
          if (size.size === "standard" && asset.fileExtension === "gif") {
            await fs.copyFileSync(originalFilePath, newFilePath);
            if (config.debug) {
              logger.info(`Image copied from ${originalFilePath} to ${newFilePath}`);
            }
          } else {
            await resizeImage(originalFilePath, newFilePath, size.size);
            if (config.debug) {
              logger.info(`Image resized and copied from ${originalFilePath} to ${newFilePath}`);
            }
          }
        } catch (error) {
          if (config.debug) {
            logger.info(`Failed to resize image and copy from ${originalFilePath} to ${newFilePath}: ${error.message}`);
          }
        }
      } else if (asset.fileExtension == "svg") {
        await copySVG(originalFilePath, newFilePath);
      } else if (["excalidraw"].includes(asset.fileExtension)) {
        await copyExcalidraw(originalFilePath, newFilePath);
      } else {
        try {
          await copyFile2(originalFilePath, newFilePath);
          if (config.debug) {
            logger.info(`File copied from ${originalFilePath} to ${newFilePath}`);
          }
        } catch (error) {
          if (config.debug) {
            logger.error(`Failed to copy file from ${originalFilePath} to ${newFilePath}: ${error.message}`);
          }
        }
      }
    }
  }
}
async function copySVG(originalFilePath, newFilePath) {
  await copyFile2(originalFilePath, newFilePath);
}
async function copyExcalidraw(originalFilePath, newFilePath) {
  const filePath = originalFilePath.replace(".md", "");
  const newDarkFilePath = newFilePath.replace(".light", ".dark");
  const darkFilePath = filePath + ".dark.svg";
  await copyFile2(darkFilePath, newDarkFilePath);
  const lightFilePath = filePath + ".light.svg";
  await copyFile2(lightFilePath, newFilePath);
}
var gm = require_gm().subClass({ imageMagick: "7+" });
async function resizeImage(originalFilePath, newFilePath, size) {
  const widthOriginal = await getImageWidth(originalFilePath);
  let width;
  let height;
  let auto = true;
  if (size === "standard") {
    width = Math.min(widthOriginal, parseInt(config.convertedImageMaxWidth));
    height = "";
  } else {
    const dimensions = size.split("x");
    width = parseInt(dimensions[0]);
    height = dimensions.length > 1 ? parseInt(dimensions[1]) : "";
    if (height) {
      auto = false;
    }
  }
  let imageProcess = gm(originalFilePath).coalesce();
  if (auto) {
    imageProcess = imageProcess.resize(width, height);
  } else {
    imageProcess = imageProcess.resize(width, height, "!");
  }
  imageProcess.write(newFilePath, function(err) {
    if (err)
      logger.error(err);
  });
}
function getImageWidth(imagePath) {
  return new Promise((resolve2, reject) => {
    gm(imagePath).size((err, size) => {
      if (err) {
        logger.error("Error getting image width: ", err);
        reject(err);
      } else {
        resolve2(size.width);
      }
    });
  });
}
async function getAssetsToProcess(assetJson, websitePath) {
  const documents = [];
  for (const [assetIndex, asset] of assetJson.entries()) {
    for (const [sizeIndex, size] of asset.sizes.entries()) {
      for (const name of size.newName) {
        documents.push({ assetIndex, sizeIndex, path: name });
      }
    }
  }
  const assetsToProcess = documents.filter((document2) => {
    const fileExists = fs.existsSync(path.join(websitePath, "static", config.docusaurusAssetSubfolderName, document2.path));
    if (!fileExists && config.debug) {
      logger.info(`File ${document2.path} does not exist.`);
    }
    return !fileExists;
  });
  return assetsToProcess;
}

// main.ts
var import_pino = __toESM(require_browser2());
var import_path = __toESM(require("path"));
var logger = (0, import_pino.default)();
var config2 = {
  obsidianVaultDirectory: "./vault",
  docusaurusWebsiteDirectory: "./website",
  obsidianAssetSubfolderName: "assets",
  docusaurusAssetSubfolderName: "assets",
  mainLanguage: "en",
  convertedImageType: "webp",
  convertedImageMaxWidth: "2500",
  debug: false,
  developer: false
};
var Obsidisaurus = class extends import_obsidian2.Plugin {
  async onload() {
    await this.loadSettings();
    if (this.settings.debug) {
      logger.info("\u{1F7E2} Obsidiosaurus Plugin loaded");
    }
    const ribbonIconEl = this.addRibbonIcon("file-up", "Obsidiosaurus", async (evt) => {
      try {
        logger.info("\u{1F680} Obsidiosaurus started");
        new import_obsidian2.Notice("\u{1F680} Obsidiosaurus started");
        if (this.app.vault.adapter instanceof import_obsidian2.FileSystemAdapter) {
          const basePath = import_path.default.dirname(this.app.vault.adapter.getBasePath());
          await obsidiosaurusProcess(basePath);
        }
      } catch (error) {
        if (this.settings.debug) {
          const errorMessage = `\u274C Obsidiosaurus crashed in function with the following error:
${error.stack}`;
          logger.error(errorMessage);
          new import_obsidian2.Notice(`\u274C Obsidiosaurus crashed. 
${errorMessage}`);
        } else {
          logger.error(`\u274C Obsidiosaurus crashed with error message: 
${error} `);
          new import_obsidian2.Notice("\u274C Obsidiosaurus crashed. \n Check log files for more info");
        }
      }
    });
    ribbonIconEl.addClass("my-plugin-ribbon-class");
    this.addSettingTab(new SettingTab(this.app, this));
  }
  onunload() {
    if (config2.debug) {
      logger.info("\u26AA Obsidiosaurus Plugin unloaded");
    }
  }
  async loadSettings() {
    this.settings = Object.assign({}, config2, await this.loadData());
    setSettings(this.settings);
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var SettingTab = class extends import_obsidian2.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h1", { text: "Directories" });
    new import_obsidian2.Setting(containerEl).setName("Docusaurus Directory").setDesc("Path to your docusaurus instance").addText((text) => text.setPlaceholder("Enter paths").setValue(this.plugin.settings.docusaurusWebsiteDirectory).onChange(async (value) => {
      this.plugin.settings.docusaurusWebsiteDirectory = value;
      await this.plugin.saveSettings();
    }));
    containerEl.createEl("h1", { text: "Assets" });
    new import_obsidian2.Setting(containerEl).setName("Obsidian Asset Folder").setDesc("Name of Obsidian Asset Folder").addText((text) => text.setPlaceholder("Enter folders").setValue(this.plugin.settings.obsidianAssetSubfolderName).onChange(async (value) => {
      this.plugin.settings.obsidianAssetSubfolderName = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian2.Setting(containerEl).setName("Docusaurus Asset Folder").setDesc("Name of Docusaurus Asset Folder").addText((text) => text.setPlaceholder("Enter folders").setValue(this.plugin.settings.docusaurusAssetSubfolderName).onChange(async (value) => {
      this.plugin.settings.docusaurusAssetSubfolderName = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian2.Setting(containerEl).setName("Image Type").setDesc("Format in which to convert all images").addDropdown((dropdown) => dropdown.addOptions({
      "webp": "WebP"
    }).setValue(this.plugin.settings.convertedImageType).onChange(async (value) => {
      this.plugin.settings.convertedImageType = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian2.Setting(containerEl).setName("Image Width").setDesc("Set the max width for the images in [px]").addText((number) => number.setPlaceholder("2500").setValue(this.plugin.settings.convertedImageMaxWidth).onChange(async (value) => {
      this.plugin.settings.convertedImageMaxWidth = value;
      await this.plugin.saveSettings();
    }));
    containerEl.createEl("h1", { text: "Language" });
    new import_obsidian2.Setting(containerEl).setName("Main Language").setDesc("Your main language code to publish").addText((text) => text.setPlaceholder("Enter language code").setValue(this.plugin.settings.mainLanguage).onChange(async (value) => {
      this.plugin.settings.mainLanguage = value;
      await this.plugin.saveSettings();
    }));
    containerEl.createEl("h1", { text: "Dev Options" });
    new import_obsidian2.Setting(containerEl).setName("Debug mode").setDesc("Better logging for debugging").addToggle((value) => {
      value.setValue(this.plugin.settings.debug).onChange((value2) => {
        this.plugin.settings.debug = value2;
        this.plugin.saveSettings();
      });
    });
    new import_obsidian2.Setting(containerEl).setName("Developer mode").setDesc("Only for plugin developers").addToggle((value) => {
      value.setValue(this.plugin.settings.debug).onChange((value2) => {
        this.plugin.settings.debug = value2;
        this.plugin.saveSettings();
      });
    });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vLi4vb2JzaWRpb3NhdXJ1cy9ub2RlX21vZHVsZXMvZ20vbGliL29wdGlvbnMuanMiLCAiLi4vLi4vLi4vLi4vLi4vb2JzaWRpb3NhdXJ1cy9ub2RlX21vZHVsZXMvZ20vbGliL2dldHRlcnMuanMiLCAiLi4vLi4vLi4vLi4vLi4vb2JzaWRpb3NhdXJ1cy9ub2RlX21vZHVsZXMvZ20vbGliL3V0aWxzLmpzIiwgIi4uLy4uLy4uLy4uLy4uL29ic2lkaW9zYXVydXMvbm9kZV9tb2R1bGVzL2dtL2xpYi9hcmdzLmpzIiwgIi4uLy4uLy4uLy4uLy4uL29ic2lkaW9zYXVydXMvbm9kZV9tb2R1bGVzL2dtL2xpYi9kcmF3aW5nLmpzIiwgIi4uLy4uLy4uLy4uLy4uL29ic2lkaW9zYXVydXMvbm9kZV9tb2R1bGVzL2dtL2xpYi9jb252ZW5pZW5jZS90aHVtYi5qcyIsICIuLi8uLi8uLi8uLi8uLi9vYnNpZGlvc2F1cnVzL25vZGVfbW9kdWxlcy9hcnJheS1wYXJhbGxlbC9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9vYnNpZGlvc2F1cnVzL25vZGVfbW9kdWxlcy9nbS9saWIvY29udmVuaWVuY2UvbW9ycGguanMiLCAiLi4vLi4vLi4vLi4vLi4vb2JzaWRpb3NhdXJ1cy9ub2RlX21vZHVsZXMvZ20vbGliL2NvbnZlbmllbmNlL3NlcGlhLmpzIiwgIi4uLy4uLy4uLy4uLy4uL29ic2lkaW9zYXVydXMvbm9kZV9tb2R1bGVzL2dtL2xpYi9jb252ZW5pZW5jZS9hdXRvT3JpZW50LmpzIiwgIi4uLy4uLy4uLy4uLy4uL29ic2lkaW9zYXVydXMvbm9kZV9tb2R1bGVzL2dtL2xpYi9jb252ZW5pZW5jZS5qcyIsICIuLi8uLi8uLi8uLi8uLi9vYnNpZGlvc2F1cnVzL25vZGVfbW9kdWxlcy9wc2V1ZG9tYXAvcHNldWRvbWFwLmpzIiwgIi4uLy4uLy4uLy4uLy4uL29ic2lkaW9zYXVydXMvbm9kZV9tb2R1bGVzL3BzZXVkb21hcC9tYXAuanMiLCAiLi4vLi4vLi4vLi4vLi4vb2JzaWRpb3NhdXJ1cy9ub2RlX21vZHVsZXMvZ20vbm9kZV9tb2R1bGVzL3lhbGxpc3QveWFsbGlzdC5qcyIsICIuLi8uLi8uLi8uLi8uLi9vYnNpZGlvc2F1cnVzL25vZGVfbW9kdWxlcy9nbS9ub2RlX21vZHVsZXMvbHJ1LWNhY2hlL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL29ic2lkaW9zYXVydXMvbm9kZV9tb2R1bGVzL2lzZXhlL3dpbmRvd3MuanMiLCAiLi4vLi4vLi4vLi4vLi4vb2JzaWRpb3NhdXJ1cy9ub2RlX21vZHVsZXMvaXNleGUvbW9kZS5qcyIsICIuLi8uLi8uLi8uLi8uLi9vYnNpZGlvc2F1cnVzL25vZGVfbW9kdWxlcy9pc2V4ZS9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9vYnNpZGlvc2F1cnVzL25vZGVfbW9kdWxlcy9nbS9ub2RlX21vZHVsZXMvd2hpY2gvd2hpY2guanMiLCAiLi4vLi4vLi4vLi4vLi4vb2JzaWRpb3NhdXJ1cy9ub2RlX21vZHVsZXMvZ20vbm9kZV9tb2R1bGVzL2Nyb3NzLXNwYXduL2xpYi9yZXNvbHZlQ29tbWFuZC5qcyIsICIuLi8uLi8uLi8uLi8uLi9vYnNpZGlvc2F1cnVzL25vZGVfbW9kdWxlcy9nbS9ub2RlX21vZHVsZXMvY3Jvc3Mtc3Bhd24vbGliL2hhc0Jyb2tlblNwYXduLmpzIiwgIi4uLy4uLy4uLy4uLy4uL29ic2lkaW9zYXVydXMvbm9kZV9tb2R1bGVzL2dtL25vZGVfbW9kdWxlcy9jcm9zcy1zcGF3bi9saWIvcGFyc2UuanMiLCAiLi4vLi4vLi4vLi4vLi4vb2JzaWRpb3NhdXJ1cy9ub2RlX21vZHVsZXMvZ20vbm9kZV9tb2R1bGVzL2Nyb3NzLXNwYXduL2xpYi9lbm9lbnQuanMiLCAiLi4vLi4vLi4vLi4vLi4vb2JzaWRpb3NhdXJ1cy9ub2RlX21vZHVsZXMvZ20vbm9kZV9tb2R1bGVzL2Nyb3NzLXNwYXduL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL29ic2lkaW9zYXVydXMvbm9kZV9tb2R1bGVzL21zL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL29ic2lkaW9zYXVydXMvbm9kZV9tb2R1bGVzL2dtL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvY29tbW9uLmpzIiwgIi4uLy4uLy4uLy4uLy4uL29ic2lkaW9zYXVydXMvbm9kZV9tb2R1bGVzL2dtL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvYnJvd3Nlci5qcyIsICIuLi8uLi8uLi8uLi8uLi9vYnNpZGlvc2F1cnVzL25vZGVfbW9kdWxlcy9hcnJheS1zZXJpZXMvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vb2JzaWRpb3NhdXJ1cy9ub2RlX21vZHVsZXMvZ20vbGliL2NvbW1hbmQuanMiLCAiLi4vLi4vLi4vLi4vLi4vb2JzaWRpb3NhdXJ1cy9ub2RlX21vZHVsZXMvZ20vbGliL2NvbXBhcmUuanMiLCAiLi4vLi4vLi4vLi4vLi4vb2JzaWRpb3NhdXJ1cy9ub2RlX21vZHVsZXMvZ20vbGliL2NvbXBvc2l0ZS5qcyIsICIuLi8uLi8uLi8uLi8uLi9vYnNpZGlvc2F1cnVzL25vZGVfbW9kdWxlcy9nbS9saWIvbW9udGFnZS5qcyIsICIuLi8uLi8uLi8uLi8uLi9vYnNpZGlvc2F1cnVzL25vZGVfbW9kdWxlcy9nbS9wYWNrYWdlLmpzb24iLCAiLi4vLi4vLi4vLi4vLi4vb2JzaWRpb3NhdXJ1cy9ub2RlX21vZHVsZXMvZ20vaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vb2JzaWRpb3NhdXJ1cy9ub2RlX21vZHVsZXMvcXVpY2stZm9ybWF0LXVuZXNjYXBlZC9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9vYnNpZGlvc2F1cnVzL25vZGVfbW9kdWxlcy9waW5vL2Jyb3dzZXIuanMiLCAiLi4vLi4vLi4vLi4vLi4vb2JzaWRpb3NhdXJ1cy9tYWluLnRzIiwgIi4uLy4uLy4uLy4uLy4uL29ic2lkaW9zYXVydXMvc3JjL21hcmtkb3duUHJvY2Vzc29yLnRzIiwgIi4uLy4uLy4uLy4uLy4uL29ic2lkaW9zYXVydXMvY29uZmlnLnRzIiwgIi4uLy4uLy4uLy4uLy4uL29ic2lkaW9zYXVydXMvc3JjL21haW5Qcm9jZXNzb3IudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIlxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZnVuY3Rpb24gKHByb3RvKSB7XG4gIHByb3RvLl9vcHRpb25zID0ge307XG5cbiAgcHJvdG8ub3B0aW9ucyA9IGZ1bmN0aW9uIHNldE9wdGlvbnMgKG9wdGlvbnMpIHtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9wdGlvbnMpXG4gICAgICAsIGkgPSBrZXlzLmxlbmd0aFxuICAgICAgLCBrZXlcblxuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICB0aGlzLl9vcHRpb25zW2tleV0gPSBvcHRpb25zW2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cbiIsICIvKipcbiAqIEV4dGVuZCBwcm90by5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChnbSkge1xuXG4gIHZhciBwcm90byA9IGdtLnByb3RvdHlwZTtcblxuICAvKipcbiAgICogYGlkZW50aWZ5YCBzdGF0ZXNcbiAgICovXG5cbiAgY29uc3QgSURFTlRJRllJTkcgPSAxO1xuICBjb25zdCBJREVOVElGSUVEID0gMjtcblxuICAvKipcbiAgICogTWFwIGdldHRlciBmdW5jdGlvbnMgdG8gb3V0cHV0IG5hbWVzLlxuICAgKlxuICAgKiAtIGZvcm1hdDogc3BlY2lmeWluZyB0aGUgLWZvcm1hdCBhcmd1bWVudCAoc2VlIG1hbiBnbSlcbiAgICogLSB2ZXJib3NlOiB1c2UgLXZlcmJvc2UgaW5zdGVhZCBvZiAtZm9ybWF0IChvbmx5IGlmIG5lY2Vzc2FyeSBiL2MgaXRzIHNsb3cpXG4gICAqIC0gaGVscGVyOiB1c2UgdGhlIGNvbnZlcnNpb24gaGVscGVyXG4gICAqL1xuXG4gIHZhciBtYXAgPSB7XG4gICAgICAnZm9ybWF0JzogeyBrZXk6ICdmb3JtYXQnLCBmb3JtYXQ6ICclbSAnLCBoZWxwZXI6ICdGb3JtYXQnIH1cbiAgICAsICdkZXB0aCc6ICB7IGtleTogJ2RlcHRoJywgIGZvcm1hdDogJyVxJyB9XG4gICAgLCAnZmlsZXNpemUnOiB7IGtleTogJ0ZpbGVzaXplJywgZm9ybWF0OiAnJWInIH1cbiAgICAsICdzaXplJzogIHsga2V5OiAnc2l6ZScsIGZvcm1hdDogJyV3eCVoICcsIGhlbHBlcjogJ0dlb21ldHJ5JyB9XG4gICAgLCAnY29sb3InOiB7IGtleTogJ2NvbG9yJywgZm9ybWF0OiAnJWsnLCAgaGVscGVyOiAnQ29sb3JzJyB9XG4gICAgLCAnb3JpZW50YXRpb24nOiB7IGtleTogJ09yaWVudGF0aW9uJywgZm9ybWF0OiAnJVtFWElGOk9yaWVudGF0aW9uXScsIGhlbHBlcjogJ09yaWVudGF0aW9uJyB9XG4gICAgLCAncmVzJzogICB7IGtleTogJ1Jlc29sdXRpb24nLCB2ZXJib3NlOiB0cnVlIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXR0ZXIgZnVuY3Rpb25zXG4gICAqL1xuXG4gIE9iamVjdC5rZXlzKG1hcCkuZm9yRWFjaChmdW5jdGlvbiAoZ2V0dGVyKSB7XG4gICAgcHJvdG9bZ2V0dGVyXSA9IGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICAgICAgaWYgKCFjYWxsYmFjaykgY2FsbGJhY2sgPSBvcHRzLCBvcHRzID0ge307XG4gICAgICBpZiAoIWNhbGxiYWNrKSByZXR1cm4gdGhpcztcblxuICAgICAgdmFyIHZhbCA9IG1hcFtnZXR0ZXJdXG4gICAgICAgICwga2V5ID0gdmFsLmtleVxuICAgICAgICAsIHNlbGYgPSB0aGlzO1xuXG4gICAgICBpZiAoc2VsZi5kYXRhW2tleV0pIHtcbiAgICAgICAgY2FsbGJhY2suY2FsbChzZWxmLCBudWxsLCBzZWxmLmRhdGFba2V5XSk7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICBzZWxmLm9uKGdldHRlciwgY2FsbGJhY2spO1xuXG4gICAgICBzZWxmLmJ1ZmZlclN0cmVhbSA9ICEhb3B0cy5idWZmZXJTdHJlYW07XG5cbiAgICAgIGlmICh2YWwudmVyYm9zZSkge1xuICAgICAgICBzZWxmLmlkZW50aWZ5KG9wdHMsIGZ1bmN0aW9uIChlcnIsIHN0ZG91dCwgc3RkZXJyLCBjbWQpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICBzZWxmLmVtaXQoZ2V0dGVyLCBlcnIsIHNlbGYuZGF0YVtrZXldLCBzdGRvdXQsIHN0ZGVyciwgY21kKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VsZi5lbWl0KGdldHRlciwgZXJyLCBzZWxmLmRhdGFba2V5XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIHZhciBhcmdzID0gbWFrZUFyZ3Moc2VsZiwgdmFsKTtcbiAgICAgIHNlbGYuX2V4ZWMoYXJncywgZnVuY3Rpb24gKGVyciwgc3Rkb3V0LCBzdGRlcnIsIGNtZCkge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgc2VsZi5lbWl0KGdldHRlciwgZXJyLCBzZWxmLmRhdGFba2V5XSwgc3Rkb3V0LCBzdGRlcnIsIGNtZCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlc3VsdCA9IChzdGRvdXR8fCcnKS50cmltKCk7XG5cbiAgICAgICAgaWYgKHZhbC5oZWxwZXIgaW4gaGVscGVyKSB7XG4gICAgICAgICAgaGVscGVyW3ZhbC5oZWxwZXJdKHNlbGYuZGF0YSwgcmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLmRhdGFba2V5XSA9IHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYuZW1pdChnZXR0ZXIsIGVyciwgc2VsZi5kYXRhW2tleV0pO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIGlkZW50aWZ5IGNvbW1hbmRcbiAgICpcbiAgICogT3ZlcndyaXRlcyBhbGwgaW50ZXJuYWwgZGF0YSB3aXRoIHRoZSBwYXJzZWQgb3V0cHV0XG4gICAqIHdoaWNoIGlzIG1vcmUgYWNjdXJhdGUgdGhhbiB0aGUgZmFzdCBzaG9ydGN1dFxuICAgKiBnZXR0ZXJzLlxuICAgKi9cblxuICBwcm90by5pZGVudGlmeSA9IGZ1bmN0aW9uIGlkZW50aWZ5IChvcHRzLCBjYWxsYmFjaykge1xuICAgIC8vIGlkZW50aWZ5IHdpdGggcGF0dGVyblxuICAgIGlmICh0eXBlb2Yob3B0cykgPT09ICdzdHJpbmcnKSB7XG4gICAgICBvcHRzID0ge1xuICAgICAgICBmb3JtYXQ6IG9wdHNcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFjYWxsYmFjaykgY2FsbGJhY2sgPSBvcHRzLCBvcHRzID0ge307XG4gICAgaWYgKCFjYWxsYmFjaykgcmV0dXJuIHRoaXM7XG4gICAgaWYgKG9wdHMgJiYgb3B0cy5mb3JtYXQpIHJldHVybiBpZGVudGlmeVBhdHRlcm4uY2FsbCh0aGlzLCBvcHRzLCBjYWxsYmFjayk7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBpZiAoSURFTlRJRklFRCA9PT0gc2VsZi5faWRlbnRpZnlTdGF0ZSkge1xuICAgICAgY2FsbGJhY2suY2FsbChzZWxmLCBudWxsLCBzZWxmLmRhdGEpO1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgc2VsZi5vbignaWRlbnRpZnknLCBjYWxsYmFjayk7XG5cbiAgICBpZiAoSURFTlRJRllJTkcgPT09IHNlbGYuX2lkZW50aWZ5U3RhdGUpIHtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIHNlbGYuX2lkZW50aWZ5U3RhdGUgPSBJREVOVElGWUlORztcblxuICAgIHNlbGYuYnVmZmVyU3RyZWFtID0gISFvcHRzLmJ1ZmZlclN0cmVhbTtcblxuICAgIHZhciBhcmdzID0gbWFrZUFyZ3Moc2VsZiwgeyB2ZXJib3NlOiB0cnVlIH0pO1xuXG4gICAgc2VsZi5fZXhlYyhhcmdzLCBmdW5jdGlvbiAoZXJyLCBzdGRvdXQsIHN0ZGVyciwgY21kKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHNlbGYuZW1pdCgnaWRlbnRpZnknLCBlcnIsIHNlbGYuZGF0YSwgc3Rkb3V0LCBzdGRlcnIsIGNtZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZXJyID0gcGFyc2Uoc3Rkb3V0LCBzZWxmKTtcblxuICAgICAgaWYgKGVycikge1xuICAgICAgICBzZWxmLmVtaXQoJ2lkZW50aWZ5JywgZXJyLCBzZWxmLmRhdGEsIHN0ZG91dCwgc3RkZXJyLCBjbWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNlbGYuZGF0YS5wYXRoID0gc2VsZi5zb3VyY2U7XG5cbiAgICAgIHNlbGYuZW1pdCgnaWRlbnRpZnknLCBudWxsLCBzZWxmLmRhdGEpO1xuICAgICAgc2VsZi5faWRlbnRpZnlTdGF0ZSA9IElERU5USUZJRUQ7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIGlkZW50aWZ5IHdpdGggcGF0dGVyblxuICAgKlxuICAgKiBFeGVjdXRlIGBpZGVudGlmeSAtZm9ybWF0YCB3aXRoIGN1c3RvbSBwYXR0ZXJuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGlkZW50aWZ5UGF0dGVybiAob3B0cywgY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBzZWxmLmJ1ZmZlclN0cmVhbSA9ICEhb3B0cy5idWZmZXJTdHJlYW07XG5cbiAgICB2YXIgYXJncyA9IG1ha2VBcmdzKHNlbGYsIG9wdHMpO1xuICAgIHNlbGYuX2V4ZWMoYXJncywgZnVuY3Rpb24gKGVyciwgc3Rkb3V0LCBzdGRlcnIsIGNtZCkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2suY2FsbChzZWxmLCBlcnIsIHVuZGVmaW5lZCwgc3Rkb3V0LCBzdGRlcnIsIGNtZCk7XG4gICAgICB9XG5cbiAgICAgIGNhbGxiYWNrLmNhbGwoc2VsZiwgZXJyLCAoc3Rkb3V0fHwnJykudHJpbSgpKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBzZWxmO1xuICB9XG5cblxuICAvKipcbiAgICogUGFyc2VzIGBpZGVudGlmeWAgcmVzcG9uc2VzLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3Rkb3V0XG4gICAqIEBwYXJhbSB7R219IHNlbGZcbiAgICogQHJldHVybiB7RXJyb3J9IFtvcHRpb25hbGx5XVxuICAgKi9cblxuICBmdW5jdGlvbiBwYXJzZSAoc3Rkb3V0LCBzZWxmKSB7XG4gICAgLy8gbm9ybWFsaXplXG4gICAgdmFyIHBhcnRzID0gKHN0ZG91dHx8XCJcIikudHJpbSgpLnJlcGxhY2UoL1xcclxcbnxcXHIvZywgXCJcXG5cIikuc3BsaXQoXCJcXG5cIik7XG5cbiAgICAvLyBza2lwIHRoZSBmaXJzdCBsaW5lIChpdHMganVzdCB0aGUgZmlsZW5hbWUpXG4gICAgcGFydHMuc2hpZnQoKTtcblxuICAgIHRyeSB7XG4gICAgICB2YXIgbGVuID0gcGFydHMubGVuZ3RoXG4gICAgICAgICwgcmd4MSA9IC9eKCAqKSguKz8pOiAoLiopJC8gLy8ga2V5OiB2YWxcbiAgICAgICAgLCByZ3gyID0gL14oICopKC4rPyk6JC8gICAgICAvLyBrZXk6IGJlZ2luIG5lc3RlZCBvYmplY3RcbiAgICAgICAgLCBvdXQgPSB7IGluZGVudDoge30gfVxuICAgICAgICAsIGxldmVsID0gbnVsbFxuICAgICAgICAsIGxhc3RrZXlcbiAgICAgICAgLCBpID0gMFxuICAgICAgICAsIHJlc1xuICAgICAgICAsIG9cblxuICAgICAgZm9yICg7IGkgPCBsZW47ICsraSkge1xuICAgICAgICByZXMgPSByZ3gxLmV4ZWMocGFydHNbaV0pIHx8IHJneDIuZXhlYyhwYXJ0c1tpXSk7XG4gICAgICAgIGlmICghcmVzKSBjb250aW51ZTtcblxuICAgICAgICB2YXIgaW5kZW50ID0gcmVzWzFdLmxlbmd0aFxuICAgICAgICAgICwga2V5ID0gcmVzWzJdID8gcmVzWzJdLnRyaW0oKSA6ICcnO1xuXG4gICAgICAgIGlmICgnSW1hZ2UnID09IGtleSB8fCAnV2FybmluZycgPT0ga2V5KSBjb250aW51ZTtcblxuICAgICAgICB2YXIgdmFsID0gcmVzWzNdID8gcmVzWzNdLnRyaW0oKSA6IG51bGw7XG5cbiAgICAgICAgLy8gZmlyc3QgaXRlcmF0aW9uP1xuICAgICAgICBpZiAobnVsbCA9PT0gbGV2ZWwpIHtcbiAgICAgICAgICBsZXZlbCA9IGluZGVudDtcbiAgICAgICAgICBvID0gb3V0LnJvb3QgPSBvdXQuaW5kZW50W2xldmVsXSA9IHNlbGYuZGF0YTtcbiAgICAgICAgfSBlbHNlIGlmIChpbmRlbnQgPCBsZXZlbCkge1xuICAgICAgICAgIC8vIG91dGRlbnRcbiAgICAgICAgICBpZiAoIShpbmRlbnQgaW4gb3V0LmluZGVudCkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvID0gb3V0LmluZGVudFtpbmRlbnRdO1xuICAgICAgICB9IGVsc2UgaWYgKGluZGVudCA+IGxldmVsKSB7XG4gICAgICAgICAgLy8gZHJvcHBpbmcgaW50byBhIG5lc3RlZCBvYmplY3RcbiAgICAgICAgICBvdXQuaW5kZW50W2xldmVsXSA9IG87XG4gICAgICAgICAgLy8gd2VpcmQgZm9ybWF0LCBrZXkvdmFsIHBhaXIgd2l0aCBuZXN0ZWQgY2hpbGRyZW4uIGRpc2NhcmQgdGhlIHZhbFxuICAgICAgICAgIG8gPSBvW2xhc3RrZXldID0ge307XG4gICAgICAgIH1cblxuICAgICAgICBsZXZlbCA9IGluZGVudDtcblxuICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgLy8gaWYgcHJldmlvdXMga2V5IHdhcyBleGlzdCBhbmQgd2UgZ290IHRoZSBzYW1lIGtleVxuICAgICAgICAgIC8vIGNhc3QgaXQgdG8gYW4gYXJyYXkuXG4gICAgICAgICAgaWYoby5oYXNPd25Qcm9wZXJ0eShrZXkpKXtcbiAgICAgICAgICAgIC8vIGNhc3QgaXQgdG8gYW4gYXJyYXkgYW5kIGRvbnQgZm9yZ2V0IHRoZSBwcmV2aW91cyB2YWx1ZVxuICAgICAgICAgICAgaWYoIUFycmF5LmlzQXJyYXkob1trZXldKSl7XG4gICAgICAgICAgICAgIHZhciB0bXAgPSBvW2tleV07XG4gICAgICAgICAgICAgIG9ba2V5XSA9IFt0bXBdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzZXQgdmFsdWVcbiAgICAgICAgICAgIG9ba2V5XS5wdXNoKHZhbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9ba2V5XSA9IHZhbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoa2V5IGluIGhlbHBlcikge1xuICAgICAgICAgICAgaGVscGVyW2tleV0obywgdmFsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsYXN0a2V5ID0ga2V5O1xuICAgICAgfVxuXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBlcnIubWVzc2FnZSA9IGVyci5tZXNzYWdlICsgXCJcXG5cXG4gIElkZW50aWZ5IHN0ZG91dDpcXG4gIFwiICsgc3Rkb3V0O1xuICAgICAgcmV0dXJuIGVycjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGFuIGFyZ3VtZW50IGFycmF5IGZvciB0aGUgaWRlbnRpZnkgY29tbWFuZC5cbiAgICpcbiAgICogQHBhcmFtIHtnbX0gc2VsZlxuICAgKiBAcGFyYW0ge09iamVjdH0gdmFsXG4gICAqIEByZXR1cm4ge0FycmF5fVxuICAgKi9cblxuICBmdW5jdGlvbiBtYWtlQXJncyAoc2VsZiwgdmFsKSB7XG4gICAgdmFyIGFyZ3MgPSBbXG4gICAgICAgICdpZGVudGlmeSdcbiAgICAgICwgJy1waW5nJ1xuICAgIF07XG5cbiAgICBpZiAodmFsLmZvcm1hdCkge1xuICAgICAgYXJncy5wdXNoKCctZm9ybWF0JywgdmFsLmZvcm1hdCk7XG4gICAgfVxuXG4gICAgaWYgKHZhbC52ZXJib3NlKSB7XG4gICAgICBhcmdzLnB1c2goJy12ZXJib3NlJyk7XG4gICAgfVxuXG4gICAgYXJncyA9IGFyZ3MuY29uY2F0KHNlbGYuc3JjKCkpO1xuICAgIHJldHVybiBhcmdzO1xuICB9XG5cbiAgLyoqXG4gICAqIE1hcCBleGlmIG9yaWVudGF0aW9uIGNvZGVzIHRvIG9yaWVudGF0aW9uIG5hbWVzLlxuICAgKi9cblxuICB2YXIgb3JpZW50YXRpb25zID0ge1xuICAgICAgJzEnOiAnVG9wTGVmdCdcbiAgICAsICcyJzogJ1RvcFJpZ2h0J1xuICAgICwgJzMnOiAnQm90dG9tUmlnaHQnXG4gICAgLCAnNCc6ICdCb3R0b21MZWZ0J1xuICAgICwgJzUnOiAnTGVmdFRvcCdcbiAgICAsICc2JzogJ1JpZ2h0VG9wJ1xuICAgICwgJzcnOiAnUmlnaHRCb3R0b20nXG4gICAgLCAnOCc6ICdMZWZ0Qm90dG9tJ1xuICB9XG5cbiAgLyoqXG4gICAqIGlkZW50aWZ5IC12ZXJib3NlIGhlbHBlcnNcbiAgICovXG5cbiAgdmFyIGhlbHBlciA9IGdtLmlkZW50aWZ5SGVscGVycyA9IHt9O1xuXG4gIGhlbHBlci5HZW9tZXRyeSA9IGZ1bmN0aW9uIEdlb21ldHJ5IChvLCB2YWwpIHtcbiAgICAvLyBXZSBvbmx5IHdhbnQgdGhlIHNpemUgb2YgdGhlIGZpcnN0IGZyYW1lLlxuICAgIC8vIEVhY2ggZnJhbWUgaXMgc2VwYXJhdGVkIGJ5IGEgc3BhY2UuXG4gICAgdmFyIHNwbGl0ID0gdmFsLnNwbGl0KFwiIFwiKS5zaGlmdCgpLnNwbGl0KFwieFwiKTtcbiAgICB2YXIgd2lkdGggPSBwYXJzZUludChzcGxpdFswXSwgMTApO1xuICAgIHZhciBoZWlnaHQgPSBwYXJzZUludChzcGxpdFsxXSwgMTApO1xuICAgIGlmIChvLnNpemUgJiYgby5zaXplLndpZHRoICYmIG8uc2l6ZS5oZWlnaHQpIHtcbiAgICAgIGlmICh3aWR0aCA+IG8uc2l6ZS53aWR0aCkgby5zaXplLndpZHRoID0gd2lkdGg7XG4gICAgICBpZiAoaGVpZ2h0ID4gby5zaXplLmhlaWdodCkgby5zaXplLmhlaWdodCA9IGhlaWdodDtcbiAgICB9IGVsc2Uge1xuICAgICAgby5zaXplID0ge1xuICAgICAgICB3aWR0aDogIHdpZHRoLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodFxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBoZWxwZXIuRm9ybWF0ID0gZnVuY3Rpb24gRm9ybWF0IChvLCB2YWwpIHtcbiAgICBvLmZvcm1hdCA9IHZhbC5zcGxpdChcIiBcIilbMF07XG4gIH07XG5cbiAgaGVscGVyLkRlcHRoID0gZnVuY3Rpb24gRGVwdGggKG8sIHZhbCkge1xuICAgIG8uZGVwdGggPSBwYXJzZUludCh2YWwsIDEwKTtcbiAgfTtcblxuICBoZWxwZXIuQ29sb3JzID0gZnVuY3Rpb24gQ29sb3JzIChvLCB2YWwpIHtcbiAgICBvLmNvbG9yID0gcGFyc2VJbnQodmFsLCAxMCk7XG4gIH07XG5cbiAgaGVscGVyLk9yaWVudGF0aW9uID0gZnVuY3Rpb24gT3JpZW50YXRpb24gKG8sIHZhbCkge1xuICAgIGlmICh2YWwgaW4gb3JpZW50YXRpb25zKSB7XG4gICAgICBvWydQcm9maWxlLUVYSUYnXSB8fCAob1snUHJvZmlsZS1FWElGJ10gPSB7fSk7XG4gICAgICBvWydQcm9maWxlLUVYSUYnXS5PcmllbnRhdGlvbiA9IHZhbDtcbiAgICAgIG8uT3JpZW50YXRpb24gPSBvcmllbnRhdGlvbnNbdmFsXTtcbiAgICB9IGVsc2Uge1xuICAgICAgby5PcmllbnRhdGlvbiA9IHZhbCB8fCAnVW5rbm93bic7XG4gICAgfVxuICB9O1xufVxuXG4iLCAiXG4vKipcbiAqIEVzY2FwZSB0aGUgZ2l2ZW4gc2hlbGwgYGFyZ2AuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGFyZ1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLmVzY2FwZSA9IGZ1bmN0aW9uIGVzY2FwZSAoYXJnKSB7XG4gIHJldHVybiAnXCInICsgU3RyaW5nKGFyZykudHJpbSgpLnJlcGxhY2UoL1wiL2csICdcXFxcXCInKSArICdcIic7XG59O1xuXG5leHBvcnRzLnVuZXNjYXBlID0gZnVuY3Rpb24gZXNjYXBlIChhcmcpIHtcbiAgICByZXR1cm4gU3RyaW5nKGFyZykudHJpbSgpLnJlcGxhY2UoL1wiL2csIFwiXCIpO1xufTtcblxuZXhwb3J0cy5hcmdzVG9BcnJheSA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gIHZhciBhcnIgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8PSBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoJ3VuZGVmaW5lZCcgIT0gdHlwZW9mIGFyZ3VtZW50c1tpXSlcbiAgICAgIGFyci5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gIH1cblxuICByZXR1cm4gYXJyO1xufTtcblxuZXhwb3J0cy5pc1V0aWwgPSBmdW5jdGlvbiAodikge1xuXHR2YXIgdHkgPSAnb2JqZWN0Jztcblx0c3dpdGNoIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodikpIHtcblx0Y2FzZSAnW29iamVjdCBTdHJpbmddJzpcblx0XHR0eSA9ICdTdHJpbmcnO1xuXHRcdGJyZWFrO1xuXHRjYXNlICdbb2JqZWN0IEFycmF5XSc6XG5cdFx0dHkgPSAnQXJyYXknO1xuXHRcdGJyZWFrO1xuXHRjYXNlICdbb2JqZWN0IEJvb2xlYW5dJzpcblx0XHR0eSA9ICdCb29sZWFuJztcblx0XHRicmVhaztcblx0fVxuXHRyZXR1cm4gdHk7XG59IiwgIi8qKlxuICogRGVwZW5kZW5jaWVzXG4gKi9cblxudmFyIGFyZ3NUb0FycmF5ID0gcmVxdWlyZSgnLi91dGlscycpLmFyZ3NUb0FycmF5O1xudmFyIGlzVXRpbCA9IHJlcXVpcmUoJy4vdXRpbHMnKS5pc1V0aWw7XG4vKipcbiAqIEV4dGVuZCBwcm90b1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHByb3RvKSB7XG4gIC8vIGNoYW5nZSB0aGUgc3BlY2lmaWVkIGZyYW1lLlxuICAvLyBTZWUgIzIwMi5cbiAgcHJvdG8uc2VsZWN0RnJhbWUgPSBmdW5jdGlvbiAoZnJhbWUpIHtcbiAgICBpZiAodHlwZW9mIGZyYW1lID09PSAnbnVtYmVyJylcbiAgICAgIHRoaXMuc291cmNlRnJhbWVzID0gJ1snICsgZnJhbWUgKyAnXSc7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBkZWZpbmUgdGhlIHN1Yi1jb21tYW5kIHRvIHVzZSwgaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvdXRpbGl0aWVzLmh0bWxcbiAgcHJvdG8uY29tbWFuZCA9IHByb3RvLnN1YkNvbW1hbmQgPSBmdW5jdGlvbiBzdWJDb21tYW5kIChuYW1lKXtcbiAgICB0aGlzLl9zdWJDb21tYW5kID0gbmFtZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1hZGpvaW5cbiAgcHJvdG8uYWRqb2luID0gZnVuY3Rpb24gYWRqb2luICgpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItYWRqb2luXCIpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLWFmZmluZVxuICBwcm90by5hZmZpbmUgPSBmdW5jdGlvbiBhZmZpbmUgKG1hdHJpeCkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1hZmZpbmVcIiwgbWF0cml4KTtcbiAgfVxuXG4gIHByb3RvLmFscGhhID0gZnVuY3Rpb24gYWxwaGEgKHR5cGUpIHtcbiAgICBpZiAoIXRoaXMuX29wdGlvbnMuaW1hZ2VNYWdpY2spIHJldHVybiBuZXcgRXJyb3IoJ01ldGhvZCAtYWxwaGEgaXMgbm90IHN1cHBvcnRlZCBieSBHcmFwaGljc01hZ2ljaycpO1xuICAgIHJldHVybiB0aGlzLm91dCgnLWFscGhhJywgdHlwZSk7XG4gIH1cblxuICAvKipcbiAgICogQXBwZW5kcyBpbWFnZXMgdG8gdGhlIGxpc3Qgb2YgXCJzb3VyY2VcIiBpbWFnZXMuXG4gICAqXG4gICAqIFdlIG1heSBhbHNvIHNwZWNpZnkgZWl0aGVyIHRvcC10by1ib3R0b20gb3IgbGVmdC10by1yaWdodFxuICAgKiBiZWhhdmlvciBvZiB0aGUgYXBwZW5kaW5nIGJ5IHBhc3NpbmcgYSBib29sZWFuIGFyZ3VtZW50LlxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgaW1nID0gZ20oc3JjKTtcbiAgICpcbiAgICogICAgLy8gK2FwcGVuZCBtZWFucyBsZWZ0LXRvLXJpZ2h0XG4gICAqICAgIGltZy5hcHBlbmQoaW1nMSwgaW1nMikgICAgICAgZ20gY29udmVydCBzcmMgaW1nMSBpbWcyIC1hcHBlbmRcbiAgICogICAgaW1nLmFwcGVuZChpbWcsIHRydWUpICAgICAgICBnbSBjb252ZXJ0IHNyYyBpbWcgK2FwcGVuZFxuICAgKiAgICBpbWcuYXBwZW5kKGltZywgZmFsc2UpICAgICAgIGdtIGNvbnZlcnQgc3JjIGltZyAtYXBwZW5kXG4gICAqICAgIGltZy5hcHBlbmQoaW1nKSAgICAgICAgICAgICAgZ20gY29udmVydCBzcmMgaW1nIC1hcHBlbmRcbiAgICogICAgaW1nLmFwcGVuZChpbWcpLmFwcGVuZCgpICAgICBnbSBjb252ZXJ0IHNyYyBpbWcgLWFwcGVuZFxuICAgKiAgICBpbWcuYXBwZW5kKGltZykuYXBwZW5kKHRydWUpIGdtIGNvbnZlcnQgc3JjIGltZyArYXBwZW5kXG4gICAqICAgIGltZy5hcHBlbmQoaW1nKS5hcHBlbmQodHJ1ZSkgZ20gY29udmVydCBzcmMgaW1nICthcHBlbmRcbiAgICogICAgaW1nLmFwcGVuZChpbWcpLmJhY2tncm91bmQoJyMyMjIpIGdtIGNvbnZlcnQgc3JjIGltZyAtYmFja2dyb3VuZCAjMjIyICthcHBlbmRcbiAgICogICAgaW1nLmFwcGVuZChbaW1nMSxpbWcyLi4uXSx0cnVlKVxuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvciB7QXJyYXl9IFtpbWddXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2x0cl1cbiAgICogQHNlZSBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtYXBwZW5kXG4gICAqL1xuXG4gIHByb3RvLmFwcGVuZCA9IGZ1bmN0aW9uIGFwcGVuZCAoaW1nLCBsdHIpIHtcbiAgICBpZiAoIXRoaXMuX2FwcGVuZCkge1xuICAgICAgdGhpcy5fYXBwZW5kID0gW107XG4gICAgICB0aGlzLmFkZFNyY0Zvcm1hdHRlcihmdW5jdGlvbiAoc3JjKSB7XG4gICAgICAgIHRoaXMub3V0KHRoaXMuX2FwcGVuZC5sdHIgPyAnK2FwcGVuZCcgOiAnLWFwcGVuZCcpO1xuICAgICAgICBzcmMucHVzaC5hcHBseShzcmMsIHRoaXMuX2FwcGVuZCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoMCA9PT0gYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgdGhpcy5fYXBwZW5kLmx0ciA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG4gICAgICBzd2l0Y2ggKGlzVXRpbChhcmcpKSB7XG4gICAgICAgIGNhc2UgJ0Jvb2xlYW4nOlxuICAgICAgICAgIHRoaXMuX2FwcGVuZC5sdHIgPSBhcmc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ1N0cmluZyc6XG4gICAgICAgICAgdGhpcy5fYXBwZW5kLnB1c2goYXJnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnQXJyYXknOlxuICAgICAgICAgIGZvcih2YXIgaj0wLGxlbj1hcmcubGVuZ3RoO2o8bGVuO2orKyl7XG4gICAgICAgICAgICBpZihpc1V0aWwoYXJnW2pdKSA9PSAnU3RyaW5nJyl7XG4gICAgICAgICAgICAgIHRoaXMuX2FwcGVuZC5wdXNoKGFyZ1tqXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLWF1dGhlbnRpY2F0ZVxuICBwcm90by5hdXRoZW50aWNhdGUgPSBmdW5jdGlvbiBhdXRoZW50aWNhdGUgKHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1hdXRoZW50aWNhdGVcIiwgc3RyaW5nKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1hdmVyYWdlXG4gIHByb3RvLmF2ZXJhZ2UgPSBmdW5jdGlvbiBhdmVyYWdlICgpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItYXZlcmFnZVwiKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1iYWNrZHJvcFxuICBwcm90by5iYWNrZHJvcCA9IGZ1bmN0aW9uIGJhY2tkcm9wICgpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItYmFja2Ryb3BcIik7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtYmxhY2stdGhyZXNob2xkXG4gIHByb3RvLmJsYWNrVGhyZXNob2xkID0gZnVuY3Rpb24gYmxhY2tUaHJlc2hvbGQgKHJlZCwgZ3JlZW4sIGJsdWUsIG9wYWNpdHkpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItYmxhY2stdGhyZXNob2xkXCIsIGFyZ3NUb0FycmF5KHJlZCwgZ3JlZW4sIGJsdWUsIG9wYWNpdHkpLmpvaW4oJywnKSk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtYmx1ZS1wcmltYXJ5XG4gIHByb3RvLmJsdWVQcmltYXJ5ID0gZnVuY3Rpb24gYmx1ZVByaW1hcnkgKHgsIHkpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItYmx1ZS1wcmltYXJ5XCIsIGFyZ3NUb0FycmF5KHgsIHkpLmpvaW4oJywnKSk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtYm9yZGVyXG4gIHByb3RvLmJvcmRlciA9IGZ1bmN0aW9uIGJvcmRlciAod2lkdGgsIGhlaWdodCkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1ib3JkZXJcIiwgd2lkdGgrXCJ4XCIraGVpZ2h0KTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1ib3JkZXJjb2xvclxuICBwcm90by5ib3JkZXJDb2xvciA9IGZ1bmN0aW9uIGJvcmRlckNvbG9yIChjb2xvcikge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1ib3JkZXJjb2xvclwiLCBjb2xvcik7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtYm94XG4gIHByb3RvLmJveCA9IGZ1bmN0aW9uIGJveCAoY29sb3IpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItYm94XCIsIGNvbG9yKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1jaGFubmVsXG4gIHByb3RvLmNoYW5uZWwgPSBmdW5jdGlvbiBjaGFubmVsICh0eXBlKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLWNoYW5uZWxcIiwgdHlwZSk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtY2hvcFxuICBwcm90by5jaG9wID0gZnVuY3Rpb24gY2hvcCAodywgaCwgeCwgeSkge1xuICAgIHJldHVybiB0aGlzLmluKFwiLWNob3BcIiwgdytcInhcIitoICsgXCIrXCIrKHh8fDApK1wiK1wiKyh5fHwwKSk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtY2xpcFxuICBwcm90by5jbGlwID0gZnVuY3Rpb24gY2xpcCAoKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLWNsaXBcIik7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtY29hbGVzY2VcbiAgcHJvdG8uY29hbGVzY2UgPSBmdW5jdGlvbiBjb2FsZXNjZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLWNvYWxlc2NlXCIpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLWNvbG9yaXplXG4gIHByb3RvLmNvbG9yaXplID0gZnVuY3Rpb24gY29sb3JpemUgKHIsIGcsIGIpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItY29sb3JpemVcIiwgW3IsZyxiXS5qb2luKFwiLFwiKSk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtY29sb3JtYXBcbiAgcHJvdG8uY29sb3JNYXAgPSBmdW5jdGlvbiBjb2xvck1hcCAodHlwZSkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1jb2xvcm1hcFwiLCB0eXBlKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1jb21wb3NlXG4gIHByb3RvLmNvbXBvc2UgPSBmdW5jdGlvbiBjb21wb3NlIChvcGVyYXRvcikge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1jb21wb3NlXCIsIG9wZXJhdG9yKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1jb21wcmVzc1xuICBwcm90by5jb21wcmVzcyA9IGZ1bmN0aW9uIGNvbXByZXNzICh0eXBlKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLWNvbXByZXNzXCIsIHR5cGUpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLWtlcm5lbFxuICBwcm90by5jb252b2x2ZSA9IGZ1bmN0aW9uIGNvbnZvbHZlIChrZXJuZWwpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItY29udm9sdmVcIiwga2VybmVsKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1jcmVhdGUtZGlyZWN0b3JpZXNcbiAgcHJvdG8uY3JlYXRlRGlyZWN0b3JpZXMgPSBmdW5jdGlvbiBjcmVhdGVEaXJlY3RvcmllcyAoKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLWNyZWF0ZS1kaXJlY3Rvcmllc1wiKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1kZWNvbnN0cnVjdFxuICBwcm90by5kZWNvbnN0cnVjdCA9IGZ1bmN0aW9uIGRlY29uc3RydWN0ICgpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItZGVjb25zdHJ1Y3RcIik7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtZGVmaW5lXG4gIHByb3RvLmRlZmluZSA9IGZ1bmN0aW9uIGRlZmluZSAodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItZGVmaW5lXCIsIHZhbHVlKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1kZWxheVxuICBwcm90by5kZWxheSA9IGZ1bmN0aW9uIGRlbGF5ICh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1kZWxheVwiLCB2YWx1ZSk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtZGlzcGxhY2VcbiAgcHJvdG8uZGlzcGxhY2UgPSBmdW5jdGlvbiBkaXNwbGFjZSAoaG9yaXpvbnRhbFNjYWxlLCB2ZXJ0aWNhbFNjYWxlKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLWRpc3BsYWNlXCIsIGhvcml6b250YWxTY2FsZSsneCcrdmVydGljYWxTY2FsZSk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtZGlzcGxheVxuICBwcm90by5kaXNwbGF5ID0gZnVuY3Rpb24gZGlzcGxheSAodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItZGlzcGxheVwiLCB2YWx1ZSk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtZGlzcG9zZVxuICBwcm90by5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSAobWV0aG9kKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLWRpc3Bvc2VcIiwgbWV0aG9kKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1kaXNzb2x2ZVxuICBwcm90by5kaXNzb2x2ZSA9IGZ1bmN0aW9uIGRpc3NvbHZlIChwZXJjZW50KSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLWRpc3NvbHZlXCIsIHBlcmNlbnQrJyUnKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1lbmNvZGluZ1xuICBwcm90by5lbmNvZGluZyA9IGZ1bmN0aW9uIGVuY29kaW5nICh0eXBlKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLWVuY29kaW5nXCIsIHR5cGUpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLWVuZGlhblxuICBwcm90by5lbmRpYW4gPSBmdW5jdGlvbiBlbmRpYW4gKHR5cGUpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItZW5kaWFuXCIsIHR5cGUpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLWZpbGVcbiAgcHJvdG8uZmlsZSA9IGZ1bmN0aW9uIGZpbGUgKGZpbGVuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLWZpbGVcIiwgZmlsZW5hbWUpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLWZsYXR0ZW5cbiAgcHJvdG8uZmxhdHRlbiA9IGZ1bmN0aW9uIGZsYXR0ZW4gKCkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1mbGF0dGVuXCIpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLWZvcmVncm91bmRcbiAgcHJvdG8uZm9yZWdyb3VuZCA9IGZ1bmN0aW9uIGZvcmVncm91bmQgKGNvbG9yKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLWZvcmVncm91bmRcIiwgY29sb3IpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLWZyYW1lXG4gIHByb3RvLmZyYW1lID0gZnVuY3Rpb24gZnJhbWUgKHdpZHRoLCBoZWlnaHQsIG91dGVyQmV2ZWxXaWR0aCwgaW5uZXJCZXZlbFdpZHRoKSB7XG4gICAgaWYoYXJndW1lbnRzLmxlbmd0aD09MCkgcmV0dXJuIHRoaXMub3V0KFwiLWZyYW1lXCIpO1xuICAgIHJldHVybiB0aGlzLm91dChcIi1mcmFtZVwiLCB3aWR0aCsneCcraGVpZ2h0KycrJytvdXRlckJldmVsV2lkdGgrJysnK2lubmVyQmV2ZWxXaWR0aCk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtZnV6elxuICBwcm90by5mdXp6ID0gZnVuY3Rpb24gZnV6eiAoZGlzdGFuY2UsIHBlcmNlbnQpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItZnV6elwiLCBkaXN0YW5jZSsocGVyY2VudD8nJSc6JycpKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1nYXVzc2lhblxuICBwcm90by5nYXVzc2lhbiA9IGZ1bmN0aW9uIGdhdXNzaWFuIChyYWRpdXMsIHNpZ21hKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLWdhdXNzaWFuXCIsIGFyZ3NUb0FycmF5KHJhZGl1cywgc2lnbWEpLmpvaW4oJ3gnKSk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtZ2VvbWV0cnlcbiAgcHJvdG8uZ2VvbWV0cnkgPSBmdW5jdGlvbiBnZW9tZXRyeSAod2lkdGgsIGhlaWdodCwgYXJnKSB7XG4gICAgLy8gSWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIGEgc3RyaW5nLCBhbmQgdGhlcmUgaXMgb25seSBvbmUgYXJndW1lbnQsIHRoaXMgaXMgYSBjdXN0b20gZ2VvbWV0cnkgY29tbWFuZC5cbiAgICBpZihhcmd1bWVudHMubGVuZ3RoID09IDEgJiYgdHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gXCJzdHJpbmdcIilcbiAgICAgIHJldHVybiB0aGlzLm91dChcIi1nZW9tZXRyeVwiLCBhcmd1bWVudHNbMF0pO1xuXG4gICAgLy8gT3RoZXJ3aXNlLCByZXR1cm4gYSByZXNpemluZyBnZW9tZXRyeSBjb21tYW5kIHdpdGggYW4gb3B0aW9uIGFscmd1bWVudC5cbiAgICByZXR1cm4gdGhpcy5vdXQoXCItZ2VvbWV0cnlcIiwgd2lkdGgrJ3gnK2hlaWdodCsoYXJnfHwnJykpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLWdyZWVuLXByaW1hcnlcbiAgcHJvdG8uZ3JlZW5QcmltYXJ5ID0gZnVuY3Rpb24gZ3JlZW5QcmltYXJ5ICh4LCB5KSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLWdyZWVuLXByaW1hcnlcIiwgeCsnLCcreSk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtaGlnaGxpZ2h0LWNvbG9yXG4gIHByb3RvLmhpZ2hsaWdodENvbG9yID0gZnVuY3Rpb24gaGlnaGxpZ2h0Q29sb3IgKGNvbG9yKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLWhpZ2hsaWdodC1jb2xvclwiLCBjb2xvcik7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtaGlnaGxpZ2h0LXN0eWxlXG4gIHByb3RvLmhpZ2hsaWdodFN0eWxlID0gZnVuY3Rpb24gaGlnaGxpZ2h0U3R5bGUgKHN0eWxlKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLWhpZ2hsaWdodC1zdHlsZVwiLCBzdHlsZSk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtaWNvbkdlb21ldHJ5XG4gIHByb3RvLmljb25HZW9tZXRyeSA9IGZ1bmN0aW9uIGljb25HZW9tZXRyeSAoZ2VvbWV0cnkpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItaWNvbkdlb21ldHJ5XCIsIGdlb21ldHJ5KTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1pbnRlbnRcbiAgcHJvdG8uaW50ZW50ID0gZnVuY3Rpb24gaW50ZW50ICh0eXBlKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLWludGVudFwiLCB0eXBlKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1sYXRcbiAgcHJvdG8ubGF0ID0gZnVuY3Rpb24gbGF0ICh3aWR0aCwgaGVpZ2h0LCBvZmZzZXQsIHBlcmNlbnQpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItbGF0XCIsIHdpZHRoKyd4JytoZWlnaHQrb2Zmc2V0KyhwZXJjZW50PyclJzonJykpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLWxldmVsXG4gIHByb3RvLmxldmVsID0gZnVuY3Rpb24gbGV2ZWwgKGJsYWNrUG9pbnQsIGdhbW1hLCB3aGl0ZVBvaW50LCBwZXJjZW50KSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLWxldmVsXCIsIGFyZ3NUb0FycmF5KGJsYWNrUG9pbnQsIGdhbW1hLCB3aGl0ZVBvaW50KS5qb2luKCcsJykrKHBlcmNlbnQ/JyUnOicnKSk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtbGlzdFxuICBwcm90by5saXN0ID0gZnVuY3Rpb24gbGlzdCAodHlwZSkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1saXN0XCIsIHR5cGUpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLWxvZ1xuICBwcm90by5sb2cgPSBmdW5jdGlvbiBsb2cgKHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1sb2dcIiwgc3RyaW5nKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1sb29wXG4gIHByb3RvLmxvb3AgPSBmdW5jdGlvbiBsb29wIChpdGVyYXRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLWxvb3BcIiwgaXRlcmF0aW9ucyk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtbWFwXG4gIHByb3RvLm1hcCA9IGZ1bmN0aW9uIG1hcCAoZmlsZW5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItbWFwXCIsIGZpbGVuYW1lKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1tYXNrXG4gIHByb3RvLm1hc2sgPSBmdW5jdGlvbiBtYXNrIChmaWxlbmFtZSkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1tYXNrXCIsIGZpbGVuYW1lKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1tYXR0ZVxuICBwcm90by5tYXR0ZSA9IGZ1bmN0aW9uIG1hdHRlICgpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItbWF0dGVcIik7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtbWF0dGVjb2xvclxuICBwcm90by5tYXR0ZUNvbG9yID0gZnVuY3Rpb24gbWF0dGVDb2xvciAoY29sb3IpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItbWF0dGVjb2xvclwiLCBjb2xvcik7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtbWF4aW11bS1lcnJvclxuICBwcm90by5tYXhpbXVtRXJyb3IgPSBmdW5jdGlvbiBtYXhpbXVtRXJyb3IgKGxpbWl0KSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLW1heGltdW0tZXJyb3JcIiwgbGltaXQpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLW1vZGVcbiAgcHJvdG8ubW9kZSA9IGZ1bmN0aW9uIG1vZGUgKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLW1vZGVcIiwgdmFsdWUpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLW1vbml0b3JcbiAgcHJvdG8ubW9uaXRvciA9IGZ1bmN0aW9uIG1vbml0b3IgKCkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1tb25pdG9yXCIpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLW1vc2FpY1xuICBwcm90by5tb3NhaWMgPSBmdW5jdGlvbiBtb3NhaWMgKCkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1tb3NhaWNcIik7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtbW90aW9uLWJsdXJcbiAgcHJvdG8ubW90aW9uQmx1ciA9IGZ1bmN0aW9uIG1vdGlvbkJsdXIgKHJhZGl1cywgc2lnbWEsIGFuZ2xlKSB7XG4gICAgdmFyIGFyZz1yYWRpdXM7XG4gICAgaWYgKHR5cGVvZiBzaWdtYSE9J3VuZGVmaW5lZCcpIGFyZys9J3gnK3NpZ21hO1xuICAgIGlmICh0eXBlb2YgYW5nbGUhPSd1bmRlZmluZWQnKSBhcmcrPScrJythbmdsZTtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItbW90aW9uLWJsdXJcIiwgYXJnKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1uYW1lXG4gIHByb3RvLm5hbWUgPSBmdW5jdGlvbiBuYW1lICgpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItbmFtZVwiKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1ub29wXG4gIHByb3RvLm5vb3AgPSBmdW5jdGlvbiBub29wICgpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItbm9vcFwiKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1ub3JtYWxpemVcbiAgcHJvdG8ubm9ybWFsaXplID0gZnVuY3Rpb24gbm9ybWFsaXplICgpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItbm9ybWFsaXplXCIpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLW9wYXF1ZVxuICBwcm90by5vcGFxdWUgPSBmdW5jdGlvbiBvcGFxdWUgKGNvbG9yKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLW9wYXF1ZVwiLCBjb2xvcik7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtb3BlcmF0b3JcbiAgcHJvdG8ub3BlcmF0b3IgPSBmdW5jdGlvbiBvcGVyYXRvciAoY2hhbm5lbCwgb3BlcmF0b3IsIHJ2YWx1ZSwgcGVyY2VudCkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1vcGVyYXRvclwiLCBjaGFubmVsLCBvcGVyYXRvciwgcnZhbHVlKyhwZXJjZW50PyclJzonJykpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLW9yZGVyZWQtZGl0aGVyXG4gIHByb3RvLm9yZGVyZWREaXRoZXIgPSBmdW5jdGlvbiBvcmRlcmVkRGl0aGVyIChjaGFubmVsdHlwZSwgTnhOKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLW9yZGVyZWQtZGl0aGVyXCIsIGNoYW5uZWx0eXBlLCBOeE4pO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLW91dHB1dC1kaXJlY3RvcnlcbiAgcHJvdG8ub3V0cHV0RGlyZWN0b3J5ID0gZnVuY3Rpb24gb3V0cHV0RGlyZWN0b3J5IChkaXJlY3RvcnkpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItb3V0cHV0LWRpcmVjdG9yeVwiLCBkaXJlY3RvcnkpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLXBhZ2VcbiAgcHJvdG8ucGFnZSA9IGZ1bmN0aW9uIHBhZ2UgKHdpZHRoLCBoZWlnaHQsIGFyZykge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1wYWdlXCIsIHdpZHRoKyd4JytoZWlnaHQrKGFyZ3x8JycpKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1wYXVzZVxuICBwcm90by5wYXVzZSA9IGZ1bmN0aW9uIHBhdXNlIChzZWNvbmRzKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLXBhdXNlXCIsIHNlY29uZHMpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLXBlblxuICBwcm90by5wZW4gPSBmdW5jdGlvbiBwZW4gKGNvbG9yKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLXBlblwiLCBjb2xvcik7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtcGluZ1xuICBwcm90by5waW5nID0gZnVuY3Rpb24gcGluZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLXBpbmdcIik7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtcG9pbnRzaXplXG4gIHByb3RvLnBvaW50U2l6ZSA9IGZ1bmN0aW9uIHBvaW50U2l6ZSAodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItcG9pbnRzaXplXCIsIHZhbHVlKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1wcmV2aWV3XG4gIHByb3RvLnByZXZpZXcgPSBmdW5jdGlvbiBwcmV2aWV3ICh0eXBlKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLXByZXZpZXdcIiwgdHlwZSk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtcHJvY2Vzc1xuICBwcm90by5wcm9jZXNzID0gZnVuY3Rpb24gcHJvY2VzcyAoY29tbWFuZCkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1wcm9jZXNzXCIsIGNvbW1hbmQpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLXByb2ZpbGVcbiAgcHJvdG8ucHJvZmlsZSA9IGZ1bmN0aW9uIHByb2ZpbGUgKGZpbGVuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLXByb2ZpbGVcIiwgZmlsZW5hbWUpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLXByb2dyZXNzXG4gIHByb3RvLnByb2dyZXNzID0gZnVuY3Rpb24gcHJvZ3Jlc3MgKCkge1xuICAgIHJldHVybiB0aGlzLm91dChcIitwcm9ncmVzc1wiKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1yYW5kb20tdGhyZXNob2xkXG4gIHByb3RvLnJhbmRvbVRocmVzaG9sZCA9IGZ1bmN0aW9uIHJhbmRvbVRocmVzaG9sZCAoY2hhbm5lbHR5cGUsIExPV3hISUdIKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLXJhbmRvbS10aHJlc2hvbGRcIiwgY2hhbm5lbHR5cGUsIExPV3hISUdIKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1yZWNvbG9yXG4gIHByb3RvLnJlY29sb3IgPSBmdW5jdGlvbiByZWNvbG9yIChtYXRyaXgpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItcmVjb2xvclwiLCBtYXRyaXgpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLXJlZC1wcmltYXJ5XG4gIHByb3RvLnJlZFByaW1hcnkgPSBmdW5jdGlvbiByZWRQcmltYXJ5ICh4LCB5KSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLXJlZC1wcmltYXJ5XCIsIHgsIHkpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLXJlbW90ZVxuICBwcm90by5yZW1vdGUgPSBmdW5jdGlvbiByZW1vdGUgKCkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1yZW1vdGVcIik7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtcmVuZGVyXG4gIHByb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlciAoKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLXJlbmRlclwiKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1yZXBhZ2VcbiAgcHJvdG8ucmVwYWdlID0gZnVuY3Rpb24gcmVwYWdlICh3aWR0aCwgaGVpZ2h0LCB4b2ZmLCB5b2ZmLCBhcmcpIHtcbiAgICBpZiAoYXJndW1lbnRzWzBdID09PSBcIitcIikgcmV0dXJuIHRoaXMub3V0KFwiK3JlcGFnZVwiKTtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItcmVwYWdlXCIsIHdpZHRoKyd4JytoZWlnaHQrJysnK3hvZmYrJysnK3lvZmYrKGFyZ3x8JycpKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1zYW1wbGVcbiAgcHJvdG8uc2FtcGxlID0gZnVuY3Rpb24gc2FtcGxlIChnZW9tZXRyeSkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1zYW1wbGVcIiwgZ2VvbWV0cnkpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLXNhbXBsaW5nLWZhY3RvclxuICBwcm90by5zYW1wbGluZ0ZhY3RvciA9IGZ1bmN0aW9uIHNhbXBsaW5nRmFjdG9yIChob3Jpem9udGFsRmFjdG9yLCB2ZXJ0aWNhbEZhY3Rvcikge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1zYW1wbGluZy1mYWN0b3JcIiwgaG9yaXpvbnRhbEZhY3RvcisneCcrdmVydGljYWxGYWN0b3IpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLXNjZW5lXG4gIHByb3RvLnNjZW5lID0gZnVuY3Rpb24gc2NlbmUgKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLXNjZW5lXCIsIHZhbHVlKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1zY2VuZXNcbiAgcHJvdG8uc2NlbmVzID0gZnVuY3Rpb24gc2NlbmVzIChzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLXNjZW5lc1wiLCBzdGFydCsnLScrZW5kKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1zY3JlZW5cbiAgcHJvdG8uc2NyZWVuID0gZnVuY3Rpb24gc2NyZWVuICgpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItc2NyZWVuXCIpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLXNldFxuICBwcm90by5zZXQgPSBmdW5jdGlvbiBzZXQgKGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItc2V0XCIsIGF0dHJpYnV0ZSwgdmFsdWUpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLXNlZ21lbnRcbiAgcHJvdG8uc2VnbWVudCA9IGZ1bmN0aW9uIHNlZ21lbnQgKGNsdXN0ZXJUaHJlc2hvbGQsIHNtb290aGluZ1RocmVzaG9sZCkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1zZWdtZW50XCIsIGNsdXN0ZXJUaHJlc2hvbGQrJ3gnK3Ntb290aGluZ1RocmVzaG9sZCk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtc2hhZGVcbiAgcHJvdG8uc2hhZGUgPSBmdW5jdGlvbiBzaGFkZSAoYXppbXV0aCwgZWxldmF0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLXNoYWRlXCIsIGF6aW11dGgrJ3gnK2VsZXZhdGlvbik7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtc2hhZG93XG4gIHByb3RvLnNoYWRvdyA9IGZ1bmN0aW9uIHNoYWRvdyAocmFkaXVzLCBzaWdtYSkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1zaGFkb3dcIiwgYXJnc1RvQXJyYXkocmFkaXVzLCBzaWdtYSkuam9pbigneCcpKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1zaGFyZWQtbWVtb3J5XG4gIHByb3RvLnNoYXJlZE1lbW9yeSA9IGZ1bmN0aW9uIHNoYXJlZE1lbW9yeSAoKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLXNoYXJlZC1tZW1vcnlcIik7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtc2hhdmVcbiAgcHJvdG8uc2hhdmUgPSBmdW5jdGlvbiBzaGF2ZSAod2lkdGgsIGhlaWdodCwgcGVyY2VudCkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1zaGF2ZVwiLCB3aWR0aCsneCcraGVpZ2h0KyhwZXJjZW50PyclJzonJykpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLXNoZWFyXG4gIHByb3RvLnNoZWFyID0gZnVuY3Rpb24gc2hlYXIgKHhEZWdyZWVzLCB5RGVncmVlZXMpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItc2hlYXJcIiwgeERlZ3JlZXMrJ3gnK3lEZWdyZWVlcyk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtc2lsZW50XG4gIHByb3RvLnNpbGVudCA9IGZ1bmN0aW9uIHNpbGVudCAoY29sb3IpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItc2lsZW50XCIpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLXNpemVcbiAgcHJvdG8ucmF3U2l6ZSA9IGZ1bmN0aW9uIHJhd1NpemUgKHdpZHRoLCBoZWlnaHQsIG9mZnNldCkge1xuICAgIHZhciBvZmYgPSAndW5kZWZpbmVkJyAhPSB0eXBlb2Ygb2Zmc2V0XG4gICAgICA/ICcrJyArIG9mZnNldFxuICAgICAgOiAnJztcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItc2l6ZVwiLCB3aWR0aCArJ3gnKyBoZWlnaHQgKyBvZmYpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLXNuYXBzXG4gIHByb3RvLnNuYXBzID0gZnVuY3Rpb24gc25hcHMgKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLXNuYXBzXCIsIHZhbHVlKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1zdGVnYW5vXG4gIHByb3RvLnN0ZWdhbm8gPSBmdW5jdGlvbiBzdGVnYW5vIChvZmZzZXQpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItc3RlZ2Fub1wiLCBvZmZzZXQpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLXN0ZXJlb1xuICBwcm90by5zdGVyZW8gPSBmdW5jdGlvbiBzdGVyZW8gKCkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1zdGVyZW9cIik7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtdGV4dC1mb250XG4gIHByb3RvLnRleHRGb250ID0gZnVuY3Rpb24gdGV4dEZvbnQgKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItdGV4dC1mb250XCIsIG5hbWUpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLXRleHR1cmVcbiAgcHJvdG8udGV4dHVyZSA9IGZ1bmN0aW9uIHRleHR1cmUgKGZpbGVuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLXRleHR1cmVcIiwgZmlsZW5hbWUpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLXRocmVzaG9sZFxuICBwcm90by50aHJlc2hvbGQgPSBmdW5jdGlvbiB0aHJlc2hvbGQgKHZhbHVlLCBwZXJjZW50KSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLXRocmVzaG9sZFwiLCB2YWx1ZSsocGVyY2VudD8nJSc6JycpKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy10aHVtYm5haWxcbiAgcHJvdG8udGh1bWJuYWlsID0gZnVuY3Rpb24gdGh1bWJuYWlsICh3LCBoLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgXCJcIjtcbiAgICB2YXIgZ2VvbWV0cnksXG4gICAgICB3SXNWYWxpZCA9IEJvb2xlYW4odyB8fCB3ID09PSAwKSxcbiAgICAgIGhJc1ZhbGlkID0gQm9vbGVhbihoIHx8IGggPT09IDApO1xuXG4gICAgaWYgKHdJc1ZhbGlkICYmIGhJc1ZhbGlkKSB7XG4gICAgICBnZW9tZXRyeSA9IHcgKyBcInhcIiArIGggKyBvcHRpb25zXG4gICAgfSBlbHNlIGlmICh3SXNWYWxpZCkge1xuICAgICAgLy8gR3JhcGhpY3NNYWdpY2sgcmVxdWlyZXMgPHdpZHRoPng8b3B0aW9ucz4sIEltYWdlTWFnaWNrIHJlcXVpcmVzIDx3aWR0aD48b3B0aW9ucz5cbiAgICAgIGdlb21ldHJ5ID0gKHRoaXMuX29wdGlvbnMuaW1hZ2VNYWdpY2spID8gdyArIG9wdGlvbnMgOiB3ICtcbiAgICAgICAgJ3gnICsgb3B0aW9ucztcbiAgICB9IGVsc2UgaWYgKGhJc1ZhbGlkKSB7XG4gICAgICBnZW9tZXRyeSA9ICd4JyArIGggKyBvcHRpb25zXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLXRodW1ibmFpbFwiLCBnZW9tZXRyeSk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtdGlsZVxuICBwcm90by50aWxlID0gZnVuY3Rpb24gdGlsZSAoZmlsZW5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItdGlsZVwiLCBmaWxlbmFtZSk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtdGl0bGVcbiAgcHJvdG8udGl0bGUgPSBmdW5jdGlvbiB0aXRsZSAoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLXRpdGxlXCIsIHN0cmluZyk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtdHJhbnNmb3JtXG4gIHByb3RvLnRyYW5zZm9ybSA9IGZ1bmN0aW9uIHRyYW5zZm9ybSAoY29sb3IpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItdHJhbnNmb3JtXCIsIGNvbG9yKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy10cmFuc3BhcmVudFxuICBwcm90by50cmFuc3BhcmVudCA9IGZ1bmN0aW9uIHRyYW5zcGFyZW50IChjb2xvcikge1xuICAgIHJldHVybiB0aGlzLm91dChcIi10cmFuc3BhcmVudFwiLCBjb2xvcik7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtdHJlZWRlcHRoXG4gIHByb3RvLnRyZWVEZXB0aCA9IGZ1bmN0aW9uIHRyZWVEZXB0aCAodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItdHJlZWRlcHRoXCIsIHZhbHVlKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy11cGRhdGVcbiAgcHJvdG8udXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlIChzZWNvbmRzKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLXVwZGF0ZVwiLCBzZWNvbmRzKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy11bml0c1xuICBwcm90by51bml0cyA9IGZ1bmN0aW9uIHVuaXRzICh0eXBlKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLXVuaXRzXCIsIHR5cGUpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLXVuc2hhcnBcbiAgcHJvdG8udW5zaGFycCA9IGZ1bmN0aW9uIHVuc2hhcnAgKHJhZGl1cywgc2lnbWEsIGFtb3VudCwgdGhyZXNob2xkKSB7XG4gICAgdmFyIGFyZz1yYWRpdXM7XG4gICAgaWYgKHR5cGVvZiBzaWdtYSAhPSAndW5kZWZpbmVkJykgYXJnKz0neCcrc2lnbWE7XG4gICAgaWYgKHR5cGVvZiBhbW91bnQgIT0gJ3VuZGVmaW5lZCcpIGFyZys9JysnK2Ftb3VudDtcbiAgICBpZiAodHlwZW9mIHRocmVzaG9sZCAhPSAndW5kZWZpbmVkJykgYXJnKz0nKycrdGhyZXNob2xkO1xuICAgIHJldHVybiB0aGlzLm91dChcIi11bnNoYXJwXCIsIGFyZyk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtdXNlLXBpeG1hcFxuICBwcm90by51c2VQaXhtYXAgPSBmdW5jdGlvbiB1c2VQaXhtYXAgKCkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi11c2UtcGl4bWFwXCIpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLXZpZXdcbiAgcHJvdG8udmlldyA9IGZ1bmN0aW9uIHZpZXcgKHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLm91dChcIi12aWV3XCIsIHN0cmluZyk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtdmlydHVhbC1waXhlbFxuICBwcm90by52aXJ0dWFsUGl4ZWwgPSBmdW5jdGlvbiB2aXJ0dWFsUGl4ZWwgKG1ldGhvZCkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi12aXJ0dWFsLXBpeGVsXCIsIG1ldGhvZCk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtdmlzdWFsXG4gIHByb3RvLnZpc3VhbCA9IGZ1bmN0aW9uIHZpc3VhbCAodHlwZSkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi12aXN1YWxcIiwgdHlwZSk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtd2F0ZXJtYXJrXG4gIHByb3RvLndhdGVybWFyayA9IGZ1bmN0aW9uIHdhdGVybWFyayAoYnJpZ2h0bmVzcywgc2F0dXJhdGlvbikge1xuICAgIHJldHVybiB0aGlzLm91dChcIi13YXRlcm1hcmtcIiwgYnJpZ2h0bmVzcysneCcrc2F0dXJhdGlvbik7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtd2F2ZVxuICBwcm90by53YXZlID0gZnVuY3Rpb24gd2F2ZSAoYW1wbGl0dWRlLCB3YXZlbGVuZ3RoKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLXdhdmVcIiwgYW1wbGl0dWRlKyd4Jyt3YXZlbGVuZ3RoKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy13aGl0ZS1wb2ludFxuICBwcm90by53aGl0ZVBvaW50ID0gZnVuY3Rpb24gd2hpdGVQb2ludCAoeCwgeSkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi13aGl0ZS1wb2ludFwiLCB4Kyd4Jyt5KTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy13aGl0ZS10aHJlc2hvbGRcbiAgcHJvdG8ud2hpdGVUaHJlc2hvbGQgPSBmdW5jdGlvbiB3aGl0ZVRocmVzaG9sZCAocmVkLCBncmVlbiwgYmx1ZSwgb3BhY2l0eSkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi13aGl0ZS10aHJlc2hvbGRcIiwgYXJnc1RvQXJyYXkocmVkLCBncmVlbiwgYmx1ZSwgb3BhY2l0eSkuam9pbignLCcpKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy13aW5kb3dcbiAgcHJvdG8ud2luZG93ID0gZnVuY3Rpb24gd2luZG93IChpZCkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi13aW5kb3dcIiwgaWQpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLXdpbmRvdy1ncm91cFxuICBwcm90by53aW5kb3dHcm91cCA9IGZ1bmN0aW9uIHdpbmRvd0dyb3VwICgpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItd2luZG93LWdyb3VwXCIpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLXN0cmlwIChncmFwaGljc01hZ2ljayA+PSAxLjMuMTUpXG4gIHByb3RvLnN0cmlwID0gZnVuY3Rpb24gc3RyaXAgKCkge1xuICAgIGlmICh0aGlzLl9vcHRpb25zLmltYWdlTWFnaWNrKSByZXR1cm4gdGhpcy5vdXQoXCItc3RyaXBcIik7XG4gICAgcmV0dXJuIHRoaXMubm9Qcm9maWxlKCkub3V0KFwiK2NvbW1lbnRcIik7Ly9FcXVpdmFsZW50IHRvIFwiLXN0cmlwXCIgZm9yIGFsbCB2ZXJzaW9ucyBvZiBncmFwaGljc01hZ2lja1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLWludGVybGFjZVxuICBwcm90by5pbnRlcmxhY2UgPSBmdW5jdGlvbiBpbnRlcmxhY2UgKHR5cGUpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItaW50ZXJsYWNlXCIsIHR5cGUgfHwgXCJOb25lXCIpO1xuICB9XG5cbiAgLy8gZm9yY2Ugb3V0cHV0IGZvcm1hdFxuICBwcm90by5zZXRGb3JtYXQgPSBmdW5jdGlvbiBzZXRGb3JtYXQgKGZvcm1hdCkge1xuICAgIGlmIChmb3JtYXQpIHRoaXMuX291dHB1dEZvcm1hdCA9IGZvcm1hdDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1yZXNpemVcbiAgcHJvdG8ucmVzaXplID0gZnVuY3Rpb24gcmVzaXplICh3LCBoLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgXCJcIjtcbiAgICB2YXIgZ2VvbWV0cnksXG4gICAgICB3SXNWYWxpZCA9IEJvb2xlYW4odyB8fCB3ID09PSAwKSxcbiAgICAgIGhJc1ZhbGlkID0gQm9vbGVhbihoIHx8IGggPT09IDApO1xuXG4gICAgaWYgKHdJc1ZhbGlkICYmIGhJc1ZhbGlkKSB7XG4gICAgICBnZW9tZXRyeSA9IHcgKyBcInhcIiArIGggKyBvcHRpb25zXG4gICAgfSBlbHNlIGlmICh3SXNWYWxpZCkge1xuICAgICAgLy8gR3JhcGhpY3NNYWdpY2sgcmVxdWlyZXMgPHdpZHRoPng8b3B0aW9ucz4sIEltYWdlTWFnaWNrIHJlcXVpcmVzIDx3aWR0aD48b3B0aW9ucz5cbiAgICAgIGdlb21ldHJ5ID0gKHRoaXMuX29wdGlvbnMuaW1hZ2VNYWdpY2spID8gdyArIG9wdGlvbnMgOiB3ICtcbiAgICAgICAgJ3gnICsgb3B0aW9ucztcbiAgICB9IGVsc2UgaWYgKGhJc1ZhbGlkKSB7XG4gICAgICBnZW9tZXRyeSA9ICd4JyArIGggKyBvcHRpb25zXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLXJlc2l6ZVwiLCBnZW9tZXRyeSk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtcmVzaXplIHdpdGggJyEnIG9wdGlvblxuICBwcm90by5yZXNpemVFeGFjdCA9IGZ1bmN0aW9uIHJlc2l6ZSAodywgaCkge1xuICAgIHZhciBvcHRpb25zID0gXCIhXCI7XG4gICAgcmV0dXJuIHByb3RvLnJlc2l6ZS5hcHBseSh0aGlzLCBbdywgaCwgb3B0aW9uc10pO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLXNjYWxlXG4gIHByb3RvLnNjYWxlID0gZnVuY3Rpb24gc2NhbGUgKHcsIGgsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCBcIlwiO1xuICAgIHZhciBnZW9tZXRyeTtcbiAgICBpZiAodyAmJiBoKSB7XG4gICAgICBnZW9tZXRyeSA9IHcgKyBcInhcIiArIGggKyBvcHRpb25zXG4gICAgfSBlbHNlIGlmICh3ICYmICFoKSB7XG4gICAgICBnZW9tZXRyeSA9ICh0aGlzLl9vcHRpb25zLmltYWdlTWFnaWNrKSA/IHcgKyBvcHRpb25zIDogdyArICd4JyArIG9wdGlvbnM7XG4gICAgfSBlbHNlIGlmICghdyAmJiBoKSB7XG4gICAgICBnZW9tZXRyeSA9ICd4JyArIGggKyBvcHRpb25zXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLXNjYWxlXCIsIGdlb21ldHJ5KTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1maWx0ZXJcbiAgcHJvdG8uZmlsdGVyID0gZnVuY3Rpb24gZmlsdGVyICh2YWwpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItZmlsdGVyXCIsIHZhbCk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtZGVuc2l0eVxuICBwcm90by5kZW5zaXR5ID0gZnVuY3Rpb24gZGVuc2l0eSAodywgaCkge1xuICAgIGlmICh3ICYmICFoICYmIHRoaXMuX29wdGlvbnMuaW1hZ2VNYWdpY2spIHtcbiAgICAgIC8vIEdyYXBoaWNzTWFnaWNrIHJlcXVpcmVzIDx3aWR0aD54PGhlaWdodD55LCBJbWFnZU1hZ2ljayBtYXkgdGFrZSBkcGk8cmVzb2x1dGlvbj5cbiAgICAgIC8vIHJlY29tbWVuZGVkIDMwMGRwaSBmb3IgaGlnaGVyIHF1YWxpdHlcbiAgICAgIHJldHVybiB0aGlzLmluKFwiLWRlbnNpdHlcIiwgdyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmluKFwiLWRlbnNpdHlcIiwgdyArXCJ4XCIrIGgpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLXByb2ZpbGVcbiAgcHJvdG8ubm9Qcm9maWxlID0gZnVuY3Rpb24gbm9Qcm9maWxlICgpIHtcbiAgICB0aGlzLm91dCgnK3Byb2ZpbGUnLCAnXCIqXCInKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1yZXNhbXBsZVxuICBwcm90by5yZXNhbXBsZSA9IGZ1bmN0aW9uIHJlc2FtcGxlICh3LCBoKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLXJlc2FtcGxlXCIsIHcrXCJ4XCIraCk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtcm90YXRlXG4gIHByb3RvLnJvdGF0ZSA9IGZ1bmN0aW9uIHJvdGF0ZSAoY29sb3IsIGRlZykge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1iYWNrZ3JvdW5kXCIsIGNvbG9yLCBcIi1yb3RhdGVcIiwgU3RyaW5nKGRlZyB8fCAwKSk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtZmxpcFxuICBwcm90by5mbGlwID0gZnVuY3Rpb24gZmxpcCAoKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLWZsaXBcIik7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtZmxvcFxuICBwcm90by5mbG9wID0gZnVuY3Rpb24gZmxvcCAoKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLWZsb3BcIik7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtY3JvcFxuICBwcm90by5jcm9wID0gZnVuY3Rpb24gY3JvcCAodywgaCwgeCwgeSwgcGVyY2VudCkge1xuICAgIGlmICh0aGlzLmlucHV0SXMoJ2pwZycpKSB7XG4gICAgICAvLyBhdm9pZCBlcnJvciBcImdlb21ldHJ5IGRvZXMgbm90IGNvbnRhaW4gaW1hZ2UgKHVuYWJsZSB0byBjcm9wIGltYWdlKVwiIC0gZ2gtMTdcbiAgICAgIHZhciBpbmRleCA9IHRoaXMuX2luLmluZGV4T2YoJy1zaXplJyk7XG4gICAgICBpZiAofmluZGV4KSB7XG4gICAgICAgIHRoaXMuX2luLnNwbGljZShpbmRleCwgMik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLWNyb3BcIiwgdyArIFwieFwiICsgaCArIFwiK1wiICsgKHggfHwgMCkgKyBcIitcIiArICh5IHx8IDApICsgKHBlcmNlbnQgPyAnJScgOiAnJykpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLW1hZ25pZnlcbiAgcHJvdG8ubWFnbmlmeSA9IGZ1bmN0aW9uIG1hZ25pZnkgKGZhY3Rvcikge1xuICAgIHJldHVybiB0aGlzLmluKFwiLW1hZ25pZnlcIik7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sXG4gIHByb3RvLm1pbmlmeSA9IGZ1bmN0aW9uIG1pbmlmeSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW4oXCItbWluaWZ5XCIpXG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtcXVhbGl0eVxuICBwcm90by5xdWFsaXR5ID0gZnVuY3Rpb24gcXVhbGl0eSAodmFsKSB7XG4gICAgcmV0dXJuIHRoaXMuaW4oXCItcXVhbGl0eVwiLCB2YWwgfHwgNzUpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLWJsdXJcbiAgcHJvdG8uYmx1ciA9IGZ1bmN0aW9uIGJsdXIgKHJhZGl1cywgc2lnbWEpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItYmx1clwiLCByYWRpdXMgKyAoc2lnbWEgPyBcInhcIitzaWdtYSA6IFwiXCIpKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL2NvbnZlcnQuaHRtbFxuICBwcm90by5jaGFyY29hbCA9IGZ1bmN0aW9uIGNoYXJjb2FsIChmYWN0b3IpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItY2hhcmNvYWxcIiwgZmFjdG9yIHx8IDIpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLW1vZHVsYXRlXG4gIHByb3RvLm1vZHVsYXRlID0gZnVuY3Rpb24gbW9kdWxhdGUgKGIsIHMsIGgpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItbW9kdWxhdGVcIiwgW2IscyxoXS5qb2luKFwiLFwiKSk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtYW50aWFsaWFzXG4gIC8vIG5vdGU6IGFudGlhbGlhc2luZyBpcyBlbmFibGVkIGJ5IGRlZmF1bHRcbiAgcHJvdG8uYW50aWFsaWFzID0gZnVuY3Rpb24gYW50aWFsaWFzIChkaXNhYmxlKSB7XG4gICAgcmV0dXJuIGZhbHNlID09PSBkaXNhYmxlXG4gICAgICA/IHRoaXMub3V0KFwiK2FudGlhbGlhc1wiKVxuICAgICAgOiB0aGlzO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLWRlcHRoXG4gIHByb3RvLmJpdGRlcHRoID0gZnVuY3Rpb24gYml0ZGVwdGggKHZhbCkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1kZXB0aFwiLCB2YWwpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLWNvbG9yc1xuICBwcm90by5jb2xvcnMgPSBmdW5jdGlvbiBjb2xvcnMgKHZhbCkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1jb2xvcnNcIiwgdmFsIHx8IDEyOCk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtY29sb3JzcGFjZVxuICBwcm90by5jb2xvcnNwYWNlID0gZnVuY3Rpb24gY29sb3JzcGFjZSAodmFsKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLWNvbG9yc3BhY2VcIiwgdmFsKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1jb21tZW50XG4gIHByb3RvLmNvbW1lbnQgPSBjb21tZW50KFwiLWNvbW1lbnRcIik7XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLWNvbnRyYXN0XG4gIHByb3RvLmNvbnRyYXN0ID0gZnVuY3Rpb24gY29udHJhc3QgKG11bHQpIHtcbiAgICB2YXIgYXJnID0gKHBhcnNlSW50KG11bHQsIDEwKSB8fCAwKSA+IDBcbiAgICAgID8gXCIrY29udHJhc3RcIlxuICAgICAgOiBcIi1jb250cmFzdFwiO1xuXG4gICAgbXVsdCA9IE1hdGguYWJzKG11bHQpIHx8IDE7XG5cbiAgICB3aGlsZSAobXVsdC0tKSB7XG4gICAgICB0aGlzLm91dChhcmcpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLWN5Y2xlXG4gIHByb3RvLmN5Y2xlID0gZnVuY3Rpb24gY3ljbGUgKGFtb3VudCkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1jeWNsZVwiLCBhbW91bnQgfHwgMik7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sXG4gIHByb3RvLmRlc3BlY2tsZSA9IGZ1bmN0aW9uIGRlc3BlY2tsZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLWRlc3BlY2tsZVwiKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1kaXRoZXJcbiAgLy8gbm90ZTogZWl0aGVyIGNvbG9ycygpIG9yIG1vbm9jaHJvbWUoKSBtdXN0IGJlIHVzZWQgZm9yIHRoaXNcbiAgLy8gdG8gdGFrZSBlZmZlY3QuXG4gIHByb3RvLmRpdGhlciA9IGZ1bmN0aW9uIGRpdGhlciAob24pIHtcbiAgICB2YXIgc2lnbiA9IGZhbHNlID09PSBvblxuICAgICAgPyBcIitcIlxuICAgICAgOiBcIi1cIjtcblxuICAgIHJldHVybiB0aGlzLm91dChzaWduICsgXCJkaXRoZXJcIik7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sXG4gIHByb3RvLm1vbm9jaHJvbWUgPSBmdW5jdGlvbiBtb25vY2hyb21lICgpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItbW9ub2Nocm9tZVwiKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWxcbiAgcHJvdG8uZWRnZSA9IGZ1bmN0aW9uIGVkZ2UgKHJhZGl1cykge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1lZGdlXCIsIHJhZGl1cyB8fCAxKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWxcbiAgcHJvdG8uZW1ib3NzID0gZnVuY3Rpb24gZW1ib3NzIChyYWRpdXMpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItZW1ib3NzXCIsIHJhZGl1cyB8fCAxKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWxcbiAgcHJvdG8uZW5oYW5jZSA9IGZ1bmN0aW9uIGVuaGFuY2UgKCkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1lbmhhbmNlXCIpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbFxuICBwcm90by5lcXVhbGl6ZSA9IGZ1bmN0aW9uIGVxdWFsaXplICgpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItZXF1YWxpemVcIik7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtZ2FtbWFcbiAgcHJvdG8uZ2FtbWEgPSBmdW5jdGlvbiBnYW1tYSAociwgZywgYikge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1nYW1tYVwiLCBbcixnLGJdLmpvaW4oKSk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sXG4gIHByb3RvLmltcGxvZGUgPSBmdW5jdGlvbiBpbXBsb2RlIChmYWN0b3IpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItaW1wbG9kZVwiLCBmYWN0b3IgfHwgMSk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtY29tbWVudFxuICBwcm90by5sYWJlbCA9IGNvbW1lbnQoXCItbGFiZWxcIik7XG5cbiAgdmFyIGxpbWl0cyA9IFsgXCJkaXNrXCIsIFwiZmlsZVwiLCBcIm1hcFwiLCBcIm1lbW9yeVwiLCBcInBpeGVsc1wiLCBcInRocmVhZHNcIl07XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLWxpbWl0XG4gIHByb3RvLmxpbWl0ID0gZnVuY3Rpb24gbGltaXQgKHR5cGUsIHZhbCkge1xuICAgIHR5cGUgPSB0eXBlLnRvTG93ZXJDYXNlKCk7XG5cbiAgICBpZiAoIX5saW1pdHMuaW5kZXhPZih0eXBlKSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLWxpbWl0XCIsIHR5cGUsIHZhbCk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sXG4gIHByb3RvLm1lZGlhbiA9IGZ1bmN0aW9uIG1lZGlhbiAocmFkaXVzKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLW1lZGlhblwiLCByYWRpdXMgfHwgMSk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtbmVnYXRlXG4gIHByb3RvLm5lZ2F0aXZlID0gZnVuY3Rpb24gbmVnYXRpdmUgKGdyYXlzY2FsZSkge1xuICAgIHZhciBzaWduID0gZ3JheXNjYWxlID8gXCIrXCIgOiBcIi1cIjtcbiAgICByZXR1cm4gdGhpcy5vdXQoc2lnbiArIFwibmVnYXRlXCIpO1xuICB9XG5cbiAgdmFyIG5vaXNlcyA9IFtcbiAgICAgIFwidW5pZm9ybVwiXG4gICAgLCBcImdhdXNzaWFuXCJcbiAgICAsIFwibXVsdGlwbGljYXRpdmVcIlxuICAgICwgXCJpbXB1bHNlXCJcbiAgICAsIFwibGFwbGFjaWFuXCJcbiAgICAsIFwicG9pc3NvblwiXG4gIF07XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLW5vaXNlXG4gIHByb3RvLm5vaXNlID0gZnVuY3Rpb24gbm9pc2UgKHJhZGl1cykge1xuICAgIHJhZGl1cyA9IChTdHJpbmcocmFkaXVzKSkudG9Mb3dlckNhc2UoKTtcblxuICAgIHZhciBzaWduID0gfm5vaXNlcy5pbmRleE9mKHJhZGl1cylcbiAgICAgID8gXCIrXCJcbiAgICAgIDogXCItXCI7XG5cbiAgICByZXR1cm4gdGhpcy5vdXQoc2lnbiArIFwibm9pc2VcIiwgcmFkaXVzKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1wYWludFxuICBwcm90by5wYWludCA9IGZ1bmN0aW9uIHBhaW50IChyYWRpdXMpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItcGFpbnRcIiwgcmFkaXVzKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1yYWlzZVxuICBwcm90by5yYWlzZSA9IGZ1bmN0aW9uIHJhaXNlICh3LCBoKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLXJhaXNlXCIsICh3fHwwKStcInhcIisoaHx8MCkpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLXJhaXNlXG4gIHByb3RvLmxvd2VyID0gZnVuY3Rpb24gbG93ZXIgKHcsIGgpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCIrcmFpc2VcIiwgKHd8fDApK1wieFwiKyhofHwwKSk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtcmVnaW9uXG4gIHByb3RvLnJlZ2lvbiA9IGZ1bmN0aW9uIHJlZ2lvbiAodywgaCwgeCwgeSkge1xuICAgIHcgPSB3IHx8IDA7XG4gICAgaCA9IGggfHwgMDtcbiAgICB4ID0geCB8fCAwO1xuICAgIHkgPSB5IHx8IDA7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLXJlZ2lvblwiLCB3ICsgXCJ4XCIgKyBoICsgXCIrXCIgKyB4ICsgXCIrXCIgKyB5KTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1yb2xsXG4gIHByb3RvLnJvbGwgPSBmdW5jdGlvbiByb2xsICh4LCB5KSB7XG4gICAgeCA9ICgoeCA9IHBhcnNlSW50KHgsIDEwKSB8fCAwKSA+PSAwID8gXCIrXCIgOiBcIlwiKSArIHg7XG4gICAgeSA9ICgoeSA9IHBhcnNlSW50KHksIDEwKSB8fCAwKSA+PSAwID8gXCIrXCIgOiBcIlwiKSArIHk7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLXJvbGxcIiwgeCt5KTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1zaGFycGVuXG4gIHByb3RvLnNoYXJwZW4gPSBmdW5jdGlvbiBzaGFycGVuIChyYWRpdXMsIHNpZ21hKSB7XG4gICAgc2lnbWEgPSBzaWdtYVxuICAgICAgPyBcInhcIiArIHNpZ21hXG4gICAgICA6IFwiXCI7XG5cbiAgICByZXR1cm4gdGhpcy5vdXQoXCItc2hhcnBlblwiLCByYWRpdXMgKyBzaWdtYSk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtc29sYXJpemVcbiAgcHJvdG8uc29sYXJpemUgPSBmdW5jdGlvbiBzb2xhcml6ZSAoZmFjdG9yKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLXNvbGFyaXplXCIsIChmYWN0b3IgfHwgMSkrXCIlXCIpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLXNwcmVhZFxuICBwcm90by5zcHJlYWQgPSBmdW5jdGlvbiBzcHJlYWQgKGFtb3VudCkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1zcHJlYWRcIiwgYW1vdW50IHx8IDUpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLXN3aXJsXG4gIHByb3RvLnN3aXJsID0gZnVuY3Rpb24gc3dpcmwgKGRlZ3JlZXMpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItc3dpcmxcIiwgZGVncmVlcyB8fCAxODApO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLXR5cGVcbiAgcHJvdG8udHlwZSA9IGZ1bmN0aW9uIHR5cGUgKHR5cGUpIHtcbiAgICByZXR1cm4gdGhpcy5pbihcIi10eXBlXCIsIHR5cGUpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLXRyaW1cbiAgcHJvdG8udHJpbSA9IGZ1bmN0aW9uIHRyaW0gKCkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi10cmltXCIpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLWV4dGVudFxuICBwcm90by5leHRlbnQgPSBmdW5jdGlvbiBleHRlbnQgKHcsIGgsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCBcIlwiO1xuICAgIHZhciBnZW9tZXRyeTtcbiAgICBpZiAodyAmJiBoKSB7XG4gICAgICBnZW9tZXRyeSA9IHcgKyBcInhcIiArIGggKyBvcHRpb25zXG4gICAgfSBlbHNlIGlmICh3ICYmICFoKSB7XG4gICAgICBnZW9tZXRyeSA9ICh0aGlzLl9vcHRpb25zLmltYWdlTWFnaWNrKSA/IHcgKyBvcHRpb25zIDogdyArICd4JyArIG9wdGlvbnM7XG4gICAgfSBlbHNlIGlmICghdyAmJiBoKSB7XG4gICAgICBnZW9tZXRyeSA9ICd4JyArIGggKyBvcHRpb25zXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLWV4dGVudFwiLCBnZW9tZXRyeSk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtZ3Jhdml0eVxuICAvLyBCZSBzdXJlIHRvIHVzZSBncmF2aXR5IEJFRk9SRSBleHRlbnRcbiAgcHJvdG8uZ3Jhdml0eSA9IGZ1bmN0aW9uIGdyYXZpdHkgKHR5cGUpIHtcbiAgICBpZiAoIXR5cGUgfHwgIX5ncmF2aXR5LnR5cGVzLmluZGV4T2YodHlwZSkpIHtcbiAgICAgIHR5cGUgPSBcIk5vcnRoV2VzdFwiOyAvLyBEb2N1bWVudGVkIGRlZmF1bHQuXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLWdyYXZpdHlcIiwgdHlwZSk7XG4gIH1cblxuICBwcm90by5ncmF2aXR5LnR5cGVzID0gW1xuICAgICAgXCJOb3J0aFdlc3RcIlxuICAgICwgXCJOb3J0aFwiXG4gICAgLCBcIk5vcnRoRWFzdFwiXG4gICAgLCBcIldlc3RcIlxuICAgICwgXCJDZW50ZXJcIlxuICAgICwgXCJFYXN0XCJcbiAgICAsIFwiU291dGhXZXN0XCJcbiAgICAsIFwiU291dGhcIlxuICAgICwgXCJTb3V0aEVhc3RcIlxuICBdO1xuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1mbGF0dGVuXG4gIHByb3RvLmZsYXR0ZW4gPSBmdW5jdGlvbiBmbGF0dGVuICgpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItZmxhdHRlblwiKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1iYWNrZ3JvdW5kXG4gIHByb3RvLmJhY2tncm91bmQgPSBmdW5jdGlvbiBiYWNrZ3JvdW5kIChjb2xvcikge1xuICAgIHJldHVybiB0aGlzLmluKFwiLWJhY2tncm91bmRcIiwgY29sb3IpO1xuICB9XG59O1xuXG4vKipcbiAqIEdlbmVyYXRlcyBhIGhhbmRsZXIgZm9yIGNvbW1lbnRzL2xhYmVscy5cbiAqL1xuXG5mdW5jdGlvbiBjb21tZW50IChhcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICBmb3JtYXQgPSBTdHJpbmcoZm9ybWF0KTtcblxuICAgIGZvcm1hdCA9IFwiQFwiID09IGZvcm1hdC5jaGFyQXQoMClcbiAgICAgID8gZm9ybWF0LnN1YnN0cmluZygxKVxuICAgICAgOiBmb3JtYXQ7XG5cbiAgICByZXR1cm4gdGhpcy5vdXQoYXJnLCAnXCInICsgZm9ybWF0ICsgJ1wiJyk7XG4gIH1cbn1cbiIsICJcbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgZXNjYXBlID0gcmVxdWlyZSgnLi91dGlscycpLmVzY2FwZTtcblxuLyoqXG4gKiBFeHRlbmQgcHJvdG8uXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAocHJvdG8pIHtcblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtZmlsbFxuICBwcm90by5maWxsID0gZnVuY3Rpb24gZmlsbCAoY29sb3IpIHtcbiAgICByZXR1cm4gdGhpcy5vdXQoXCItZmlsbFwiLCBjb2xvciB8fCBcIm5vbmVcIik7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtc3Ryb2tlXG4gIHByb3RvLnN0cm9rZSA9IGZ1bmN0aW9uIHN0cm9rZSAoY29sb3IsIHdpZHRoKSB7XG4gICAgaWYgKHdpZHRoKSB7XG4gICAgICB0aGlzLnN0cm9rZVdpZHRoKHdpZHRoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5vdXQoXCItc3Ryb2tlXCIsIGNvbG9yIHx8IFwibm9uZVwiKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1zdHJva2V3aWR0aFxuICBwcm90by5zdHJva2VXaWR0aCA9IGZ1bmN0aW9uIHN0cm9rZVdpZHRoICh3aWR0aCkge1xuICAgIHJldHVybiB0aGlzLm91dChcIi1zdHJva2V3aWR0aFwiLCB3aWR0aCk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtZm9udFxuICBwcm90by5mb250ID0gZnVuY3Rpb24gZm9udCAoZm9udCwgc2l6ZSkge1xuICAgIGlmIChzaXplKSB7XG4gICAgICB0aGlzLmZvbnRTaXplKHNpemUpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLm91dChcIi1mb250XCIsIGZvbnQpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbFxuICBwcm90by5mb250U2l6ZSA9IGZ1bmN0aW9uIGZvbnRTaXplIChzaXplKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLXBvaW50c2l6ZVwiLCBzaXplKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1kcmF3XG4gIHByb3RvLmRyYXcgPSBmdW5jdGlvbiBkcmF3IChhcmdzKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0KFwiLWRyYXdcIiwgW10uc2xpY2UuY2FsbChhcmd1bWVudHMpLmpvaW4oXCIgXCIpKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1kcmF3XG4gIHByb3RvLmRyYXdQb2ludCA9IGZ1bmN0aW9uIGRyYXdQb2ludCAoeCwgeSkge1xuICAgIHJldHVybiB0aGlzLmRyYXcoXCJwb2ludFwiLCB4ICtcIixcIisgeSk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtZHJhd1xuICBwcm90by5kcmF3TGluZSA9IGZ1bmN0aW9uIGRyYXdMaW5lICh4MCwgeTAsIHgxLCB5MSkge1xuICAgIHJldHVybiB0aGlzLmRyYXcoXCJsaW5lXCIsIHgwK1wiLFwiK3kwLCB4MStcIixcIit5MSk7XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtZHJhd1xuICBwcm90by5kcmF3UmVjdGFuZ2xlID0gZnVuY3Rpb24gZHJhd1JlY3RhbmdsZSAoeDAsIHkwLCB4MSwgeTEsIHdjLCBoYykge1xuICAgIHZhciBzaGFwZSA9IFwicmVjdGFuZ2xlXCJcbiAgICAgICwgbGFzdGFyZztcblxuICAgIGlmIChcInVuZGVmaW5lZFwiICE9PSB0eXBlb2Ygd2MpIHtcbiAgICAgIHNoYXBlID0gXCJyb3VuZFJlY3RhbmdsZVwiO1xuXG4gICAgICBpZiAoXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIGhjKSB7XG4gICAgICAgIGhjID0gd2M7XG4gICAgICB9XG5cbiAgICAgIGxhc3RhcmcgPSB3YytcIixcIitoYztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5kcmF3KHNoYXBlLCB4MCtcIixcIit5MCwgeDErXCIsXCIreTEsIGxhc3RhcmcpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLWRyYXdcbiAgcHJvdG8uZHJhd0FyYyA9IGZ1bmN0aW9uIGRyYXdBcmMgKHgwLCB5MCwgeDEsIHkxLCBhMCwgYTEpIHtcbiAgICByZXR1cm4gdGhpcy5kcmF3KFwiYXJjXCIsIHgwK1wiLFwiK3kwLCB4MStcIixcIit5MSwgYTArXCIsXCIrYTEpO1xuICB9XG5cbiAgLy8gaHR0cDovL3d3dy5ncmFwaGljc21hZ2ljay5vcmcvR3JhcGhpY3NNYWdpY2suaHRtbCNkZXRhaWxzLWRyYXdcbiAgcHJvdG8uZHJhd0VsbGlwc2UgPSBmdW5jdGlvbiBkcmF3RWxsaXBzZSAoeDAsIHkwLCByeCwgcnksIGEwLCBhMSkge1xuICAgIGlmIChhMCA9PSB1bmRlZmluZWQpIGEwID0gMDtcbiAgICBpZiAoYTEgPT0gdW5kZWZpbmVkKSBhMSA9IDM2MDtcbiAgICByZXR1cm4gdGhpcy5kcmF3KFwiZWxsaXBzZVwiLCB4MCtcIixcIit5MCwgcngrXCIsXCIrcnksIGEwK1wiLFwiK2ExKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1kcmF3XG4gIHByb3RvLmRyYXdDaXJjbGUgPSBmdW5jdGlvbiBkcmF3Q2lyY2xlICh4MCwgeTAsIHgxLCB5MSkge1xuICAgIHJldHVybiB0aGlzLmRyYXcoXCJjaXJjbGVcIiwgeDArXCIsXCIreTAsIHgxK1wiLFwiK3kxKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1kcmF3XG4gIHByb3RvLmRyYXdQb2x5bGluZSA9IGZ1bmN0aW9uIGRyYXdQb2x5bGluZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZHJhdyhcInBvbHlsaW5lXCIsIGZvcm1hdFBvaW50cyhhcmd1bWVudHMpKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1kcmF3XG4gIHByb3RvLmRyYXdQb2x5Z29uID0gZnVuY3Rpb24gZHJhd1BvbHlnb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRyYXcoXCJwb2x5Z29uXCIsIGZvcm1hdFBvaW50cyhhcmd1bWVudHMpKTtcbiAgfVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1kcmF3XG4gIHByb3RvLmRyYXdCZXppZXIgPSBmdW5jdGlvbiBkcmF3QmV6aWVyICgpIHtcbiAgICByZXR1cm4gdGhpcy5kcmF3KFwiYmV6aWVyXCIsIGZvcm1hdFBvaW50cyhhcmd1bWVudHMpKTtcbiAgfVxuXG4gIHByb3RvLl9ncmF2aXRpZXMgPSBbXG4gICAgICBcIm5vcnRod2VzdFwiXG5cdCAgLCBcIm5vcnRoXCJcbiAgICAsIFwibm9ydGhlYXN0XCJcblx0ICAsIFwid2VzdFwiXG4gICAgLCBcImNlbnRlclwiXG5cdCAgLCBcImVhc3RcIlxuICAgICwgXCJzb3V0aHdlc3RcIlxuICAgICwgXCJzb3V0aFwiXG4gICAgLCBcInNvdXRoZWFzdFwiXTtcblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtZHJhd1xuICBwcm90by5kcmF3VGV4dCA9IGZ1bmN0aW9uIGRyYXdUZXh0ICh4MCwgeTAsIHRleHQsIGdyYXZpdHkpIHtcbiAgICB2YXIgZ3Jhdml0eSA9IFN0cmluZyhncmF2aXR5IHx8IFwiXCIpLnRvTG93ZXJDYXNlKClcbiAgICAgICwgYXJnID0gW1widGV4dCBcIiArIHgwICsgXCIsXCIgKyB5MCArIFwiIFwiICsgZXNjYXBlKHRleHQpXTtcblxuICAgIGlmICh+dGhpcy5fZ3Jhdml0aWVzLmluZGV4T2YoZ3Jhdml0eSkpIHtcbiAgICAgIGFyZy51bnNoaWZ0KFwiZ3Jhdml0eVwiLCBncmF2aXR5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5kcmF3LmFwcGx5KHRoaXMsIGFyZyk7XG4gIH1cblxuICBwcm90by5fZHJhd1Byb3BzID0gW1wiY29sb3JcIiwgXCJtYXR0ZVwiXTtcblxuICAvLyBodHRwOi8vd3d3LmdyYXBoaWNzbWFnaWNrLm9yZy9HcmFwaGljc01hZ2ljay5odG1sI2RldGFpbHMtZHJhd1xuICBwcm90by5zZXREcmF3ID0gZnVuY3Rpb24gc2V0RHJhdyAocHJvcCwgeCwgeSwgbWV0aG9kKSB7XG4gICAgcHJvcCA9IFN0cmluZyhwcm9wIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICBpZiAoIX50aGlzLl9kcmF3UHJvcHMuaW5kZXhPZihwcm9wKSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZHJhdyhwcm9wLCB4K1wiLFwiK3ksIG1ldGhvZCk7XG4gIH1cblxufVxuXG5mdW5jdGlvbiBmb3JtYXRQb2ludHMgKHBvaW50cykge1xuICB2YXIgbGVuID0gcG9pbnRzLmxlbmd0aFxuICAgICwgcmVzdWx0ID0gW11cbiAgICAsIGkgPSAwO1xuXG4gIGZvciAoOyBpIDwgbGVuOyArK2kpIHtcbiAgICByZXN1bHQucHVzaChwb2ludHNbaV0uam9pbihcIixcIikpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbiIsICJcbi8qKlxuICogRXh0ZW5kIHByb3RvLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHByb3RvKSB7XG5cbiAgcHJvdG8udGh1bWIgPSBmdW5jdGlvbiB0aHVtYiAodywgaCwgbmFtZSwgcXVhbGl0eSwgYWxpZ24sIHByb2dyZXNzaXZlLCBjYWxsYmFjaywgb3B0cykge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuXG4gICAgb3B0cyA9IGFyZ3MucG9wKCk7XG5cbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2sgPSBhcmdzLnBvcCgpO1xuICAgIH1cblxuICAgIHcgPSBhcmdzLnNoaWZ0KCk7XG4gICAgaCA9IGFyZ3Muc2hpZnQoKTtcbiAgICBuYW1lID0gYXJncy5zaGlmdCgpO1xuICAgIHF1YWxpdHkgPSBhcmdzLnNoaWZ0KCkgfHwgNjM7XG4gICAgYWxpZ24gPSBhcmdzLnNoaWZ0KCkgfHwgJ3RvcGxlZnQnO1xuICAgIHZhciBpbnRlcmxhY2UgPSBhcmdzLnNoaWZ0KCkgPyAnTGluZScgOiAnTm9uZSc7XG5cbiAgICBzZWxmLnNpemUoZnVuY3Rpb24gKGVyciwgc2l6ZSkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgdyA9IHBhcnNlSW50KHcsIDEwKTtcbiAgICAgIGggPSBwYXJzZUludChoLCAxMCk7XG5cbiAgICAgIHZhciB3MSwgaDE7XG4gICAgICB2YXIgeG9mZnNldCA9IDA7XG4gICAgICB2YXIgeW9mZnNldCA9IDA7XG5cbiAgICAgIGlmIChzaXplLndpZHRoIDwgc2l6ZS5oZWlnaHQpIHtcbiAgICAgICAgdzEgPSB3O1xuICAgICAgICBoMSA9IE1hdGguZmxvb3Ioc2l6ZS5oZWlnaHQgKiAody9zaXplLndpZHRoKSk7XG4gICAgICAgIGlmIChoMSA8IGgpIHtcbiAgICAgICAgICB3MSA9IE1hdGguZmxvb3IodzEgKiAoKChoLWgxKS9oKSArIDEpKTtcbiAgICAgICAgICBoMSA9IGg7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc2l6ZS53aWR0aCA+IHNpemUuaGVpZ2h0KSB7XG4gICAgICAgIGgxID0gaDtcbiAgICAgICAgdzEgPSBNYXRoLmZsb29yKHNpemUud2lkdGggKiAoaC9zaXplLmhlaWdodCkpO1xuICAgICAgICBpZiAodzEgPCB3KSB7XG4gICAgICAgICAgaDEgPSBNYXRoLmZsb29yKGgxICogKCgody13MSkvdykgKyAxKSk7XG4gICAgICAgICAgdzEgPSB3O1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNpemUud2lkdGggPT0gc2l6ZS5oZWlnaHQpIHtcbiAgICAgICAgdmFyIGJpZ2dlciA9ICh3Pmg/dzpoKTtcbiAgICAgICAgdzEgPSBiaWdnZXI7XG4gICAgICAgIGgxID0gYmlnZ2VyO1xuICAgICAgfVxuXG4gICAgICBpZiAoYWxpZ24gPT0gJ2NlbnRlcicpIHtcbiAgICAgICAgaWYgKHcgPCB3MSkge1xuICAgICAgICAgIHhvZmZzZXQgPSAodzEtdykvMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaCA8IGgxKSB7XG4gICAgICAgICAgeW9mZnNldCA9IChoMS1oKS8yO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHNlbGZcbiAgICAgIC5xdWFsaXR5KHF1YWxpdHkpXG4gICAgICAuaW4oXCItc2l6ZVwiLCB3MStcInhcIitoMSlcbiAgICAgIC5zY2FsZSh3MSwgaDEsIG9wdHMpXG4gICAgICAuY3JvcCh3LCBoLCB4b2Zmc2V0LCB5b2Zmc2V0KVxuICAgICAgLmludGVybGFjZShpbnRlcmxhY2UpXG4gICAgICAubm9Qcm9maWxlKClcbiAgICAgIC53cml0ZShuYW1lLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxiYWNrLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIHByb3RvLnRodW1iRXhhY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cbiAgICBhcmdzLnB1c2goJyEnKTtcblxuICAgIHNlbGYudGh1bWIuYXBwbHkoc2VsZiwgYXJncyk7XG4gIH07XG59O1xuIiwgIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyYWxsZWwoZm5zLCBjb250ZXh0LCBjYWxsYmFjaykge1xuICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBjb250ZXh0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IGNvbnRleHRcbiAgICAgIGNvbnRleHQgPSBudWxsXG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrID0gbm9vcFxuICAgIH1cbiAgfVxuXG4gIHZhciBwZW5kaW5nID0gZm5zICYmIGZucy5sZW5ndGhcbiAgaWYgKCFwZW5kaW5nKSByZXR1cm4gY2FsbGJhY2sobnVsbCwgW10pO1xuXG4gIHZhciBmaW5pc2hlZCA9IGZhbHNlXG4gIHZhciByZXN1bHRzID0gbmV3IEFycmF5KHBlbmRpbmcpXG5cbiAgZm5zLmZvckVhY2goY29udGV4dCA/IGZ1bmN0aW9uIChmbiwgaSkge1xuICAgIGZuLmNhbGwoY29udGV4dCwgbWF5YmVEb25lKGkpKVxuICB9IDogZnVuY3Rpb24gKGZuLCBpKSB7XG4gICAgZm4obWF5YmVEb25lKGkpKVxuICB9KVxuXG4gIGZ1bmN0aW9uIG1heWJlRG9uZShpKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgICAgaWYgKGZpbmlzaGVkKSByZXR1cm47XG5cbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgY2FsbGJhY2soZXJyLCByZXN1bHRzKVxuICAgICAgICBmaW5pc2hlZCA9IHRydWVcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIHJlc3VsdHNbaV0gPSByZXN1bHRcblxuICAgICAgaWYgKCEtLXBlbmRpbmcpIGNhbGxiYWNrKG51bGwsIHJlc3VsdHMpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBub29wKCkge31cbiIsICJcbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgZnMgPSByZXF1aXJlKCdmcycpO1xudmFyIHBhcmFsbGVsID0gcmVxdWlyZSgnYXJyYXktcGFyYWxsZWwnKTtcblxuLyoqXG4gKiBFeHRlbmQgcHJvdG8uXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAocHJvdG8pIHtcblxuICAvKipcbiAgICogRG8gbm90aGluZy5cbiAgICovXG5cbiAgZnVuY3Rpb24gbm9vcCAoKSB7fVxuXG4gIC8vIGh0dHA6Ly93d3cuZ3JhcGhpY3NtYWdpY2sub3JnL0dyYXBoaWNzTWFnaWNrLmh0bWwjZGV0YWlscy1tb3JwaFxuICBwcm90by5tb3JwaCA9IGZ1bmN0aW9uIG1vcnBoIChvdGhlciwgb3V0bmFtZSwgY2FsbGJhY2spIHtcbiAgICBpZiAoIW91dG5hbWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImFuIG91dHB1dCBmaWxlbmFtZSBpcyByZXF1aXJlZFwiKTtcbiAgICB9XG5cbiAgICBjYWxsYmFjayA9IChjYWxsYmFjayB8fCBub29wKS5iaW5kKHRoaXMpXG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShvdGhlcikpIHtcbiAgICAgIG90aGVyLmZvckVhY2goZnVuY3Rpb24gKGltZykge1xuICAgICAgICBzZWxmLm91dChpbWcpO1xuICAgICAgfSk7XG4gICAgICBzZWxmLm91dChcIi1tb3JwaFwiLCBvdGhlci5sZW5ndGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLm91dChvdGhlciwgXCItbW9ycGhcIiwgMSk7XG4gICAgfVxuXG4gICAgc2VsZi53cml0ZShvdXRuYW1lLCBmdW5jdGlvbiAoZXJyLCBzdGRvdXQsIHN0ZGVyciwgY21kKSB7XG4gICAgICBpZiAoZXJyKSByZXR1cm4gY2FsbGJhY2soZXJyLCBzdGRvdXQsIHN0ZGVyciwgY21kKTtcblxuICAgICAgLy8gQXBwYXJlbnRseSBzb21lIHBsYXRmb3JtcyBjcmVhdGUgdGhlIGZvbGxvd2luZyB0ZW1wb3JhcnkgZmlsZXMuXG4gICAgICAvLyBDaGVjayBpZiB0aGUgb3V0cHV0IGZpbGUgZXhpc3RzLCBpZiBpdCBkb2Vzbid0LCB0aGVuXG4gICAgICAvLyB3b3JrIHdpdGggdGVtcG9yYXJ5IGZpbGVzLlxuICAgICAgZnMuZXhpc3RzKG91dG5hbWUsIGZ1bmN0aW9uIChleGlzdHMpIHtcbiAgICAgICAgaWYgKGV4aXN0cykgcmV0dXJuIGNhbGxiYWNrKG51bGwsIHN0ZG91dCwgc3RkZXJyLCBjbWQpO1xuXG4gICAgICAgIHBhcmFsbGVsKFtcbiAgICAgICAgICBmcy51bmxpbmsuYmluZChmcywgb3V0bmFtZSArICcuMCcpLFxuICAgICAgICAgIGZzLnVubGluay5iaW5kKGZzLCBvdXRuYW1lICsgJy4yJyksXG4gICAgICAgICAgZnMucmVuYW1lLmJpbmQoZnMsIG91dG5hbWUgKyAnLjEnLCBvdXRuYW1lKVxuICAgICAgICBdLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgY2FsbGJhY2soZXJyLCBzdGRvdXQsIHN0ZGVyciwgY21kKTtcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSk7XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfVxufVxuIiwgIlxuLyoqXG4gKiBFeHRlbmQgcHJvdG8uXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAocHJvdG8pIHtcbiAgcHJvdG8uc2VwaWEgPSBmdW5jdGlvbiBzZXBpYSAoKSB7XG4gICAgcmV0dXJuIHRoaXMubW9kdWxhdGUoMTE1LCAwLCAxMDApLmNvbG9yaXplKDcsIDIxLCA1MCk7XG4gIH1cbn1cbiIsICJcbi8qKlxuICogRXh0ZW5kIHByb3RvLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHByb3RvKSB7XG5cbiAgdmFyIGV4aWZUcmFuc2Zvcm1zID0ge1xuICAgICAgdG9wbGVmdDogICAgICcnXG4gICAgLCB0b3ByaWdodDogICAgWyctZmxvcCddXG4gICAgLCBib3R0b21yaWdodDogWyctcm90YXRlJywgMTgwXVxuICAgICwgYm90dG9tbGVmdDogIFsnLWZsaXAnXVxuICAgICwgbGVmdHRvcDogICAgIFsnLWZsaXAnLCAnLXJvdGF0ZScsIDkwXVxuICAgICwgcmlnaHR0b3A6ICAgIFsnLXJvdGF0ZScsIDkwXVxuICAgICwgcmlnaHRib3R0b206IFsnLWZsb3AnLCAnLXJvdGF0ZScsIDkwXVxuICAgICwgbGVmdGJvdHRvbTogIFsnLXJvdGF0ZScsIDI3MF1cbiAgfVxuXG4gIHByb3RvLmF1dG9PcmllbnQgPSBmdW5jdGlvbiBhdXRvT3JpZW50ICgpIHtcbiAgICAvLyBBbHdheXMgc3RyaXAgRVhJRiBkYXRhIHNpbmNlIHdlIGNhbid0XG4gICAgLy8gY2hhbmdlL2VkaXQgaXQuXG5cbiAgICAvLyBpbWFnZW1hZ2ljayBoYXMgYSBuYXRpdmUgLWF1dG8tb3JpZW50IG9wdGlvblxuICAgIC8vIHNvIGRvZXMgZ3JhcGhpY3NtYWdpY2ssIGJ1dCBpbiAxLjMuMTguXG4gICAgLy8gbmF0aXZlQXV0b09yaWVudCBvcHRpb24gZW5hYmxlcyB0aGlzIGlmIHlvdSBrbm93IHlvdSBoYXZlID49IDEuMy4xOFxuICAgIGlmICh0aGlzLl9vcHRpb25zLm5hdGl2ZUF1dG9PcmllbnQgfHwgdGhpcy5fb3B0aW9ucy5pbWFnZU1hZ2ljaykge1xuICAgICAgdGhpcy5vdXQoJy1hdXRvLW9yaWVudCcpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdGhpcy5wcmVwcm9jZXNzb3IoZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLm9yaWVudGF0aW9uKHtidWZmZXJTdHJlYW06IHRydWV9LCBmdW5jdGlvbiAoZXJyLCBvcmllbnRhdGlvbikge1xuICAgICAgICBpZiAoZXJyKSByZXR1cm4gY2FsbGJhY2soZXJyKTtcblxuICAgICAgICB2YXIgdHJhbnNmb3JtcyA9IGV4aWZUcmFuc2Zvcm1zW29yaWVudGF0aW9uLnRvTG93ZXJDYXNlKCldO1xuICAgICAgICBpZiAodHJhbnNmb3Jtcykge1xuXG4gICAgICAgICAgLy8gcmVtb3ZlIGFueSBleGlzdGluZyB0cmFuc2Zvcm1zIHRoYXQgbWlnaHQgY29uZmxpY3RcbiAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl9vdXQuaW5kZXhPZih0cmFuc2Zvcm1zWzBdKTtcbiAgICAgICAgICBpZiAofmluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLl9vdXQuc3BsaWNlKGluZGV4LCB0cmFuc2Zvcm1zLmxlbmd0aCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gcmVwYWdlIHRvIGZpeCBjb29yZGluYXRlc1xuICAgICAgICAgIHRoaXMuX291dC51bnNoaWZ0LmFwcGx5KHRoaXMuX291dCwgdHJhbnNmb3Jtcy5jb25jYXQoJy1wYWdlJywgJyswKzAnKSk7XG4gICAgICAgIH1cblxuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuIiwgIlxuLyoqXG4gKiBFeHRlbmQgcHJvdG9cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChwcm90bykge1xuICByZXF1aXJlKFwiLi9jb252ZW5pZW5jZS90aHVtYlwiKShwcm90byk7XG4gIHJlcXVpcmUoXCIuL2NvbnZlbmllbmNlL21vcnBoXCIpKHByb3RvKTtcbiAgcmVxdWlyZShcIi4vY29udmVuaWVuY2Uvc2VwaWFcIikocHJvdG8pO1xuICByZXF1aXJlKFwiLi9jb252ZW5pZW5jZS9hdXRvT3JpZW50XCIpKHByb3RvKTtcbn1cbiIsICJ2YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5XG5cbm1vZHVsZS5leHBvcnRzID0gUHNldWRvTWFwXG5cbmZ1bmN0aW9uIFBzZXVkb01hcCAoc2V0KSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBQc2V1ZG9NYXApKSAvLyB3aHl5eXl5eXlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ29uc3RydWN0b3IgUHNldWRvTWFwIHJlcXVpcmVzICduZXcnXCIpXG5cbiAgdGhpcy5jbGVhcigpXG5cbiAgaWYgKHNldCkge1xuICAgIGlmICgoc2V0IGluc3RhbmNlb2YgUHNldWRvTWFwKSB8fFxuICAgICAgICAodHlwZW9mIE1hcCA9PT0gJ2Z1bmN0aW9uJyAmJiBzZXQgaW5zdGFuY2VvZiBNYXApKVxuICAgICAgc2V0LmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgdGhpcy5zZXQoa2V5LCB2YWx1ZSlcbiAgICAgIH0sIHRoaXMpXG4gICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShzZXQpKVxuICAgICAgc2V0LmZvckVhY2goZnVuY3Rpb24gKGt2KSB7XG4gICAgICAgIHRoaXMuc2V0KGt2WzBdLCBrdlsxXSlcbiAgICAgIH0sIHRoaXMpXG4gICAgZWxzZVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBhcmd1bWVudCcpXG4gIH1cbn1cblxuUHNldWRvTWFwLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGZuLCB0aGlzcCkge1xuICB0aGlzcCA9IHRoaXNwIHx8IHRoaXNcbiAgT2JqZWN0LmtleXModGhpcy5fZGF0YSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgIGlmIChrICE9PSAnc2l6ZScpXG4gICAgICBmbi5jYWxsKHRoaXNwLCB0aGlzLl9kYXRhW2tdLnZhbHVlLCB0aGlzLl9kYXRhW2tdLmtleSlcbiAgfSwgdGhpcylcbn1cblxuUHNldWRvTWFwLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoaykge1xuICByZXR1cm4gISFmaW5kKHRoaXMuX2RhdGEsIGspXG59XG5cblBzZXVkb01hcC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGspIHtcbiAgdmFyIHJlcyA9IGZpbmQodGhpcy5fZGF0YSwgaylcbiAgcmV0dXJuIHJlcyAmJiByZXMudmFsdWVcbn1cblxuUHNldWRvTWFwLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoaywgdikge1xuICBzZXQodGhpcy5fZGF0YSwgaywgdilcbn1cblxuUHNldWRvTWFwLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoaykge1xuICB2YXIgcmVzID0gZmluZCh0aGlzLl9kYXRhLCBrKVxuICBpZiAocmVzKSB7XG4gICAgZGVsZXRlIHRoaXMuX2RhdGFbcmVzLl9pbmRleF1cbiAgICB0aGlzLl9kYXRhLnNpemUtLVxuICB9XG59XG5cblBzZXVkb01hcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBkYXRhID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuICBkYXRhLnNpemUgPSAwXG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdfZGF0YScsIHtcbiAgICB2YWx1ZTogZGF0YSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgd3JpdGFibGU6IGZhbHNlXG4gIH0pXG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShQc2V1ZG9NYXAucHJvdG90eXBlLCAnc2l6ZScsIHtcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGEuc2l6ZVxuICB9LFxuICBzZXQ6IGZ1bmN0aW9uIChuKSB7fSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgY29uZmlndXJhYmxlOiB0cnVlXG59KVxuXG5Qc2V1ZG9NYXAucHJvdG90eXBlLnZhbHVlcyA9XG5Qc2V1ZG9NYXAucHJvdG90eXBlLmtleXMgPVxuUHNldWRvTWFwLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24gKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ2l0ZXJhdG9ycyBhcmUgbm90IGltcGxlbWVudGVkIGluIHRoaXMgdmVyc2lvbicpXG59XG5cbi8vIEVpdGhlciBpZGVudGljYWwsIG9yIGJvdGggTmFOXG5mdW5jdGlvbiBzYW1lIChhLCBiKSB7XG4gIHJldHVybiBhID09PSBiIHx8IGEgIT09IGEgJiYgYiAhPT0gYlxufVxuXG5mdW5jdGlvbiBFbnRyeSAoaywgdiwgaSkge1xuICB0aGlzLmtleSA9IGtcbiAgdGhpcy52YWx1ZSA9IHZcbiAgdGhpcy5faW5kZXggPSBpXG59XG5cbmZ1bmN0aW9uIGZpbmQgKGRhdGEsIGspIHtcbiAgZm9yICh2YXIgaSA9IDAsIHMgPSAnXycgKyBrLCBrZXkgPSBzO1xuICAgICAgIGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbiAgICAgICBrZXkgPSBzICsgaSsrKSB7XG4gICAgaWYgKHNhbWUoZGF0YVtrZXldLmtleSwgaykpXG4gICAgICByZXR1cm4gZGF0YVtrZXldXG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0IChkYXRhLCBrLCB2KSB7XG4gIGZvciAodmFyIGkgPSAwLCBzID0gJ18nICsgaywga2V5ID0gcztcbiAgICAgICBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG4gICAgICAga2V5ID0gcyArIGkrKykge1xuICAgIGlmIChzYW1lKGRhdGFba2V5XS5rZXksIGspKSB7XG4gICAgICBkYXRhW2tleV0udmFsdWUgPSB2XG4gICAgICByZXR1cm5cbiAgICB9XG4gIH1cbiAgZGF0YS5zaXplKytcbiAgZGF0YVtrZXldID0gbmV3IEVudHJ5KGssIHYsIGtleSlcbn1cbiIsICJpZiAocHJvY2Vzcy5lbnYubnBtX3BhY2thZ2VfbmFtZSA9PT0gJ3BzZXVkb21hcCcgJiZcbiAgICBwcm9jZXNzLmVudi5ucG1fbGlmZWN5Y2xlX3NjcmlwdCA9PT0gJ3Rlc3QnKVxuICBwcm9jZXNzLmVudi5URVNUX1BTRVVET01BUCA9ICd0cnVlJ1xuXG5pZiAodHlwZW9mIE1hcCA9PT0gJ2Z1bmN0aW9uJyAmJiAhcHJvY2Vzcy5lbnYuVEVTVF9QU0VVRE9NQVApIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBNYXBcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9wc2V1ZG9tYXAnKVxufVxuIiwgIm1vZHVsZS5leHBvcnRzID0gWWFsbGlzdFxuXG5ZYWxsaXN0Lk5vZGUgPSBOb2RlXG5ZYWxsaXN0LmNyZWF0ZSA9IFlhbGxpc3RcblxuZnVuY3Rpb24gWWFsbGlzdCAobGlzdCkge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgaWYgKCEoc2VsZiBpbnN0YW5jZW9mIFlhbGxpc3QpKSB7XG4gICAgc2VsZiA9IG5ldyBZYWxsaXN0KClcbiAgfVxuXG4gIHNlbGYudGFpbCA9IG51bGxcbiAgc2VsZi5oZWFkID0gbnVsbFxuICBzZWxmLmxlbmd0aCA9IDBcblxuICBpZiAobGlzdCAmJiB0eXBlb2YgbGlzdC5mb3JFYWNoID09PSAnZnVuY3Rpb24nKSB7XG4gICAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICBzZWxmLnB1c2goaXRlbSlcbiAgICB9KVxuICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBzZWxmLnB1c2goYXJndW1lbnRzW2ldKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzZWxmXG59XG5cbllhbGxpc3QucHJvdG90eXBlLnJlbW92ZU5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICBpZiAobm9kZS5saXN0ICE9PSB0aGlzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdyZW1vdmluZyBub2RlIHdoaWNoIGRvZXMgbm90IGJlbG9uZyB0byB0aGlzIGxpc3QnKVxuICB9XG5cbiAgdmFyIG5leHQgPSBub2RlLm5leHRcbiAgdmFyIHByZXYgPSBub2RlLnByZXZcblxuICBpZiAobmV4dCkge1xuICAgIG5leHQucHJldiA9IHByZXZcbiAgfVxuXG4gIGlmIChwcmV2KSB7XG4gICAgcHJldi5uZXh0ID0gbmV4dFxuICB9XG5cbiAgaWYgKG5vZGUgPT09IHRoaXMuaGVhZCkge1xuICAgIHRoaXMuaGVhZCA9IG5leHRcbiAgfVxuICBpZiAobm9kZSA9PT0gdGhpcy50YWlsKSB7XG4gICAgdGhpcy50YWlsID0gcHJldlxuICB9XG5cbiAgbm9kZS5saXN0Lmxlbmd0aC0tXG4gIG5vZGUubmV4dCA9IG51bGxcbiAgbm9kZS5wcmV2ID0gbnVsbFxuICBub2RlLmxpc3QgPSBudWxsXG59XG5cbllhbGxpc3QucHJvdG90eXBlLnVuc2hpZnROb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgaWYgKG5vZGUgPT09IHRoaXMuaGVhZCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgaWYgKG5vZGUubGlzdCkge1xuICAgIG5vZGUubGlzdC5yZW1vdmVOb2RlKG5vZGUpXG4gIH1cblxuICB2YXIgaGVhZCA9IHRoaXMuaGVhZFxuICBub2RlLmxpc3QgPSB0aGlzXG4gIG5vZGUubmV4dCA9IGhlYWRcbiAgaWYgKGhlYWQpIHtcbiAgICBoZWFkLnByZXYgPSBub2RlXG4gIH1cblxuICB0aGlzLmhlYWQgPSBub2RlXG4gIGlmICghdGhpcy50YWlsKSB7XG4gICAgdGhpcy50YWlsID0gbm9kZVxuICB9XG4gIHRoaXMubGVuZ3RoKytcbn1cblxuWWFsbGlzdC5wcm90b3R5cGUucHVzaE5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICBpZiAobm9kZSA9PT0gdGhpcy50YWlsKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBpZiAobm9kZS5saXN0KSB7XG4gICAgbm9kZS5saXN0LnJlbW92ZU5vZGUobm9kZSlcbiAgfVxuXG4gIHZhciB0YWlsID0gdGhpcy50YWlsXG4gIG5vZGUubGlzdCA9IHRoaXNcbiAgbm9kZS5wcmV2ID0gdGFpbFxuICBpZiAodGFpbCkge1xuICAgIHRhaWwubmV4dCA9IG5vZGVcbiAgfVxuXG4gIHRoaXMudGFpbCA9IG5vZGVcbiAgaWYgKCF0aGlzLmhlYWQpIHtcbiAgICB0aGlzLmhlYWQgPSBub2RlXG4gIH1cbiAgdGhpcy5sZW5ndGgrK1xufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKCkge1xuICBmb3IgKHZhciBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBwdXNoKHRoaXMsIGFyZ3VtZW50c1tpXSlcbiAgfVxuICByZXR1cm4gdGhpcy5sZW5ndGhcbn1cblxuWWFsbGlzdC5wcm90b3R5cGUudW5zaGlmdCA9IGZ1bmN0aW9uICgpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgdW5zaGlmdCh0aGlzLCBhcmd1bWVudHNbaV0pXG4gIH1cbiAgcmV0dXJuIHRoaXMubGVuZ3RoXG59XG5cbllhbGxpc3QucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCF0aGlzLnRhaWwpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICB2YXIgcmVzID0gdGhpcy50YWlsLnZhbHVlXG4gIHRoaXMudGFpbCA9IHRoaXMudGFpbC5wcmV2XG4gIGlmICh0aGlzLnRhaWwpIHtcbiAgICB0aGlzLnRhaWwubmV4dCA9IG51bGxcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmhlYWQgPSBudWxsXG4gIH1cbiAgdGhpcy5sZW5ndGgtLVxuICByZXR1cm4gcmVzXG59XG5cbllhbGxpc3QucHJvdG90eXBlLnNoaWZ0ID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMuaGVhZCkge1xuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIHZhciByZXMgPSB0aGlzLmhlYWQudmFsdWVcbiAgdGhpcy5oZWFkID0gdGhpcy5oZWFkLm5leHRcbiAgaWYgKHRoaXMuaGVhZCkge1xuICAgIHRoaXMuaGVhZC5wcmV2ID0gbnVsbFxuICB9IGVsc2Uge1xuICAgIHRoaXMudGFpbCA9IG51bGxcbiAgfVxuICB0aGlzLmxlbmd0aC0tXG4gIHJldHVybiByZXNcbn1cblxuWWFsbGlzdC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChmbiwgdGhpc3ApIHtcbiAgdGhpc3AgPSB0aGlzcCB8fCB0aGlzXG4gIGZvciAodmFyIHdhbGtlciA9IHRoaXMuaGVhZCwgaSA9IDA7IHdhbGtlciAhPT0gbnVsbDsgaSsrKSB7XG4gICAgZm4uY2FsbCh0aGlzcCwgd2Fsa2VyLnZhbHVlLCBpLCB0aGlzKVxuICAgIHdhbGtlciA9IHdhbGtlci5uZXh0XG4gIH1cbn1cblxuWWFsbGlzdC5wcm90b3R5cGUuZm9yRWFjaFJldmVyc2UgPSBmdW5jdGlvbiAoZm4sIHRoaXNwKSB7XG4gIHRoaXNwID0gdGhpc3AgfHwgdGhpc1xuICBmb3IgKHZhciB3YWxrZXIgPSB0aGlzLnRhaWwsIGkgPSB0aGlzLmxlbmd0aCAtIDE7IHdhbGtlciAhPT0gbnVsbDsgaS0tKSB7XG4gICAgZm4uY2FsbCh0aGlzcCwgd2Fsa2VyLnZhbHVlLCBpLCB0aGlzKVxuICAgIHdhbGtlciA9IHdhbGtlci5wcmV2XG4gIH1cbn1cblxuWWFsbGlzdC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKG4pIHtcbiAgZm9yICh2YXIgaSA9IDAsIHdhbGtlciA9IHRoaXMuaGVhZDsgd2Fsa2VyICE9PSBudWxsICYmIGkgPCBuOyBpKyspIHtcbiAgICAvLyBhYm9ydCBvdXQgb2YgdGhlIGxpc3QgZWFybHkgaWYgd2UgaGl0IGEgY3ljbGVcbiAgICB3YWxrZXIgPSB3YWxrZXIubmV4dFxuICB9XG4gIGlmIChpID09PSBuICYmIHdhbGtlciAhPT0gbnVsbCkge1xuICAgIHJldHVybiB3YWxrZXIudmFsdWVcbiAgfVxufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5nZXRSZXZlcnNlID0gZnVuY3Rpb24gKG4pIHtcbiAgZm9yICh2YXIgaSA9IDAsIHdhbGtlciA9IHRoaXMudGFpbDsgd2Fsa2VyICE9PSBudWxsICYmIGkgPCBuOyBpKyspIHtcbiAgICAvLyBhYm9ydCBvdXQgb2YgdGhlIGxpc3QgZWFybHkgaWYgd2UgaGl0IGEgY3ljbGVcbiAgICB3YWxrZXIgPSB3YWxrZXIucHJldlxuICB9XG4gIGlmIChpID09PSBuICYmIHdhbGtlciAhPT0gbnVsbCkge1xuICAgIHJldHVybiB3YWxrZXIudmFsdWVcbiAgfVxufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoZm4sIHRoaXNwKSB7XG4gIHRoaXNwID0gdGhpc3AgfHwgdGhpc1xuICB2YXIgcmVzID0gbmV3IFlhbGxpc3QoKVxuICBmb3IgKHZhciB3YWxrZXIgPSB0aGlzLmhlYWQ7IHdhbGtlciAhPT0gbnVsbDspIHtcbiAgICByZXMucHVzaChmbi5jYWxsKHRoaXNwLCB3YWxrZXIudmFsdWUsIHRoaXMpKVxuICAgIHdhbGtlciA9IHdhbGtlci5uZXh0XG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5tYXBSZXZlcnNlID0gZnVuY3Rpb24gKGZuLCB0aGlzcCkge1xuICB0aGlzcCA9IHRoaXNwIHx8IHRoaXNcbiAgdmFyIHJlcyA9IG5ldyBZYWxsaXN0KClcbiAgZm9yICh2YXIgd2Fsa2VyID0gdGhpcy50YWlsOyB3YWxrZXIgIT09IG51bGw7KSB7XG4gICAgcmVzLnB1c2goZm4uY2FsbCh0aGlzcCwgd2Fsa2VyLnZhbHVlLCB0aGlzKSlcbiAgICB3YWxrZXIgPSB3YWxrZXIucHJldlxuICB9XG4gIHJldHVybiByZXNcbn1cblxuWWFsbGlzdC5wcm90b3R5cGUucmVkdWNlID0gZnVuY3Rpb24gKGZuLCBpbml0aWFsKSB7XG4gIHZhciBhY2NcbiAgdmFyIHdhbGtlciA9IHRoaXMuaGVhZFxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICBhY2MgPSBpbml0aWFsXG4gIH0gZWxzZSBpZiAodGhpcy5oZWFkKSB7XG4gICAgd2Fsa2VyID0gdGhpcy5oZWFkLm5leHRcbiAgICBhY2MgPSB0aGlzLmhlYWQudmFsdWVcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdSZWR1Y2Ugb2YgZW1wdHkgbGlzdCB3aXRoIG5vIGluaXRpYWwgdmFsdWUnKVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IHdhbGtlciAhPT0gbnVsbDsgaSsrKSB7XG4gICAgYWNjID0gZm4oYWNjLCB3YWxrZXIudmFsdWUsIGkpXG4gICAgd2Fsa2VyID0gd2Fsa2VyLm5leHRcbiAgfVxuXG4gIHJldHVybiBhY2Ncbn1cblxuWWFsbGlzdC5wcm90b3R5cGUucmVkdWNlUmV2ZXJzZSA9IGZ1bmN0aW9uIChmbiwgaW5pdGlhbCkge1xuICB2YXIgYWNjXG4gIHZhciB3YWxrZXIgPSB0aGlzLnRhaWxcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgYWNjID0gaW5pdGlhbFxuICB9IGVsc2UgaWYgKHRoaXMudGFpbCkge1xuICAgIHdhbGtlciA9IHRoaXMudGFpbC5wcmV2XG4gICAgYWNjID0gdGhpcy50YWlsLnZhbHVlXG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUmVkdWNlIG9mIGVtcHR5IGxpc3Qgd2l0aCBubyBpbml0aWFsIHZhbHVlJylcbiAgfVxuXG4gIGZvciAodmFyIGkgPSB0aGlzLmxlbmd0aCAtIDE7IHdhbGtlciAhPT0gbnVsbDsgaS0tKSB7XG4gICAgYWNjID0gZm4oYWNjLCB3YWxrZXIudmFsdWUsIGkpXG4gICAgd2Fsa2VyID0gd2Fsa2VyLnByZXZcbiAgfVxuXG4gIHJldHVybiBhY2Ncbn1cblxuWWFsbGlzdC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGFyciA9IG5ldyBBcnJheSh0aGlzLmxlbmd0aClcbiAgZm9yICh2YXIgaSA9IDAsIHdhbGtlciA9IHRoaXMuaGVhZDsgd2Fsa2VyICE9PSBudWxsOyBpKyspIHtcbiAgICBhcnJbaV0gPSB3YWxrZXIudmFsdWVcbiAgICB3YWxrZXIgPSB3YWxrZXIubmV4dFxuICB9XG4gIHJldHVybiBhcnJcbn1cblxuWWFsbGlzdC5wcm90b3R5cGUudG9BcnJheVJldmVyc2UgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBhcnIgPSBuZXcgQXJyYXkodGhpcy5sZW5ndGgpXG4gIGZvciAodmFyIGkgPSAwLCB3YWxrZXIgPSB0aGlzLnRhaWw7IHdhbGtlciAhPT0gbnVsbDsgaSsrKSB7XG4gICAgYXJyW2ldID0gd2Fsa2VyLnZhbHVlXG4gICAgd2Fsa2VyID0gd2Fsa2VyLnByZXZcbiAgfVxuICByZXR1cm4gYXJyXG59XG5cbllhbGxpc3QucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gKGZyb20sIHRvKSB7XG4gIHRvID0gdG8gfHwgdGhpcy5sZW5ndGhcbiAgaWYgKHRvIDwgMCkge1xuICAgIHRvICs9IHRoaXMubGVuZ3RoXG4gIH1cbiAgZnJvbSA9IGZyb20gfHwgMFxuICBpZiAoZnJvbSA8IDApIHtcbiAgICBmcm9tICs9IHRoaXMubGVuZ3RoXG4gIH1cbiAgdmFyIHJldCA9IG5ldyBZYWxsaXN0KClcbiAgaWYgKHRvIDwgZnJvbSB8fCB0byA8IDApIHtcbiAgICByZXR1cm4gcmV0XG4gIH1cbiAgaWYgKGZyb20gPCAwKSB7XG4gICAgZnJvbSA9IDBcbiAgfVxuICBpZiAodG8gPiB0aGlzLmxlbmd0aCkge1xuICAgIHRvID0gdGhpcy5sZW5ndGhcbiAgfVxuICBmb3IgKHZhciBpID0gMCwgd2Fsa2VyID0gdGhpcy5oZWFkOyB3YWxrZXIgIT09IG51bGwgJiYgaSA8IGZyb207IGkrKykge1xuICAgIHdhbGtlciA9IHdhbGtlci5uZXh0XG4gIH1cbiAgZm9yICg7IHdhbGtlciAhPT0gbnVsbCAmJiBpIDwgdG87IGkrKywgd2Fsa2VyID0gd2Fsa2VyLm5leHQpIHtcbiAgICByZXQucHVzaCh3YWxrZXIudmFsdWUpXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5zbGljZVJldmVyc2UgPSBmdW5jdGlvbiAoZnJvbSwgdG8pIHtcbiAgdG8gPSB0byB8fCB0aGlzLmxlbmd0aFxuICBpZiAodG8gPCAwKSB7XG4gICAgdG8gKz0gdGhpcy5sZW5ndGhcbiAgfVxuICBmcm9tID0gZnJvbSB8fCAwXG4gIGlmIChmcm9tIDwgMCkge1xuICAgIGZyb20gKz0gdGhpcy5sZW5ndGhcbiAgfVxuICB2YXIgcmV0ID0gbmV3IFlhbGxpc3QoKVxuICBpZiAodG8gPCBmcm9tIHx8IHRvIDwgMCkge1xuICAgIHJldHVybiByZXRcbiAgfVxuICBpZiAoZnJvbSA8IDApIHtcbiAgICBmcm9tID0gMFxuICB9XG4gIGlmICh0byA+IHRoaXMubGVuZ3RoKSB7XG4gICAgdG8gPSB0aGlzLmxlbmd0aFxuICB9XG4gIGZvciAodmFyIGkgPSB0aGlzLmxlbmd0aCwgd2Fsa2VyID0gdGhpcy50YWlsOyB3YWxrZXIgIT09IG51bGwgJiYgaSA+IHRvOyBpLS0pIHtcbiAgICB3YWxrZXIgPSB3YWxrZXIucHJldlxuICB9XG4gIGZvciAoOyB3YWxrZXIgIT09IG51bGwgJiYgaSA+IGZyb207IGktLSwgd2Fsa2VyID0gd2Fsa2VyLnByZXYpIHtcbiAgICByZXQucHVzaCh3YWxrZXIudmFsdWUpXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkge1xuICB2YXIgaGVhZCA9IHRoaXMuaGVhZFxuICB2YXIgdGFpbCA9IHRoaXMudGFpbFxuICBmb3IgKHZhciB3YWxrZXIgPSBoZWFkOyB3YWxrZXIgIT09IG51bGw7IHdhbGtlciA9IHdhbGtlci5wcmV2KSB7XG4gICAgdmFyIHAgPSB3YWxrZXIucHJldlxuICAgIHdhbGtlci5wcmV2ID0gd2Fsa2VyLm5leHRcbiAgICB3YWxrZXIubmV4dCA9IHBcbiAgfVxuICB0aGlzLmhlYWQgPSB0YWlsXG4gIHRoaXMudGFpbCA9IGhlYWRcbiAgcmV0dXJuIHRoaXNcbn1cblxuZnVuY3Rpb24gcHVzaCAoc2VsZiwgaXRlbSkge1xuICBzZWxmLnRhaWwgPSBuZXcgTm9kZShpdGVtLCBzZWxmLnRhaWwsIG51bGwsIHNlbGYpXG4gIGlmICghc2VsZi5oZWFkKSB7XG4gICAgc2VsZi5oZWFkID0gc2VsZi50YWlsXG4gIH1cbiAgc2VsZi5sZW5ndGgrK1xufVxuXG5mdW5jdGlvbiB1bnNoaWZ0IChzZWxmLCBpdGVtKSB7XG4gIHNlbGYuaGVhZCA9IG5ldyBOb2RlKGl0ZW0sIG51bGwsIHNlbGYuaGVhZCwgc2VsZilcbiAgaWYgKCFzZWxmLnRhaWwpIHtcbiAgICBzZWxmLnRhaWwgPSBzZWxmLmhlYWRcbiAgfVxuICBzZWxmLmxlbmd0aCsrXG59XG5cbmZ1bmN0aW9uIE5vZGUgKHZhbHVlLCBwcmV2LCBuZXh0LCBsaXN0KSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBOb2RlKSkge1xuICAgIHJldHVybiBuZXcgTm9kZSh2YWx1ZSwgcHJldiwgbmV4dCwgbGlzdClcbiAgfVxuXG4gIHRoaXMubGlzdCA9IGxpc3RcbiAgdGhpcy52YWx1ZSA9IHZhbHVlXG5cbiAgaWYgKHByZXYpIHtcbiAgICBwcmV2Lm5leHQgPSB0aGlzXG4gICAgdGhpcy5wcmV2ID0gcHJldlxuICB9IGVsc2Uge1xuICAgIHRoaXMucHJldiA9IG51bGxcbiAgfVxuXG4gIGlmIChuZXh0KSB7XG4gICAgbmV4dC5wcmV2ID0gdGhpc1xuICAgIHRoaXMubmV4dCA9IG5leHRcbiAgfSBlbHNlIHtcbiAgICB0aGlzLm5leHQgPSBudWxsXG4gIH1cbn1cbiIsICIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSBMUlVDYWNoZVxuXG4vLyBUaGlzIHdpbGwgYmUgYSBwcm9wZXIgaXRlcmFibGUgJ01hcCcgaW4gZW5naW5lcyB0aGF0IHN1cHBvcnQgaXQsXG4vLyBvciBhIGZha2V5LWZha2UgUHNldWRvTWFwIGluIG9sZGVyIHZlcnNpb25zLlxudmFyIE1hcCA9IHJlcXVpcmUoJ3BzZXVkb21hcCcpXG52YXIgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKVxuXG4vLyBBIGxpbmtlZCBsaXN0IHRvIGtlZXAgdHJhY2sgb2YgcmVjZW50bHktdXNlZC1uZXNzXG52YXIgWWFsbGlzdCA9IHJlcXVpcmUoJ3lhbGxpc3QnKVxuXG4vLyB1c2Ugc3ltYm9scyBpZiBwb3NzaWJsZSwgb3RoZXJ3aXNlIGp1c3QgX3Byb3BzXG52YXIgaGFzU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBwcm9jZXNzLmVudi5fbm9kZUxSVUNhY2hlRm9yY2VOb1N5bWJvbCAhPT0gJzEnXG52YXIgbWFrZVN5bWJvbFxuaWYgKGhhc1N5bWJvbCkge1xuICBtYWtlU3ltYm9sID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBTeW1ib2woa2V5KVxuICB9XG59IGVsc2Uge1xuICBtYWtlU3ltYm9sID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiAnXycgKyBrZXlcbiAgfVxufVxuXG52YXIgTUFYID0gbWFrZVN5bWJvbCgnbWF4JylcbnZhciBMRU5HVEggPSBtYWtlU3ltYm9sKCdsZW5ndGgnKVxudmFyIExFTkdUSF9DQUxDVUxBVE9SID0gbWFrZVN5bWJvbCgnbGVuZ3RoQ2FsY3VsYXRvcicpXG52YXIgQUxMT1dfU1RBTEUgPSBtYWtlU3ltYm9sKCdhbGxvd1N0YWxlJylcbnZhciBNQVhfQUdFID0gbWFrZVN5bWJvbCgnbWF4QWdlJylcbnZhciBESVNQT1NFID0gbWFrZVN5bWJvbCgnZGlzcG9zZScpXG52YXIgTk9fRElTUE9TRV9PTl9TRVQgPSBtYWtlU3ltYm9sKCdub0Rpc3Bvc2VPblNldCcpXG52YXIgTFJVX0xJU1QgPSBtYWtlU3ltYm9sKCdscnVMaXN0JylcbnZhciBDQUNIRSA9IG1ha2VTeW1ib2woJ2NhY2hlJylcblxuZnVuY3Rpb24gbmFpdmVMZW5ndGggKCkgeyByZXR1cm4gMSB9XG5cbi8vIGxydUxpc3QgaXMgYSB5YWxsaXN0IHdoZXJlIHRoZSBoZWFkIGlzIHRoZSB5b3VuZ2VzdFxuLy8gaXRlbSwgYW5kIHRoZSB0YWlsIGlzIHRoZSBvbGRlc3QuICB0aGUgbGlzdCBjb250YWlucyB0aGUgSGl0XG4vLyBvYmplY3RzIGFzIHRoZSBlbnRyaWVzLlxuLy8gRWFjaCBIaXQgb2JqZWN0IGhhcyBhIHJlZmVyZW5jZSB0byBpdHMgWWFsbGlzdC5Ob2RlLiAgVGhpc1xuLy8gbmV2ZXIgY2hhbmdlcy5cbi8vXG4vLyBjYWNoZSBpcyBhIE1hcCAob3IgUHNldWRvTWFwKSB0aGF0IG1hdGNoZXMgdGhlIGtleXMgdG9cbi8vIHRoZSBZYWxsaXN0Lk5vZGUgb2JqZWN0LlxuZnVuY3Rpb24gTFJVQ2FjaGUgKG9wdGlvbnMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIExSVUNhY2hlKSkge1xuICAgIHJldHVybiBuZXcgTFJVQ2FjaGUob3B0aW9ucylcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcbiAgICBvcHRpb25zID0geyBtYXg6IG9wdGlvbnMgfVxuICB9XG5cbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHt9XG4gIH1cblxuICB2YXIgbWF4ID0gdGhpc1tNQVhdID0gb3B0aW9ucy5tYXhcbiAgLy8gS2luZCBvZiB3ZWlyZCB0byBoYXZlIGEgZGVmYXVsdCBtYXggb2YgSW5maW5pdHksIGJ1dCBvaCB3ZWxsLlxuICBpZiAoIW1heCB8fFxuICAgICAgISh0eXBlb2YgbWF4ID09PSAnbnVtYmVyJykgfHxcbiAgICAgIG1heCA8PSAwKSB7XG4gICAgdGhpc1tNQVhdID0gSW5maW5pdHlcbiAgfVxuXG4gIHZhciBsYyA9IG9wdGlvbnMubGVuZ3RoIHx8IG5haXZlTGVuZ3RoXG4gIGlmICh0eXBlb2YgbGMgIT09ICdmdW5jdGlvbicpIHtcbiAgICBsYyA9IG5haXZlTGVuZ3RoXG4gIH1cbiAgdGhpc1tMRU5HVEhfQ0FMQ1VMQVRPUl0gPSBsY1xuXG4gIHRoaXNbQUxMT1dfU1RBTEVdID0gb3B0aW9ucy5zdGFsZSB8fCBmYWxzZVxuICB0aGlzW01BWF9BR0VdID0gb3B0aW9ucy5tYXhBZ2UgfHwgMFxuICB0aGlzW0RJU1BPU0VdID0gb3B0aW9ucy5kaXNwb3NlXG4gIHRoaXNbTk9fRElTUE9TRV9PTl9TRVRdID0gb3B0aW9ucy5ub0Rpc3Bvc2VPblNldCB8fCBmYWxzZVxuICB0aGlzLnJlc2V0KClcbn1cblxuLy8gcmVzaXplIHRoZSBjYWNoZSB3aGVuIHRoZSBtYXggY2hhbmdlcy5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShMUlVDYWNoZS5wcm90b3R5cGUsICdtYXgnLCB7XG4gIHNldDogZnVuY3Rpb24gKG1MKSB7XG4gICAgaWYgKCFtTCB8fCAhKHR5cGVvZiBtTCA9PT0gJ251bWJlcicpIHx8IG1MIDw9IDApIHtcbiAgICAgIG1MID0gSW5maW5pdHlcbiAgICB9XG4gICAgdGhpc1tNQVhdID0gbUxcbiAgICB0cmltKHRoaXMpXG4gIH0sXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzW01BWF1cbiAgfSxcbiAgZW51bWVyYWJsZTogdHJ1ZVxufSlcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KExSVUNhY2hlLnByb3RvdHlwZSwgJ2FsbG93U3RhbGUnLCB7XG4gIHNldDogZnVuY3Rpb24gKGFsbG93U3RhbGUpIHtcbiAgICB0aGlzW0FMTE9XX1NUQUxFXSA9ICEhYWxsb3dTdGFsZVxuICB9LFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpc1tBTExPV19TVEFMRV1cbiAgfSxcbiAgZW51bWVyYWJsZTogdHJ1ZVxufSlcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KExSVUNhY2hlLnByb3RvdHlwZSwgJ21heEFnZScsIHtcbiAgc2V0OiBmdW5jdGlvbiAobUEpIHtcbiAgICBpZiAoIW1BIHx8ICEodHlwZW9mIG1BID09PSAnbnVtYmVyJykgfHwgbUEgPCAwKSB7XG4gICAgICBtQSA9IDBcbiAgICB9XG4gICAgdGhpc1tNQVhfQUdFXSA9IG1BXG4gICAgdHJpbSh0aGlzKVxuICB9LFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpc1tNQVhfQUdFXVxuICB9LFxuICBlbnVtZXJhYmxlOiB0cnVlXG59KVxuXG4vLyByZXNpemUgdGhlIGNhY2hlIHdoZW4gdGhlIGxlbmd0aENhbGN1bGF0b3IgY2hhbmdlcy5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShMUlVDYWNoZS5wcm90b3R5cGUsICdsZW5ndGhDYWxjdWxhdG9yJywge1xuICBzZXQ6IGZ1bmN0aW9uIChsQykge1xuICAgIGlmICh0eXBlb2YgbEMgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGxDID0gbmFpdmVMZW5ndGhcbiAgICB9XG4gICAgaWYgKGxDICE9PSB0aGlzW0xFTkdUSF9DQUxDVUxBVE9SXSkge1xuICAgICAgdGhpc1tMRU5HVEhfQ0FMQ1VMQVRPUl0gPSBsQ1xuICAgICAgdGhpc1tMRU5HVEhdID0gMFxuICAgICAgdGhpc1tMUlVfTElTVF0uZm9yRWFjaChmdW5jdGlvbiAoaGl0KSB7XG4gICAgICAgIGhpdC5sZW5ndGggPSB0aGlzW0xFTkdUSF9DQUxDVUxBVE9SXShoaXQudmFsdWUsIGhpdC5rZXkpXG4gICAgICAgIHRoaXNbTEVOR1RIXSArPSBoaXQubGVuZ3RoXG4gICAgICB9LCB0aGlzKVxuICAgIH1cbiAgICB0cmltKHRoaXMpXG4gIH0sXG4gIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpc1tMRU5HVEhfQ0FMQ1VMQVRPUl0gfSxcbiAgZW51bWVyYWJsZTogdHJ1ZVxufSlcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KExSVUNhY2hlLnByb3RvdHlwZSwgJ2xlbmd0aCcsIHtcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzW0xFTkdUSF0gfSxcbiAgZW51bWVyYWJsZTogdHJ1ZVxufSlcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KExSVUNhY2hlLnByb3RvdHlwZSwgJ2l0ZW1Db3VudCcsIHtcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzW0xSVV9MSVNUXS5sZW5ndGggfSxcbiAgZW51bWVyYWJsZTogdHJ1ZVxufSlcblxuTFJVQ2FjaGUucHJvdG90eXBlLnJmb3JFYWNoID0gZnVuY3Rpb24gKGZuLCB0aGlzcCkge1xuICB0aGlzcCA9IHRoaXNwIHx8IHRoaXNcbiAgZm9yICh2YXIgd2Fsa2VyID0gdGhpc1tMUlVfTElTVF0udGFpbDsgd2Fsa2VyICE9PSBudWxsOykge1xuICAgIHZhciBwcmV2ID0gd2Fsa2VyLnByZXZcbiAgICBmb3JFYWNoU3RlcCh0aGlzLCBmbiwgd2Fsa2VyLCB0aGlzcClcbiAgICB3YWxrZXIgPSBwcmV2XG4gIH1cbn1cblxuZnVuY3Rpb24gZm9yRWFjaFN0ZXAgKHNlbGYsIGZuLCBub2RlLCB0aGlzcCkge1xuICB2YXIgaGl0ID0gbm9kZS52YWx1ZVxuICBpZiAoaXNTdGFsZShzZWxmLCBoaXQpKSB7XG4gICAgZGVsKHNlbGYsIG5vZGUpXG4gICAgaWYgKCFzZWxmW0FMTE9XX1NUQUxFXSkge1xuICAgICAgaGl0ID0gdW5kZWZpbmVkXG4gICAgfVxuICB9XG4gIGlmIChoaXQpIHtcbiAgICBmbi5jYWxsKHRoaXNwLCBoaXQudmFsdWUsIGhpdC5rZXksIHNlbGYpXG4gIH1cbn1cblxuTFJVQ2FjaGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoZm4sIHRoaXNwKSB7XG4gIHRoaXNwID0gdGhpc3AgfHwgdGhpc1xuICBmb3IgKHZhciB3YWxrZXIgPSB0aGlzW0xSVV9MSVNUXS5oZWFkOyB3YWxrZXIgIT09IG51bGw7KSB7XG4gICAgdmFyIG5leHQgPSB3YWxrZXIubmV4dFxuICAgIGZvckVhY2hTdGVwKHRoaXMsIGZuLCB3YWxrZXIsIHRoaXNwKVxuICAgIHdhbGtlciA9IG5leHRcbiAgfVxufVxuXG5MUlVDYWNoZS5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXNbTFJVX0xJU1RdLnRvQXJyYXkoKS5tYXAoZnVuY3Rpb24gKGspIHtcbiAgICByZXR1cm4gay5rZXlcbiAgfSwgdGhpcylcbn1cblxuTFJVQ2FjaGUucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXNbTFJVX0xJU1RdLnRvQXJyYXkoKS5tYXAoZnVuY3Rpb24gKGspIHtcbiAgICByZXR1cm4gay52YWx1ZVxuICB9LCB0aGlzKVxufVxuXG5MUlVDYWNoZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzW0RJU1BPU0VdICYmXG4gICAgICB0aGlzW0xSVV9MSVNUXSAmJlxuICAgICAgdGhpc1tMUlVfTElTVF0ubGVuZ3RoKSB7XG4gICAgdGhpc1tMUlVfTElTVF0uZm9yRWFjaChmdW5jdGlvbiAoaGl0KSB7XG4gICAgICB0aGlzW0RJU1BPU0VdKGhpdC5rZXksIGhpdC52YWx1ZSlcbiAgICB9LCB0aGlzKVxuICB9XG5cbiAgdGhpc1tDQUNIRV0gPSBuZXcgTWFwKCkgLy8gaGFzaCBvZiBpdGVtcyBieSBrZXlcbiAgdGhpc1tMUlVfTElTVF0gPSBuZXcgWWFsbGlzdCgpIC8vIGxpc3Qgb2YgaXRlbXMgaW4gb3JkZXIgb2YgdXNlIHJlY2VuY3lcbiAgdGhpc1tMRU5HVEhdID0gMCAvLyBsZW5ndGggb2YgaXRlbXMgaW4gdGhlIGxpc3Rcbn1cblxuTFJVQ2FjaGUucHJvdG90eXBlLmR1bXAgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzW0xSVV9MSVNUXS5tYXAoZnVuY3Rpb24gKGhpdCkge1xuICAgIGlmICghaXNTdGFsZSh0aGlzLCBoaXQpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBrOiBoaXQua2V5LFxuICAgICAgICB2OiBoaXQudmFsdWUsXG4gICAgICAgIGU6IGhpdC5ub3cgKyAoaGl0Lm1heEFnZSB8fCAwKVxuICAgICAgfVxuICAgIH1cbiAgfSwgdGhpcykudG9BcnJheSgpLmZpbHRlcihmdW5jdGlvbiAoaCkge1xuICAgIHJldHVybiBoXG4gIH0pXG59XG5cbkxSVUNhY2hlLnByb3RvdHlwZS5kdW1wTHJ1ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpc1tMUlVfTElTVF1cbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbkxSVUNhY2hlLnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24gKG4sIG9wdHMpIHtcbiAgdmFyIHN0ciA9ICdMUlVDYWNoZSB7J1xuICB2YXIgZXh0cmFzID0gZmFsc2VcblxuICB2YXIgYXMgPSB0aGlzW0FMTE9XX1NUQUxFXVxuICBpZiAoYXMpIHtcbiAgICBzdHIgKz0gJ1xcbiAgYWxsb3dTdGFsZTogdHJ1ZSdcbiAgICBleHRyYXMgPSB0cnVlXG4gIH1cblxuICB2YXIgbWF4ID0gdGhpc1tNQVhdXG4gIGlmIChtYXggJiYgbWF4ICE9PSBJbmZpbml0eSkge1xuICAgIGlmIChleHRyYXMpIHtcbiAgICAgIHN0ciArPSAnLCdcbiAgICB9XG4gICAgc3RyICs9ICdcXG4gIG1heDogJyArIHV0aWwuaW5zcGVjdChtYXgsIG9wdHMpXG4gICAgZXh0cmFzID0gdHJ1ZVxuICB9XG5cbiAgdmFyIG1heEFnZSA9IHRoaXNbTUFYX0FHRV1cbiAgaWYgKG1heEFnZSkge1xuICAgIGlmIChleHRyYXMpIHtcbiAgICAgIHN0ciArPSAnLCdcbiAgICB9XG4gICAgc3RyICs9ICdcXG4gIG1heEFnZTogJyArIHV0aWwuaW5zcGVjdChtYXhBZ2UsIG9wdHMpXG4gICAgZXh0cmFzID0gdHJ1ZVxuICB9XG5cbiAgdmFyIGxjID0gdGhpc1tMRU5HVEhfQ0FMQ1VMQVRPUl1cbiAgaWYgKGxjICYmIGxjICE9PSBuYWl2ZUxlbmd0aCkge1xuICAgIGlmIChleHRyYXMpIHtcbiAgICAgIHN0ciArPSAnLCdcbiAgICB9XG4gICAgc3RyICs9ICdcXG4gIGxlbmd0aDogJyArIHV0aWwuaW5zcGVjdCh0aGlzW0xFTkdUSF0sIG9wdHMpXG4gICAgZXh0cmFzID0gdHJ1ZVxuICB9XG5cbiAgdmFyIGRpZEZpcnN0ID0gZmFsc2VcbiAgdGhpc1tMUlVfTElTVF0uZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgIGlmIChkaWRGaXJzdCkge1xuICAgICAgc3RyICs9ICcsXFxuICAnXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChleHRyYXMpIHtcbiAgICAgICAgc3RyICs9ICcsXFxuJ1xuICAgICAgfVxuICAgICAgZGlkRmlyc3QgPSB0cnVlXG4gICAgICBzdHIgKz0gJ1xcbiAgJ1xuICAgIH1cbiAgICB2YXIga2V5ID0gdXRpbC5pbnNwZWN0KGl0ZW0ua2V5KS5zcGxpdCgnXFxuJykuam9pbignXFxuICAnKVxuICAgIHZhciB2YWwgPSB7IHZhbHVlOiBpdGVtLnZhbHVlIH1cbiAgICBpZiAoaXRlbS5tYXhBZ2UgIT09IG1heEFnZSkge1xuICAgICAgdmFsLm1heEFnZSA9IGl0ZW0ubWF4QWdlXG4gICAgfVxuICAgIGlmIChsYyAhPT0gbmFpdmVMZW5ndGgpIHtcbiAgICAgIHZhbC5sZW5ndGggPSBpdGVtLmxlbmd0aFxuICAgIH1cbiAgICBpZiAoaXNTdGFsZSh0aGlzLCBpdGVtKSkge1xuICAgICAgdmFsLnN0YWxlID0gdHJ1ZVxuICAgIH1cblxuICAgIHZhbCA9IHV0aWwuaW5zcGVjdCh2YWwsIG9wdHMpLnNwbGl0KCdcXG4nKS5qb2luKCdcXG4gICcpXG4gICAgc3RyICs9IGtleSArICcgPT4gJyArIHZhbFxuICB9KVxuXG4gIGlmIChkaWRGaXJzdCB8fCBleHRyYXMpIHtcbiAgICBzdHIgKz0gJ1xcbidcbiAgfVxuICBzdHIgKz0gJ30nXG5cbiAgcmV0dXJuIHN0clxufVxuXG5MUlVDYWNoZS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUsIG1heEFnZSkge1xuICBtYXhBZ2UgPSBtYXhBZ2UgfHwgdGhpc1tNQVhfQUdFXVxuXG4gIHZhciBub3cgPSBtYXhBZ2UgPyBEYXRlLm5vdygpIDogMFxuICB2YXIgbGVuID0gdGhpc1tMRU5HVEhfQ0FMQ1VMQVRPUl0odmFsdWUsIGtleSlcblxuICBpZiAodGhpc1tDQUNIRV0uaGFzKGtleSkpIHtcbiAgICBpZiAobGVuID4gdGhpc1tNQVhdKSB7XG4gICAgICBkZWwodGhpcywgdGhpc1tDQUNIRV0uZ2V0KGtleSkpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICB2YXIgbm9kZSA9IHRoaXNbQ0FDSEVdLmdldChrZXkpXG4gICAgdmFyIGl0ZW0gPSBub2RlLnZhbHVlXG5cbiAgICAvLyBkaXNwb3NlIG9mIHRoZSBvbGQgb25lIGJlZm9yZSBvdmVyd3JpdGluZ1xuICAgIC8vIHNwbGl0IG91dCBpbnRvIDIgaWZzIGZvciBiZXR0ZXIgY292ZXJhZ2UgdHJhY2tpbmdcbiAgICBpZiAodGhpc1tESVNQT1NFXSkge1xuICAgICAgaWYgKCF0aGlzW05PX0RJU1BPU0VfT05fU0VUXSkge1xuICAgICAgICB0aGlzW0RJU1BPU0VdKGtleSwgaXRlbS52YWx1ZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpdGVtLm5vdyA9IG5vd1xuICAgIGl0ZW0ubWF4QWdlID0gbWF4QWdlXG4gICAgaXRlbS52YWx1ZSA9IHZhbHVlXG4gICAgdGhpc1tMRU5HVEhdICs9IGxlbiAtIGl0ZW0ubGVuZ3RoXG4gICAgaXRlbS5sZW5ndGggPSBsZW5cbiAgICB0aGlzLmdldChrZXkpXG4gICAgdHJpbSh0aGlzKVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICB2YXIgaGl0ID0gbmV3IEVudHJ5KGtleSwgdmFsdWUsIGxlbiwgbm93LCBtYXhBZ2UpXG5cbiAgLy8gb3ZlcnNpemVkIG9iamVjdHMgZmFsbCBvdXQgb2YgY2FjaGUgYXV0b21hdGljYWxseS5cbiAgaWYgKGhpdC5sZW5ndGggPiB0aGlzW01BWF0pIHtcbiAgICBpZiAodGhpc1tESVNQT1NFXSkge1xuICAgICAgdGhpc1tESVNQT1NFXShrZXksIHZhbHVlKVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHRoaXNbTEVOR1RIXSArPSBoaXQubGVuZ3RoXG4gIHRoaXNbTFJVX0xJU1RdLnVuc2hpZnQoaGl0KVxuICB0aGlzW0NBQ0hFXS5zZXQoa2V5LCB0aGlzW0xSVV9MSVNUXS5oZWFkKVxuICB0cmltKHRoaXMpXG4gIHJldHVybiB0cnVlXG59XG5cbkxSVUNhY2hlLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIGlmICghdGhpc1tDQUNIRV0uaGFzKGtleSkpIHJldHVybiBmYWxzZVxuICB2YXIgaGl0ID0gdGhpc1tDQUNIRV0uZ2V0KGtleSkudmFsdWVcbiAgaWYgKGlzU3RhbGUodGhpcywgaGl0KSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIHJldHVybiB0cnVlXG59XG5cbkxSVUNhY2hlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiBnZXQodGhpcywga2V5LCB0cnVlKVxufVxuXG5MUlVDYWNoZS5wcm90b3R5cGUucGVlayA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIGdldCh0aGlzLCBrZXksIGZhbHNlKVxufVxuXG5MUlVDYWNoZS5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbm9kZSA9IHRoaXNbTFJVX0xJU1RdLnRhaWxcbiAgaWYgKCFub2RlKSByZXR1cm4gbnVsbFxuICBkZWwodGhpcywgbm9kZSlcbiAgcmV0dXJuIG5vZGUudmFsdWVcbn1cblxuTFJVQ2FjaGUucHJvdG90eXBlLmRlbCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgZGVsKHRoaXMsIHRoaXNbQ0FDSEVdLmdldChrZXkpKVxufVxuXG5MUlVDYWNoZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgLy8gcmVzZXQgdGhlIGNhY2hlXG4gIHRoaXMucmVzZXQoKVxuXG4gIHZhciBub3cgPSBEYXRlLm5vdygpXG4gIC8vIEEgcHJldmlvdXMgc2VyaWFsaXplZCBjYWNoZSBoYXMgdGhlIG1vc3QgcmVjZW50IGl0ZW1zIGZpcnN0XG4gIGZvciAodmFyIGwgPSBhcnIubGVuZ3RoIC0gMTsgbCA+PSAwOyBsLS0pIHtcbiAgICB2YXIgaGl0ID0gYXJyW2xdXG4gICAgdmFyIGV4cGlyZXNBdCA9IGhpdC5lIHx8IDBcbiAgICBpZiAoZXhwaXJlc0F0ID09PSAwKSB7XG4gICAgICAvLyB0aGUgaXRlbSB3YXMgY3JlYXRlZCB3aXRob3V0IGV4cGlyYXRpb24gaW4gYSBub24gYWdlZCBjYWNoZVxuICAgICAgdGhpcy5zZXQoaGl0LmssIGhpdC52KVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbWF4QWdlID0gZXhwaXJlc0F0IC0gbm93XG4gICAgICAvLyBkb250IGFkZCBhbHJlYWR5IGV4cGlyZWQgaXRlbXNcbiAgICAgIGlmIChtYXhBZ2UgPiAwKSB7XG4gICAgICAgIHRoaXMuc2V0KGhpdC5rLCBoaXQudiwgbWF4QWdlKVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5MUlVDYWNoZS5wcm90b3R5cGUucHJ1bmUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICB0aGlzW0NBQ0hFXS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgZ2V0KHNlbGYsIGtleSwgZmFsc2UpXG4gIH0pXG59XG5cbmZ1bmN0aW9uIGdldCAoc2VsZiwga2V5LCBkb1VzZSkge1xuICB2YXIgbm9kZSA9IHNlbGZbQ0FDSEVdLmdldChrZXkpXG4gIGlmIChub2RlKSB7XG4gICAgdmFyIGhpdCA9IG5vZGUudmFsdWVcbiAgICBpZiAoaXNTdGFsZShzZWxmLCBoaXQpKSB7XG4gICAgICBkZWwoc2VsZiwgbm9kZSlcbiAgICAgIGlmICghc2VsZltBTExPV19TVEFMRV0pIGhpdCA9IHVuZGVmaW5lZFxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZG9Vc2UpIHtcbiAgICAgICAgc2VsZltMUlVfTElTVF0udW5zaGlmdE5vZGUobm9kZSlcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGhpdCkgaGl0ID0gaGl0LnZhbHVlXG4gIH1cbiAgcmV0dXJuIGhpdFxufVxuXG5mdW5jdGlvbiBpc1N0YWxlIChzZWxmLCBoaXQpIHtcbiAgaWYgKCFoaXQgfHwgKCFoaXQubWF4QWdlICYmICFzZWxmW01BWF9BR0VdKSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIHZhciBzdGFsZSA9IGZhbHNlXG4gIHZhciBkaWZmID0gRGF0ZS5ub3coKSAtIGhpdC5ub3dcbiAgaWYgKGhpdC5tYXhBZ2UpIHtcbiAgICBzdGFsZSA9IGRpZmYgPiBoaXQubWF4QWdlXG4gIH0gZWxzZSB7XG4gICAgc3RhbGUgPSBzZWxmW01BWF9BR0VdICYmIChkaWZmID4gc2VsZltNQVhfQUdFXSlcbiAgfVxuICByZXR1cm4gc3RhbGVcbn1cblxuZnVuY3Rpb24gdHJpbSAoc2VsZikge1xuICBpZiAoc2VsZltMRU5HVEhdID4gc2VsZltNQVhdKSB7XG4gICAgZm9yICh2YXIgd2Fsa2VyID0gc2VsZltMUlVfTElTVF0udGFpbDtcbiAgICAgIHNlbGZbTEVOR1RIXSA+IHNlbGZbTUFYXSAmJiB3YWxrZXIgIT09IG51bGw7KSB7XG4gICAgICAvLyBXZSBrbm93IHRoYXQgd2UncmUgYWJvdXQgdG8gZGVsZXRlIHRoaXMgb25lLCBhbmQgYWxzb1xuICAgICAgLy8gd2hhdCB0aGUgbmV4dCBsZWFzdCByZWNlbnRseSB1c2VkIGtleSB3aWxsIGJlLCBzbyBqdXN0XG4gICAgICAvLyBnbyBhaGVhZCBhbmQgc2V0IGl0IG5vdy5cbiAgICAgIHZhciBwcmV2ID0gd2Fsa2VyLnByZXZcbiAgICAgIGRlbChzZWxmLCB3YWxrZXIpXG4gICAgICB3YWxrZXIgPSBwcmV2XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGRlbCAoc2VsZiwgbm9kZSkge1xuICBpZiAobm9kZSkge1xuICAgIHZhciBoaXQgPSBub2RlLnZhbHVlXG4gICAgaWYgKHNlbGZbRElTUE9TRV0pIHtcbiAgICAgIHNlbGZbRElTUE9TRV0oaGl0LmtleSwgaGl0LnZhbHVlKVxuICAgIH1cbiAgICBzZWxmW0xFTkdUSF0gLT0gaGl0Lmxlbmd0aFxuICAgIHNlbGZbQ0FDSEVdLmRlbGV0ZShoaXQua2V5KVxuICAgIHNlbGZbTFJVX0xJU1RdLnJlbW92ZU5vZGUobm9kZSlcbiAgfVxufVxuXG4vLyBjbGFzc3ksIHNpbmNlIFY4IHByZWZlcnMgcHJlZGljdGFibGUgb2JqZWN0cy5cbmZ1bmN0aW9uIEVudHJ5IChrZXksIHZhbHVlLCBsZW5ndGgsIG5vdywgbWF4QWdlKSB7XG4gIHRoaXMua2V5ID0ga2V5XG4gIHRoaXMudmFsdWUgPSB2YWx1ZVxuICB0aGlzLmxlbmd0aCA9IGxlbmd0aFxuICB0aGlzLm5vdyA9IG5vd1xuICB0aGlzLm1heEFnZSA9IG1heEFnZSB8fCAwXG59XG4iLCAibW9kdWxlLmV4cG9ydHMgPSBpc2V4ZVxuaXNleGUuc3luYyA9IHN5bmNcblxudmFyIGZzID0gcmVxdWlyZSgnZnMnKVxuXG5mdW5jdGlvbiBjaGVja1BhdGhFeHQgKHBhdGgsIG9wdGlvbnMpIHtcbiAgdmFyIHBhdGhleHQgPSBvcHRpb25zLnBhdGhFeHQgIT09IHVuZGVmaW5lZCA/XG4gICAgb3B0aW9ucy5wYXRoRXh0IDogcHJvY2Vzcy5lbnYuUEFUSEVYVFxuXG4gIGlmICghcGF0aGV4dCkge1xuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBwYXRoZXh0ID0gcGF0aGV4dC5zcGxpdCgnOycpXG4gIGlmIChwYXRoZXh0LmluZGV4T2YoJycpICE9PSAtMSkge1xuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHAgPSBwYXRoZXh0W2ldLnRvTG93ZXJDYXNlKClcbiAgICBpZiAocCAmJiBwYXRoLnN1YnN0cigtcC5sZW5ndGgpLnRvTG93ZXJDYXNlKCkgPT09IHApIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiBjaGVja1N0YXQgKHN0YXQsIHBhdGgsIG9wdGlvbnMpIHtcbiAgaWYgKCFzdGF0LmlzU3ltYm9saWNMaW5rKCkgJiYgIXN0YXQuaXNGaWxlKCkpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICByZXR1cm4gY2hlY2tQYXRoRXh0KHBhdGgsIG9wdGlvbnMpXG59XG5cbmZ1bmN0aW9uIGlzZXhlIChwYXRoLCBvcHRpb25zLCBjYikge1xuICBmcy5zdGF0KHBhdGgsIGZ1bmN0aW9uIChlciwgc3RhdCkge1xuICAgIGNiKGVyLCBlciA/IGZhbHNlIDogY2hlY2tTdGF0KHN0YXQsIHBhdGgsIG9wdGlvbnMpKVxuICB9KVxufVxuXG5mdW5jdGlvbiBzeW5jIChwYXRoLCBvcHRpb25zKSB7XG4gIHJldHVybiBjaGVja1N0YXQoZnMuc3RhdFN5bmMocGF0aCksIHBhdGgsIG9wdGlvbnMpXG59XG4iLCAibW9kdWxlLmV4cG9ydHMgPSBpc2V4ZVxuaXNleGUuc3luYyA9IHN5bmNcblxudmFyIGZzID0gcmVxdWlyZSgnZnMnKVxuXG5mdW5jdGlvbiBpc2V4ZSAocGF0aCwgb3B0aW9ucywgY2IpIHtcbiAgZnMuc3RhdChwYXRoLCBmdW5jdGlvbiAoZXIsIHN0YXQpIHtcbiAgICBjYihlciwgZXIgPyBmYWxzZSA6IGNoZWNrU3RhdChzdGF0LCBvcHRpb25zKSlcbiAgfSlcbn1cblxuZnVuY3Rpb24gc3luYyAocGF0aCwgb3B0aW9ucykge1xuICByZXR1cm4gY2hlY2tTdGF0KGZzLnN0YXRTeW5jKHBhdGgpLCBvcHRpb25zKVxufVxuXG5mdW5jdGlvbiBjaGVja1N0YXQgKHN0YXQsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHN0YXQuaXNGaWxlKCkgJiYgY2hlY2tNb2RlKHN0YXQsIG9wdGlvbnMpXG59XG5cbmZ1bmN0aW9uIGNoZWNrTW9kZSAoc3RhdCwgb3B0aW9ucykge1xuICB2YXIgbW9kID0gc3RhdC5tb2RlXG4gIHZhciB1aWQgPSBzdGF0LnVpZFxuICB2YXIgZ2lkID0gc3RhdC5naWRcblxuICB2YXIgbXlVaWQgPSBvcHRpb25zLnVpZCAhPT0gdW5kZWZpbmVkID9cbiAgICBvcHRpb25zLnVpZCA6IHByb2Nlc3MuZ2V0dWlkICYmIHByb2Nlc3MuZ2V0dWlkKClcbiAgdmFyIG15R2lkID0gb3B0aW9ucy5naWQgIT09IHVuZGVmaW5lZCA/XG4gICAgb3B0aW9ucy5naWQgOiBwcm9jZXNzLmdldGdpZCAmJiBwcm9jZXNzLmdldGdpZCgpXG5cbiAgdmFyIHUgPSBwYXJzZUludCgnMTAwJywgOClcbiAgdmFyIGcgPSBwYXJzZUludCgnMDEwJywgOClcbiAgdmFyIG8gPSBwYXJzZUludCgnMDAxJywgOClcbiAgdmFyIHVnID0gdSB8IGdcblxuICB2YXIgcmV0ID0gKG1vZCAmIG8pIHx8XG4gICAgKG1vZCAmIGcpICYmIGdpZCA9PT0gbXlHaWQgfHxcbiAgICAobW9kICYgdSkgJiYgdWlkID09PSBteVVpZCB8fFxuICAgIChtb2QgJiB1ZykgJiYgbXlVaWQgPT09IDBcblxuICByZXR1cm4gcmV0XG59XG4iLCAidmFyIGZzID0gcmVxdWlyZSgnZnMnKVxudmFyIGNvcmVcbmlmIChwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInIHx8IGdsb2JhbC5URVNUSU5HX1dJTkRPV1MpIHtcbiAgY29yZSA9IHJlcXVpcmUoJy4vd2luZG93cy5qcycpXG59IGVsc2Uge1xuICBjb3JlID0gcmVxdWlyZSgnLi9tb2RlLmpzJylcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc2V4ZVxuaXNleGUuc3luYyA9IHN5bmNcblxuZnVuY3Rpb24gaXNleGUgKHBhdGgsIG9wdGlvbnMsIGNiKSB7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gb3B0aW9uc1xuICAgIG9wdGlvbnMgPSB7fVxuICB9XG5cbiAgaWYgKCFjYikge1xuICAgIGlmICh0eXBlb2YgUHJvbWlzZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignY2FsbGJhY2sgbm90IHByb3ZpZGVkJylcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgaXNleGUocGF0aCwgb3B0aW9ucyB8fCB7fSwgZnVuY3Rpb24gKGVyLCBpcykge1xuICAgICAgICBpZiAoZXIpIHtcbiAgICAgICAgICByZWplY3QoZXIpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZShpcylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgY29yZShwYXRoLCBvcHRpb25zIHx8IHt9LCBmdW5jdGlvbiAoZXIsIGlzKSB7XG4gICAgLy8gaWdub3JlIEVBQ0NFUyBiZWNhdXNlIHRoYXQganVzdCBtZWFucyB3ZSBhcmVuJ3QgYWxsb3dlZCB0byBydW4gaXRcbiAgICBpZiAoZXIpIHtcbiAgICAgIGlmIChlci5jb2RlID09PSAnRUFDQ0VTJyB8fCBvcHRpb25zICYmIG9wdGlvbnMuaWdub3JlRXJyb3JzKSB7XG4gICAgICAgIGVyID0gbnVsbFxuICAgICAgICBpcyA9IGZhbHNlXG4gICAgICB9XG4gICAgfVxuICAgIGNiKGVyLCBpcylcbiAgfSlcbn1cblxuZnVuY3Rpb24gc3luYyAocGF0aCwgb3B0aW9ucykge1xuICAvLyBteSBraW5nZG9tIGZvciBhIGZpbHRlcmVkIGNhdGNoXG4gIHRyeSB7XG4gICAgcmV0dXJuIGNvcmUuc3luYyhwYXRoLCBvcHRpb25zIHx8IHt9KVxuICB9IGNhdGNoIChlcikge1xuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaWdub3JlRXJyb3JzIHx8IGVyLmNvZGUgPT09ICdFQUNDRVMnKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgZXJcbiAgICB9XG4gIH1cbn1cbiIsICJtb2R1bGUuZXhwb3J0cyA9IHdoaWNoXG53aGljaC5zeW5jID0gd2hpY2hTeW5jXG5cbnZhciBpc1dpbmRvd3MgPSBwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInIHx8XG4gICAgcHJvY2Vzcy5lbnYuT1NUWVBFID09PSAnY3lnd2luJyB8fFxuICAgIHByb2Nlc3MuZW52Lk9TVFlQRSA9PT0gJ21zeXMnXG5cbnZhciBwYXRoID0gcmVxdWlyZSgncGF0aCcpXG52YXIgQ09MT04gPSBpc1dpbmRvd3MgPyAnOycgOiAnOidcbnZhciBpc2V4ZSA9IHJlcXVpcmUoJ2lzZXhlJylcblxuZnVuY3Rpb24gZ2V0Tm90Rm91bmRFcnJvciAoY21kKSB7XG4gIHZhciBlciA9IG5ldyBFcnJvcignbm90IGZvdW5kOiAnICsgY21kKVxuICBlci5jb2RlID0gJ0VOT0VOVCdcblxuICByZXR1cm4gZXJcbn1cblxuZnVuY3Rpb24gZ2V0UGF0aEluZm8gKGNtZCwgb3B0KSB7XG4gIHZhciBjb2xvbiA9IG9wdC5jb2xvbiB8fCBDT0xPTlxuICB2YXIgcGF0aEVudiA9IG9wdC5wYXRoIHx8IHByb2Nlc3MuZW52LlBBVEggfHwgJydcbiAgdmFyIHBhdGhFeHQgPSBbJyddXG5cbiAgcGF0aEVudiA9IHBhdGhFbnYuc3BsaXQoY29sb24pXG5cbiAgdmFyIHBhdGhFeHRFeGUgPSAnJ1xuICBpZiAoaXNXaW5kb3dzKSB7XG4gICAgcGF0aEVudi51bnNoaWZ0KHByb2Nlc3MuY3dkKCkpXG4gICAgcGF0aEV4dEV4ZSA9IChvcHQucGF0aEV4dCB8fCBwcm9jZXNzLmVudi5QQVRIRVhUIHx8ICcuRVhFOy5DTUQ7LkJBVDsuQ09NJylcbiAgICBwYXRoRXh0ID0gcGF0aEV4dEV4ZS5zcGxpdChjb2xvbilcblxuXG4gICAgLy8gQWx3YXlzIHRlc3QgdGhlIGNtZCBpdHNlbGYgZmlyc3QuICBpc2V4ZSB3aWxsIGNoZWNrIHRvIG1ha2Ugc3VyZVxuICAgIC8vIGl0J3MgZm91bmQgaW4gdGhlIHBhdGhFeHQgc2V0LlxuICAgIGlmIChjbWQuaW5kZXhPZignLicpICE9PSAtMSAmJiBwYXRoRXh0WzBdICE9PSAnJylcbiAgICAgIHBhdGhFeHQudW5zaGlmdCgnJylcbiAgfVxuXG4gIC8vIElmIGl0IGhhcyBhIHNsYXNoLCB0aGVuIHdlIGRvbid0IGJvdGhlciBzZWFyY2hpbmcgdGhlIHBhdGhlbnYuXG4gIC8vIGp1c3QgY2hlY2sgdGhlIGZpbGUgaXRzZWxmLCBhbmQgdGhhdCdzIGl0LlxuICBpZiAoY21kLm1hdGNoKC9cXC8vKSB8fCBpc1dpbmRvd3MgJiYgY21kLm1hdGNoKC9cXFxcLykpXG4gICAgcGF0aEVudiA9IFsnJ11cblxuICByZXR1cm4ge1xuICAgIGVudjogcGF0aEVudixcbiAgICBleHQ6IHBhdGhFeHQsXG4gICAgZXh0RXhlOiBwYXRoRXh0RXhlXG4gIH1cbn1cblxuZnVuY3Rpb24gd2hpY2ggKGNtZCwgb3B0LCBjYikge1xuICBpZiAodHlwZW9mIG9wdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gb3B0XG4gICAgb3B0ID0ge31cbiAgfVxuXG4gIHZhciBpbmZvID0gZ2V0UGF0aEluZm8oY21kLCBvcHQpXG4gIHZhciBwYXRoRW52ID0gaW5mby5lbnZcbiAgdmFyIHBhdGhFeHQgPSBpbmZvLmV4dFxuICB2YXIgcGF0aEV4dEV4ZSA9IGluZm8uZXh0RXhlXG4gIHZhciBmb3VuZCA9IFtdXG5cbiAgOyhmdW5jdGlvbiBGIChpLCBsKSB7XG4gICAgaWYgKGkgPT09IGwpIHtcbiAgICAgIGlmIChvcHQuYWxsICYmIGZvdW5kLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGNiKG51bGwsIGZvdW5kKVxuICAgICAgZWxzZVxuICAgICAgICByZXR1cm4gY2IoZ2V0Tm90Rm91bmRFcnJvcihjbWQpKVxuICAgIH1cblxuICAgIHZhciBwYXRoUGFydCA9IHBhdGhFbnZbaV1cbiAgICBpZiAocGF0aFBhcnQuY2hhckF0KDApID09PSAnXCInICYmIHBhdGhQYXJ0LnNsaWNlKC0xKSA9PT0gJ1wiJylcbiAgICAgIHBhdGhQYXJ0ID0gcGF0aFBhcnQuc2xpY2UoMSwgLTEpXG5cbiAgICB2YXIgcCA9IHBhdGguam9pbihwYXRoUGFydCwgY21kKVxuICAgIGlmICghcGF0aFBhcnQgJiYgKC9eXFwuW1xcXFxcXC9dLykudGVzdChjbWQpKSB7XG4gICAgICBwID0gY21kLnNsaWNlKDAsIDIpICsgcFxuICAgIH1cbiAgICA7KGZ1bmN0aW9uIEUgKGlpLCBsbCkge1xuICAgICAgaWYgKGlpID09PSBsbCkgcmV0dXJuIEYoaSArIDEsIGwpXG4gICAgICB2YXIgZXh0ID0gcGF0aEV4dFtpaV1cbiAgICAgIGlzZXhlKHAgKyBleHQsIHsgcGF0aEV4dDogcGF0aEV4dEV4ZSB9LCBmdW5jdGlvbiAoZXIsIGlzKSB7XG4gICAgICAgIGlmICghZXIgJiYgaXMpIHtcbiAgICAgICAgICBpZiAob3B0LmFsbClcbiAgICAgICAgICAgIGZvdW5kLnB1c2gocCArIGV4dClcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gY2IobnVsbCwgcCArIGV4dClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRShpaSArIDEsIGxsKVxuICAgICAgfSlcbiAgICB9KSgwLCBwYXRoRXh0Lmxlbmd0aClcbiAgfSkoMCwgcGF0aEVudi5sZW5ndGgpXG59XG5cbmZ1bmN0aW9uIHdoaWNoU3luYyAoY21kLCBvcHQpIHtcbiAgb3B0ID0gb3B0IHx8IHt9XG5cbiAgdmFyIGluZm8gPSBnZXRQYXRoSW5mbyhjbWQsIG9wdClcbiAgdmFyIHBhdGhFbnYgPSBpbmZvLmVudlxuICB2YXIgcGF0aEV4dCA9IGluZm8uZXh0XG4gIHZhciBwYXRoRXh0RXhlID0gaW5mby5leHRFeGVcbiAgdmFyIGZvdW5kID0gW11cblxuICBmb3IgKHZhciBpID0gMCwgbCA9IHBhdGhFbnYubGVuZ3RoOyBpIDwgbDsgaSArKykge1xuICAgIHZhciBwYXRoUGFydCA9IHBhdGhFbnZbaV1cbiAgICBpZiAocGF0aFBhcnQuY2hhckF0KDApID09PSAnXCInICYmIHBhdGhQYXJ0LnNsaWNlKC0xKSA9PT0gJ1wiJylcbiAgICAgIHBhdGhQYXJ0ID0gcGF0aFBhcnQuc2xpY2UoMSwgLTEpXG5cbiAgICB2YXIgcCA9IHBhdGguam9pbihwYXRoUGFydCwgY21kKVxuICAgIGlmICghcGF0aFBhcnQgJiYgL15cXC5bXFxcXFxcL10vLnRlc3QoY21kKSkge1xuICAgICAgcCA9IGNtZC5zbGljZSgwLCAyKSArIHBcbiAgICB9XG4gICAgZm9yICh2YXIgaiA9IDAsIGxsID0gcGF0aEV4dC5sZW5ndGg7IGogPCBsbDsgaiArKykge1xuICAgICAgdmFyIGN1ciA9IHAgKyBwYXRoRXh0W2pdXG4gICAgICB2YXIgaXNcbiAgICAgIHRyeSB7XG4gICAgICAgIGlzID0gaXNleGUuc3luYyhjdXIsIHsgcGF0aEV4dDogcGF0aEV4dEV4ZSB9KVxuICAgICAgICBpZiAoaXMpIHtcbiAgICAgICAgICBpZiAob3B0LmFsbClcbiAgICAgICAgICAgIGZvdW5kLnB1c2goY3VyKVxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiBjdXJcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXgpIHt9XG4gICAgfVxuICB9XG5cbiAgaWYgKG9wdC5hbGwgJiYgZm91bmQubGVuZ3RoKVxuICAgIHJldHVybiBmb3VuZFxuXG4gIGlmIChvcHQubm90aHJvdylcbiAgICByZXR1cm4gbnVsbFxuXG4gIHRocm93IGdldE5vdEZvdW5kRXJyb3IoY21kKVxufVxuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG52YXIgd2hpY2ggPSByZXF1aXJlKCd3aGljaCcpO1xudmFyIExSVSA9IHJlcXVpcmUoJ2xydS1jYWNoZScpO1xuXG52YXIgY29tbWFuZENhY2hlID0gbmV3IExSVSh7IG1heDogNTAsIG1heEFnZTogMzAgKiAxMDAwIH0pOyAgLy8gQ2FjaGUganVzdCBmb3IgMzBzZWNcblxuZnVuY3Rpb24gcmVzb2x2ZUNvbW1hbmQoY29tbWFuZCwgbm9FeHRlbnNpb24pIHtcbiAgICB2YXIgcmVzb2x2ZWQ7XG5cbiAgICBub0V4dGVuc2lvbiA9ICEhbm9FeHRlbnNpb247XG4gICAgcmVzb2x2ZWQgPSBjb21tYW5kQ2FjaGUuZ2V0KGNvbW1hbmQgKyAnIScgKyBub0V4dGVuc2lvbik7XG5cbiAgICAvLyBDaGVjayBpZiBpdHMgcmVzb2x2ZWQgaW4gdGhlIGNhY2hlXG4gICAgaWYgKGNvbW1hbmRDYWNoZS5oYXMoY29tbWFuZCkpIHtcbiAgICAgICAgcmV0dXJuIGNvbW1hbmRDYWNoZS5nZXQoY29tbWFuZCk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgcmVzb2x2ZWQgPSAhbm9FeHRlbnNpb24gP1xuICAgICAgICAgICAgd2hpY2guc3luYyhjb21tYW5kKSA6XG4gICAgICAgICAgICB3aGljaC5zeW5jKGNvbW1hbmQsIHsgcGF0aEV4dDogcGF0aC5kZWxpbWl0ZXIgKyAocHJvY2Vzcy5lbnYuUEFUSEVYVCB8fCAnJykgfSk7XG4gICAgfSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG5cbiAgICBjb21tYW5kQ2FjaGUuc2V0KGNvbW1hbmQgKyAnIScgKyBub0V4dGVuc2lvbiwgcmVzb2x2ZWQpO1xuXG4gICAgcmV0dXJuIHJlc29sdmVkO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlc29sdmVDb21tYW5kO1xuIiwgIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGlmIChwcm9jZXNzLnBsYXRmb3JtICE9PSAnd2luMzInKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIG5vZGVWZXIgPSBwcm9jZXNzLnZlcnNpb24uc3Vic3RyKDEpLnNwbGl0KCcuJykubWFwKGZ1bmN0aW9uIChudW0pIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KG51bSwgMTApO1xuICAgIH0pO1xuICAgIHJldHVybiAobm9kZVZlclswXSA9PT0gMCAmJiBub2RlVmVyWzFdIDwgMTIpO1xufSkoKTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG52YXIgTFJVID0gcmVxdWlyZSgnbHJ1LWNhY2hlJyk7XG52YXIgcmVzb2x2ZUNvbW1hbmQgPSByZXF1aXJlKCcuL3Jlc29sdmVDb21tYW5kJyk7XG52YXIgaGFzQnJva2VuU3Bhd24gPSByZXF1aXJlKCcuL2hhc0Jyb2tlblNwYXduJyk7XG5cbnZhciBpc1dpbiA9IHByb2Nlc3MucGxhdGZvcm0gPT09ICd3aW4zMic7XG52YXIgc2hlYmFuZ0NhY2hlID0gbmV3IExSVSh7IG1heDogNTAsIG1heEFnZTogMzAgKiAxMDAwIH0pOyAgLy8gQ2FjaGUganVzdCBmb3IgMzBzZWNcblxuZnVuY3Rpb24gcmVhZFNoZWJhbmcoY29tbWFuZCkge1xuICAgIHZhciBidWZmZXI7XG4gICAgdmFyIGZkO1xuICAgIHZhciBtYXRjaDtcbiAgICB2YXIgc2hlYmFuZztcblxuICAgIC8vIENoZWNrIGlmIGl0IGlzIGluIHRoZSBjYWNoZSBmaXJzdFxuICAgIGlmIChzaGViYW5nQ2FjaGUuaGFzKGNvbW1hbmQpKSB7XG4gICAgICAgIHJldHVybiBzaGViYW5nQ2FjaGUuZ2V0KGNvbW1hbmQpO1xuICAgIH1cblxuICAgIC8vIFJlYWQgdGhlIGZpcnN0IDE1MCBieXRlcyBmcm9tIHRoZSBmaWxlXG4gICAgYnVmZmVyID0gbmV3IEJ1ZmZlcigxNTApO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgZmQgPSBmcy5vcGVuU3luYyhjb21tYW5kLCAncicpO1xuICAgICAgICBmcy5yZWFkU3luYyhmZCwgYnVmZmVyLCAwLCAxNTAsIDApO1xuICAgICAgICBmcy5jbG9zZVN5bmMoZmQpO1xuICAgIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuXG4gICAgLy8gQ2hlY2sgaWYgaXQgaXMgYSBzaGViYW5nXG4gICAgbWF0Y2ggPSBidWZmZXIudG9TdHJpbmcoKS50cmltKCkubWF0Y2goLyMhKC4rKS9pKTtcblxuICAgIGlmIChtYXRjaCkge1xuICAgICAgICBzaGViYW5nID0gbWF0Y2hbMV0ucmVwbGFjZSgvXFwvdXNyXFwvYmluXFwvZW52XFxzKy9pLCAnJyk7ICAgLy8gUmVtb3ZlIC91c3IvYmluL2VudlxuICAgIH1cblxuICAgIC8vIFN0b3JlIHRoZSBzaGViYW5nIGluIHRoZSBjYWNoZVxuICAgIHNoZWJhbmdDYWNoZS5zZXQoY29tbWFuZCwgc2hlYmFuZyk7XG5cbiAgICByZXR1cm4gc2hlYmFuZztcbn1cblxuZnVuY3Rpb24gZXNjYXBlQXJnKGFyZywgcXVvdGUpIHtcbiAgICAvLyBDb252ZXJ0IHRvIHN0cmluZ1xuICAgIGFyZyA9ICcnICsgYXJnO1xuXG4gICAgLy8gSWYgd2UgYXJlIG5vdCBnb2luZyB0byBxdW90ZSB0aGUgYXJndW1lbnQsXG4gICAgLy8gZXNjYXBlIHNoZWxsIG1ldGFjaGFyYWN0ZXJzLCBpbmNsdWRpbmcgZG91YmxlIGFuZCBzaW5nbGUgcXVvdGVzOlxuICAgIGlmICghcXVvdGUpIHtcbiAgICAgICAgYXJnID0gYXJnLnJlcGxhY2UoLyhbXFwoXFwpJSFcXF48PiZ8OyxcIidcXHNdKS9nLCAnXiQxJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU2VxdWVuY2Ugb2YgYmFja3NsYXNoZXMgZm9sbG93ZWQgYnkgYSBkb3VibGUgcXVvdGU6XG4gICAgICAgIC8vIGRvdWJsZSB1cCBhbGwgdGhlIGJhY2tzbGFzaGVzIGFuZCBlc2NhcGUgdGhlIGRvdWJsZSBxdW90ZVxuICAgICAgICBhcmcgPSBhcmcucmVwbGFjZSgvKFxcXFwqKVwiL2csICckMSQxXFxcXFwiJyk7XG5cbiAgICAgICAgLy8gU2VxdWVuY2Ugb2YgYmFja3NsYXNoZXMgZm9sbG93ZWQgYnkgdGhlIGVuZCBvZiB0aGUgc3RyaW5nXG4gICAgICAgIC8vICh3aGljaCB3aWxsIGJlY29tZSBhIGRvdWJsZSBxdW90ZSBsYXRlcik6XG4gICAgICAgIC8vIGRvdWJsZSB1cCBhbGwgdGhlIGJhY2tzbGFzaGVzXG4gICAgICAgIGFyZyA9IGFyZy5yZXBsYWNlKC8oXFxcXCopJC8sICckMSQxJyk7XG5cbiAgICAgICAgLy8gQWxsIG90aGVyIGJhY2tzbGFzaGVzIG9jY3VyIGxpdGVyYWxseVxuXG4gICAgICAgIC8vIFF1b3RlIHRoZSB3aG9sZSB0aGluZzpcbiAgICAgICAgYXJnID0gJ1wiJyArIGFyZyArICdcIic7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFyZztcbn1cblxuZnVuY3Rpb24gZXNjYXBlQ29tbWFuZChjb21tYW5kKSB7XG4gICAgLy8gRG8gbm90IGVzY2FwZSBpZiB0aGlzIGNvbW1hbmQgaXMgbm90IGRhbmdlcm91cy4uXG4gICAgLy8gV2UgZG8gdGhpcyBzbyB0aGF0IGNvbW1hbmRzIGxpa2UgXCJlY2hvXCIgb3IgXCJpZmNvbmZpZ1wiIHdvcmtcbiAgICAvLyBRdW90aW5nIHRoZW0sIHdpbGwgbWFrZSB0aGVtIHVuYWNjZXNzaWJsZVxuICAgIHJldHVybiAvXlthLXowLTlfLV0rJC9pLnRlc3QoY29tbWFuZCkgPyBjb21tYW5kIDogZXNjYXBlQXJnKGNvbW1hbmQsIHRydWUpO1xufVxuXG5mdW5jdGlvbiByZXF1aXJlc1NoZWxsKGNvbW1hbmQpIHtcbiAgICByZXR1cm4gIS9cXC4oPzpjb218ZXhlKSQvaS50ZXN0KGNvbW1hbmQpO1xufVxuXG5mdW5jdGlvbiBwYXJzZShjb21tYW5kLCBhcmdzLCBvcHRpb25zKSB7XG4gICAgdmFyIHNoZWJhbmc7XG4gICAgdmFyIGFwcGx5UXVvdGVzO1xuICAgIHZhciBmaWxlO1xuICAgIHZhciBvcmlnaW5hbDtcbiAgICB2YXIgc2hlbGw7XG5cbiAgICAvLyBOb3JtYWxpemUgYXJndW1lbnRzLCBzaW1pbGFyIHRvIG5vZGVqc1xuICAgIGlmIChhcmdzICYmICFBcnJheS5pc0FycmF5KGFyZ3MpKSB7XG4gICAgICAgIG9wdGlvbnMgPSBhcmdzO1xuICAgICAgICBhcmdzID0gbnVsbDtcbiAgICB9XG5cbiAgICBhcmdzID0gYXJncyA/IGFyZ3Muc2xpY2UoMCkgOiBbXTsgIC8vIENsb25lIGFycmF5IHRvIGF2b2lkIGNoYW5naW5nIHRoZSBvcmlnaW5hbFxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9yaWdpbmFsID0gY29tbWFuZDtcblxuICAgIGlmIChpc1dpbikge1xuICAgICAgICAvLyBEZXRlY3QgJiBhZGQgc3VwcG9ydCBmb3Igc2hlYmFuZ3NcbiAgICAgICAgZmlsZSA9IHJlc29sdmVDb21tYW5kKGNvbW1hbmQpO1xuICAgICAgICBmaWxlID0gZmlsZSB8fCByZXNvbHZlQ29tbWFuZChjb21tYW5kLCB0cnVlKTtcbiAgICAgICAgc2hlYmFuZyA9IGZpbGUgJiYgcmVhZFNoZWJhbmcoZmlsZSk7XG4gICAgICAgIHNoZWxsID0gb3B0aW9ucy5zaGVsbCB8fCBoYXNCcm9rZW5TcGF3bjtcblxuICAgICAgICBpZiAoc2hlYmFuZykge1xuICAgICAgICAgICAgYXJncy51bnNoaWZ0KGZpbGUpO1xuICAgICAgICAgICAgY29tbWFuZCA9IHNoZWJhbmc7XG4gICAgICAgICAgICBzaGVsbCA9IHNoZWxsIHx8IHJlcXVpcmVzU2hlbGwocmVzb2x2ZUNvbW1hbmQoc2hlYmFuZykgfHwgcmVzb2x2ZUNvbW1hbmQoc2hlYmFuZywgdHJ1ZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2hlbGwgPSBzaGVsbCB8fCByZXF1aXJlc1NoZWxsKGZpbGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNoZWxsKSB7XG4gICAgICAgICAgICAvLyBFc2NhcGUgY29tbWFuZCAmIGFyZ3VtZW50c1xuICAgICAgICAgICAgYXBwbHlRdW90ZXMgPSAoY29tbWFuZCAhPT0gJ2VjaG8nKTsgIC8vIERvIG5vdCBxdW90ZSBhcmd1bWVudHMgZm9yIHRoZSBzcGVjaWFsIFwiZWNob1wiIGNvbW1hbmRcbiAgICAgICAgICAgIGNvbW1hbmQgPSBlc2NhcGVDb21tYW5kKGNvbW1hbmQpO1xuICAgICAgICAgICAgYXJncyA9IGFyZ3MubWFwKGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXNjYXBlQXJnKGFyZywgYXBwbHlRdW90ZXMpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFVzZSBjbWQuZXhlXG4gICAgICAgICAgICBhcmdzID0gWycvcycsICcvYycsICdcIicgKyBjb21tYW5kICsgKGFyZ3MubGVuZ3RoID8gJyAnICsgYXJncy5qb2luKCcgJykgOiAnJykgKyAnXCInXTtcbiAgICAgICAgICAgIGNvbW1hbmQgPSBwcm9jZXNzLmVudi5jb21zcGVjIHx8ICdjbWQuZXhlJztcblxuICAgICAgICAgICAgLy8gVGVsbCBub2RlJ3Mgc3Bhd24gdGhhdCB0aGUgYXJndW1lbnRzIGFyZSBhbHJlYWR5IGVzY2FwZWRcbiAgICAgICAgICAgIG9wdGlvbnMud2luZG93c1ZlcmJhdGltQXJndW1lbnRzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGNvbW1hbmQ6IGNvbW1hbmQsXG4gICAgICAgIGFyZ3M6IGFyZ3MsXG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgIGZpbGU6IGZpbGUsXG4gICAgICAgIG9yaWdpbmFsOiBvcmlnaW5hbCxcbiAgICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcnNlO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGlzV2luID0gcHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ3dpbjMyJztcbnZhciByZXNvbHZlQ29tbWFuZCA9IHJlcXVpcmUoJy4vcmVzb2x2ZUNvbW1hbmQnKTtcblxudmFyIGlzTm9kZTEwID0gcHJvY2Vzcy52ZXJzaW9uLmluZGV4T2YoJ3YwLjEwLicpID09PSAwO1xuXG5mdW5jdGlvbiBub3RGb3VuZEVycm9yKGNvbW1hbmQsIHN5c2NhbGwpIHtcbiAgICB2YXIgZXJyO1xuXG4gICAgZXJyID0gbmV3IEVycm9yKHN5c2NhbGwgKyAnICcgKyBjb21tYW5kICsgJyBFTk9FTlQnKTtcbiAgICBlcnIuY29kZSA9IGVyci5lcnJubyA9ICdFTk9FTlQnO1xuICAgIGVyci5zeXNjYWxsID0gc3lzY2FsbCArICcgJyArIGNvbW1hbmQ7XG5cbiAgICByZXR1cm4gZXJyO1xufVxuXG5mdW5jdGlvbiBob29rQ2hpbGRQcm9jZXNzKGNwLCBwYXJzZWQpIHtcbiAgICB2YXIgb3JpZ2luYWxFbWl0O1xuXG4gICAgaWYgKCFpc1dpbikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgb3JpZ2luYWxFbWl0ID0gY3AuZW1pdDtcbiAgICBjcC5lbWl0ID0gZnVuY3Rpb24gKG5hbWUsIGFyZzEpIHtcbiAgICAgICAgdmFyIGVycjtcblxuICAgICAgICAvLyBJZiBlbWl0dGluZyBcImV4aXRcIiBldmVudCBhbmQgZXhpdCBjb2RlIGlzIDEsIHdlIG5lZWQgdG8gY2hlY2sgaWZcbiAgICAgICAgLy8gdGhlIGNvbW1hbmQgZXhpc3RzIGFuZCBlbWl0IGFuIFwiZXJyb3JcIiBpbnN0ZWFkXG4gICAgICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL0luZGlnb1VuaXRlZC9ub2RlLWNyb3NzLXNwYXduL2lzc3Vlcy8xNlxuICAgICAgICBpZiAobmFtZSA9PT0gJ2V4aXQnKSB7XG4gICAgICAgICAgICBlcnIgPSB2ZXJpZnlFTk9FTlQoYXJnMSwgcGFyc2VkLCAnc3Bhd24nKTtcblxuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbEVtaXQuY2FsbChjcCwgJ2Vycm9yJywgZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvcmlnaW5hbEVtaXQuYXBwbHkoY3AsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gdmVyaWZ5RU5PRU5UKHN0YXR1cywgcGFyc2VkKSB7XG4gICAgaWYgKGlzV2luICYmIHN0YXR1cyA9PT0gMSAmJiAhcGFyc2VkLmZpbGUpIHtcbiAgICAgICAgcmV0dXJuIG5vdEZvdW5kRXJyb3IocGFyc2VkLm9yaWdpbmFsLCAnc3Bhd24nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gdmVyaWZ5RU5PRU5UU3luYyhzdGF0dXMsIHBhcnNlZCkge1xuICAgIGlmIChpc1dpbiAmJiBzdGF0dXMgPT09IDEgJiYgIXBhcnNlZC5maWxlKSB7XG4gICAgICAgIHJldHVybiBub3RGb3VuZEVycm9yKHBhcnNlZC5vcmlnaW5hbCwgJ3NwYXduU3luYycpO1xuICAgIH1cblxuICAgIC8vIElmIHdlIGFyZSBpbiBub2RlIDEwLCB0aGVuIHdlIGFyZSB1c2luZyBzcGF3bi1zeW5jOyBpZiBpdCBleGl0ZWRcbiAgICAvLyB3aXRoIC0xIGl0IHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIGNvbW1hbmQgZG9lcyBub3QgZXhpc3RcbiAgICBpZiAoaXNOb2RlMTAgJiYgc3RhdHVzID09PSAtMSkge1xuICAgICAgICBwYXJzZWQuZmlsZSA9IGlzV2luID8gcGFyc2VkLmZpbGUgOiByZXNvbHZlQ29tbWFuZChwYXJzZWQub3JpZ2luYWwpO1xuXG4gICAgICAgIGlmICghcGFyc2VkLmZpbGUpIHtcbiAgICAgICAgICAgIHJldHVybiBub3RGb3VuZEVycm9yKHBhcnNlZC5vcmlnaW5hbCwgJ3NwYXduU3luYycpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG59XG5cbm1vZHVsZS5leHBvcnRzLmhvb2tDaGlsZFByb2Nlc3MgPSBob29rQ2hpbGRQcm9jZXNzO1xubW9kdWxlLmV4cG9ydHMudmVyaWZ5RU5PRU5UID0gdmVyaWZ5RU5PRU5UO1xubW9kdWxlLmV4cG9ydHMudmVyaWZ5RU5PRU5UU3luYyA9IHZlcmlmeUVOT0VOVFN5bmM7XG5tb2R1bGUuZXhwb3J0cy5ub3RGb3VuZEVycm9yID0gbm90Rm91bmRFcnJvcjtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBjcCA9IHJlcXVpcmUoJ2NoaWxkX3Byb2Nlc3MnKTtcbnZhciBwYXJzZSA9IHJlcXVpcmUoJy4vbGliL3BhcnNlJyk7XG52YXIgZW5vZW50ID0gcmVxdWlyZSgnLi9saWIvZW5vZW50Jyk7XG5cbnZhciBjcFNwYXduU3luYyA9IGNwLnNwYXduU3luYztcblxuZnVuY3Rpb24gc3Bhd24oY29tbWFuZCwgYXJncywgb3B0aW9ucykge1xuICAgIHZhciBwYXJzZWQ7XG4gICAgdmFyIHNwYXduZWQ7XG5cbiAgICAvLyBQYXJzZSB0aGUgYXJndW1lbnRzXG4gICAgcGFyc2VkID0gcGFyc2UoY29tbWFuZCwgYXJncywgb3B0aW9ucyk7XG5cbiAgICAvLyBTcGF3biB0aGUgY2hpbGQgcHJvY2Vzc1xuICAgIHNwYXduZWQgPSBjcC5zcGF3bihwYXJzZWQuY29tbWFuZCwgcGFyc2VkLmFyZ3MsIHBhcnNlZC5vcHRpb25zKTtcblxuICAgIC8vIEhvb2sgaW50byBjaGlsZCBwcm9jZXNzIFwiZXhpdFwiIGV2ZW50IHRvIGVtaXQgYW4gZXJyb3IgaWYgdGhlIGNvbW1hbmRcbiAgICAvLyBkb2VzIG5vdCBleGlzdHMsIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL0luZGlnb1VuaXRlZC9ub2RlLWNyb3NzLXNwYXduL2lzc3Vlcy8xNlxuICAgIGVub2VudC5ob29rQ2hpbGRQcm9jZXNzKHNwYXduZWQsIHBhcnNlZCk7XG5cbiAgICByZXR1cm4gc3Bhd25lZDtcbn1cblxuZnVuY3Rpb24gc3Bhd25TeW5jKGNvbW1hbmQsIGFyZ3MsIG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyc2VkO1xuICAgIHZhciByZXN1bHQ7XG5cbiAgICBpZiAoIWNwU3Bhd25TeW5jKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjcFNwYXduU3luYyA9IHJlcXVpcmUoJ3NwYXduLXN5bmMnKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZ2xvYmFsLXJlcXVpcmVcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAnSW4gb3JkZXIgdG8gdXNlIHNwYXduU3luYyBvbiBub2RlIDAuMTAgb3Igb2xkZXIsIHlvdSBtdXN0ICcgK1xuICAgICAgICAgICAgICAgICdpbnN0YWxsIHNwYXduLXN5bmM6XFxuXFxuJyArXG4gICAgICAgICAgICAgICAgJyAgbnBtIGluc3RhbGwgc3Bhd24tc3luYyAtLXNhdmUnXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gUGFyc2UgdGhlIGFyZ3VtZW50c1xuICAgIHBhcnNlZCA9IHBhcnNlKGNvbW1hbmQsIGFyZ3MsIG9wdGlvbnMpO1xuXG4gICAgLy8gU3Bhd24gdGhlIGNoaWxkIHByb2Nlc3NcbiAgICByZXN1bHQgPSBjcFNwYXduU3luYyhwYXJzZWQuY29tbWFuZCwgcGFyc2VkLmFyZ3MsIHBhcnNlZC5vcHRpb25zKTtcblxuICAgIC8vIEFuYWx5emUgaWYgdGhlIGNvbW1hbmQgZG9lcyBub3QgZXhpc3RzLCBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9JbmRpZ29Vbml0ZWQvbm9kZS1jcm9zcy1zcGF3bi9pc3N1ZXMvMTZcbiAgICByZXN1bHQuZXJyb3IgPSByZXN1bHQuZXJyb3IgfHwgZW5vZW50LnZlcmlmeUVOT0VOVFN5bmMocmVzdWx0LnN0YXR1cywgcGFyc2VkKTtcblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3Bhd247XG5tb2R1bGUuZXhwb3J0cy5zcGF3biA9IHNwYXduO1xubW9kdWxlLmV4cG9ydHMuc3luYyA9IHNwYXduU3luYztcblxubW9kdWxlLmV4cG9ydHMuX3BhcnNlID0gcGFyc2U7XG5tb2R1bGUuZXhwb3J0cy5fZW5vZW50ID0gZW5vZW50O1xuIiwgIi8qKlxuICogSGVscGVycy5cbiAqL1xuXG52YXIgcyA9IDEwMDA7XG52YXIgbSA9IHMgKiA2MDtcbnZhciBoID0gbSAqIDYwO1xudmFyIGQgPSBoICogMjQ7XG52YXIgdyA9IGQgKiA3O1xudmFyIHkgPSBkICogMzY1LjI1O1xuXG4vKipcbiAqIFBhcnNlIG9yIGZvcm1hdCB0aGUgZ2l2ZW4gYHZhbGAuXG4gKlxuICogT3B0aW9uczpcbiAqXG4gKiAgLSBgbG9uZ2AgdmVyYm9zZSBmb3JtYXR0aW5nIFtmYWxzZV1cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IHZhbFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHRocm93cyB7RXJyb3J9IHRocm93IGFuIGVycm9yIGlmIHZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgbnVtYmVyXG4gKiBAcmV0dXJuIHtTdHJpbmd8TnVtYmVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHZhbCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsO1xuICBpZiAodHlwZSA9PT0gJ3N0cmluZycgJiYgdmFsLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gcGFyc2UodmFsKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZSh2YWwpKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMubG9uZyA/IGZtdExvbmcodmFsKSA6IGZtdFNob3J0KHZhbCk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgICd2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIHZhbGlkIG51bWJlci4gdmFsPScgK1xuICAgICAgSlNPTi5zdHJpbmdpZnkodmFsKVxuICApO1xufTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gYHN0cmAgYW5kIHJldHVybiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2Uoc3RyKSB7XG4gIHN0ciA9IFN0cmluZyhzdHIpO1xuICBpZiAoc3RyLmxlbmd0aCA+IDEwMCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbWF0Y2ggPSAvXigtPyg/OlxcZCspP1xcLj9cXGQrKSAqKG1pbGxpc2Vjb25kcz98bXNlY3M/fG1zfHNlY29uZHM/fHNlY3M/fHN8bWludXRlcz98bWlucz98bXxob3Vycz98aHJzP3xofGRheXM/fGR8d2Vla3M/fHd8eWVhcnM/fHlycz98eSk/JC9pLmV4ZWMoXG4gICAgc3RyXG4gICk7XG4gIGlmICghbWF0Y2gpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG4gPSBwYXJzZUZsb2F0KG1hdGNoWzFdKTtcbiAgdmFyIHR5cGUgPSAobWF0Y2hbMl0gfHwgJ21zJykudG9Mb3dlckNhc2UoKTtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAneWVhcnMnOlxuICAgIGNhc2UgJ3llYXInOlxuICAgIGNhc2UgJ3lycyc6XG4gICAgY2FzZSAneXInOlxuICAgIGNhc2UgJ3knOlxuICAgICAgcmV0dXJuIG4gKiB5O1xuICAgIGNhc2UgJ3dlZWtzJzpcbiAgICBjYXNlICd3ZWVrJzpcbiAgICBjYXNlICd3JzpcbiAgICAgIHJldHVybiBuICogdztcbiAgICBjYXNlICdkYXlzJzpcbiAgICBjYXNlICdkYXknOlxuICAgIGNhc2UgJ2QnOlxuICAgICAgcmV0dXJuIG4gKiBkO1xuICAgIGNhc2UgJ2hvdXJzJzpcbiAgICBjYXNlICdob3VyJzpcbiAgICBjYXNlICdocnMnOlxuICAgIGNhc2UgJ2hyJzpcbiAgICBjYXNlICdoJzpcbiAgICAgIHJldHVybiBuICogaDtcbiAgICBjYXNlICdtaW51dGVzJzpcbiAgICBjYXNlICdtaW51dGUnOlxuICAgIGNhc2UgJ21pbnMnOlxuICAgIGNhc2UgJ21pbic6XG4gICAgY2FzZSAnbSc6XG4gICAgICByZXR1cm4gbiAqIG07XG4gICAgY2FzZSAnc2Vjb25kcyc6XG4gICAgY2FzZSAnc2Vjb25kJzpcbiAgICBjYXNlICdzZWNzJzpcbiAgICBjYXNlICdzZWMnOlxuICAgIGNhc2UgJ3MnOlxuICAgICAgcmV0dXJuIG4gKiBzO1xuICAgIGNhc2UgJ21pbGxpc2Vjb25kcyc6XG4gICAgY2FzZSAnbWlsbGlzZWNvbmQnOlxuICAgIGNhc2UgJ21zZWNzJzpcbiAgICBjYXNlICdtc2VjJzpcbiAgICBjYXNlICdtcyc6XG4gICAgICByZXR1cm4gbjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuXG4vKipcbiAqIFNob3J0IGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdFNob3J0KG1zKSB7XG4gIHZhciBtc0FicyA9IE1hdGguYWJzKG1zKTtcbiAgaWYgKG1zQWJzID49IGQpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGQpICsgJ2QnO1xuICB9XG4gIGlmIChtc0FicyA+PSBoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBoKSArICdoJztcbiAgfVxuICBpZiAobXNBYnMgPj0gbSkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbSkgKyAnbSc7XG4gIH1cbiAgaWYgKG1zQWJzID49IHMpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIHMpICsgJ3MnO1xuICB9XG4gIHJldHVybiBtcyArICdtcyc7XG59XG5cbi8qKlxuICogTG9uZyBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRMb25nKG1zKSB7XG4gIHZhciBtc0FicyA9IE1hdGguYWJzKG1zKTtcbiAgaWYgKG1zQWJzID49IGQpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgZCwgJ2RheScpO1xuICB9XG4gIGlmIChtc0FicyA+PSBoKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIGgsICdob3VyJyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IG0pIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgbSwgJ21pbnV0ZScpO1xuICB9XG4gIGlmIChtc0FicyA+PSBzKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIHMsICdzZWNvbmQnKTtcbiAgfVxuICByZXR1cm4gbXMgKyAnIG1zJztcbn1cblxuLyoqXG4gKiBQbHVyYWxpemF0aW9uIGhlbHBlci5cbiAqL1xuXG5mdW5jdGlvbiBwbHVyYWwobXMsIG1zQWJzLCBuLCBuYW1lKSB7XG4gIHZhciBpc1BsdXJhbCA9IG1zQWJzID49IG4gKiAxLjU7XG4gIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbikgKyAnICcgKyBuYW1lICsgKGlzUGx1cmFsID8gJ3MnIDogJycpO1xufVxuIiwgIlwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIFRoaXMgaXMgdGhlIGNvbW1vbiBsb2dpYyBmb3IgYm90aCB0aGUgTm9kZS5qcyBhbmQgd2ViIGJyb3dzZXJcbiAqIGltcGxlbWVudGF0aW9ucyBvZiBgZGVidWcoKWAuXG4gKi9cbmZ1bmN0aW9uIHNldHVwKGVudikge1xuICBjcmVhdGVEZWJ1Zy5kZWJ1ZyA9IGNyZWF0ZURlYnVnO1xuICBjcmVhdGVEZWJ1Zy5kZWZhdWx0ID0gY3JlYXRlRGVidWc7XG4gIGNyZWF0ZURlYnVnLmNvZXJjZSA9IGNvZXJjZTtcbiAgY3JlYXRlRGVidWcuZGlzYWJsZSA9IGRpc2FibGU7XG4gIGNyZWF0ZURlYnVnLmVuYWJsZSA9IGVuYWJsZTtcbiAgY3JlYXRlRGVidWcuZW5hYmxlZCA9IGVuYWJsZWQ7XG4gIGNyZWF0ZURlYnVnLmh1bWFuaXplID0gcmVxdWlyZSgnbXMnKTtcbiAgT2JqZWN0LmtleXMoZW52KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBjcmVhdGVEZWJ1Z1trZXldID0gZW52W2tleV07XG4gIH0pO1xuICAvKipcbiAgKiBBY3RpdmUgYGRlYnVnYCBpbnN0YW5jZXMuXG4gICovXG5cbiAgY3JlYXRlRGVidWcuaW5zdGFuY2VzID0gW107XG4gIC8qKlxuICAqIFRoZSBjdXJyZW50bHkgYWN0aXZlIGRlYnVnIG1vZGUgbmFtZXMsIGFuZCBuYW1lcyB0byBza2lwLlxuICAqL1xuXG4gIGNyZWF0ZURlYnVnLm5hbWVzID0gW107XG4gIGNyZWF0ZURlYnVnLnNraXBzID0gW107XG4gIC8qKlxuICAqIE1hcCBvZiBzcGVjaWFsIFwiJW5cIiBoYW5kbGluZyBmdW5jdGlvbnMsIGZvciB0aGUgZGVidWcgXCJmb3JtYXRcIiBhcmd1bWVudC5cbiAgKlxuICAqIFZhbGlkIGtleSBuYW1lcyBhcmUgYSBzaW5nbGUsIGxvd2VyIG9yIHVwcGVyLWNhc2UgbGV0dGVyLCBpLmUuIFwiblwiIGFuZCBcIk5cIi5cbiAgKi9cblxuICBjcmVhdGVEZWJ1Zy5mb3JtYXR0ZXJzID0ge307XG4gIC8qKlxuICAqIFNlbGVjdHMgYSBjb2xvciBmb3IgYSBkZWJ1ZyBuYW1lc3BhY2VcbiAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlIFRoZSBuYW1lc3BhY2Ugc3RyaW5nIGZvciB0aGUgZm9yIHRoZSBkZWJ1ZyBpbnN0YW5jZSB0byBiZSBjb2xvcmVkXG4gICogQHJldHVybiB7TnVtYmVyfFN0cmluZ30gQW4gQU5TSSBjb2xvciBjb2RlIGZvciB0aGUgZ2l2ZW4gbmFtZXNwYWNlXG4gICogQGFwaSBwcml2YXRlXG4gICovXG5cbiAgZnVuY3Rpb24gc2VsZWN0Q29sb3IobmFtZXNwYWNlKSB7XG4gICAgdmFyIGhhc2ggPSAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYW1lc3BhY2UubGVuZ3RoOyBpKyspIHtcbiAgICAgIGhhc2ggPSAoaGFzaCA8PCA1KSAtIGhhc2ggKyBuYW1lc3BhY2UuY2hhckNvZGVBdChpKTtcbiAgICAgIGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZURlYnVnLmNvbG9yc1tNYXRoLmFicyhoYXNoKSAlIGNyZWF0ZURlYnVnLmNvbG9ycy5sZW5ndGhdO1xuICB9XG5cbiAgY3JlYXRlRGVidWcuc2VsZWN0Q29sb3IgPSBzZWxlY3RDb2xvcjtcbiAgLyoqXG4gICogQ3JlYXRlIGEgZGVidWdnZXIgd2l0aCB0aGUgZ2l2ZW4gYG5hbWVzcGFjZWAuXG4gICpcbiAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG4gICogQHJldHVybiB7RnVuY3Rpb259XG4gICogQGFwaSBwdWJsaWNcbiAgKi9cblxuICBmdW5jdGlvbiBjcmVhdGVEZWJ1ZyhuYW1lc3BhY2UpIHtcbiAgICB2YXIgcHJldlRpbWU7XG5cbiAgICBmdW5jdGlvbiBkZWJ1ZygpIHtcbiAgICAgIC8vIERpc2FibGVkP1xuICAgICAgaWYgKCFkZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIHZhciBzZWxmID0gZGVidWc7IC8vIFNldCBgZGlmZmAgdGltZXN0YW1wXG5cbiAgICAgIHZhciBjdXJyID0gTnVtYmVyKG5ldyBEYXRlKCkpO1xuICAgICAgdmFyIG1zID0gY3VyciAtIChwcmV2VGltZSB8fCBjdXJyKTtcbiAgICAgIHNlbGYuZGlmZiA9IG1zO1xuICAgICAgc2VsZi5wcmV2ID0gcHJldlRpbWU7XG4gICAgICBzZWxmLmN1cnIgPSBjdXJyO1xuICAgICAgcHJldlRpbWUgPSBjdXJyO1xuICAgICAgYXJnc1swXSA9IGNyZWF0ZURlYnVnLmNvZXJjZShhcmdzWzBdKTtcblxuICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdICE9PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBBbnl0aGluZyBlbHNlIGxldCdzIGluc3BlY3Qgd2l0aCAlT1xuICAgICAgICBhcmdzLnVuc2hpZnQoJyVPJyk7XG4gICAgICB9IC8vIEFwcGx5IGFueSBgZm9ybWF0dGVyc2AgdHJhbnNmb3JtYXRpb25zXG5cblxuICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgIGFyZ3NbMF0gPSBhcmdzWzBdLnJlcGxhY2UoLyUoW2EtekEtWiVdKS9nLCBmdW5jdGlvbiAobWF0Y2gsIGZvcm1hdCkge1xuICAgICAgICAvLyBJZiB3ZSBlbmNvdW50ZXIgYW4gZXNjYXBlZCAlIHRoZW4gZG9uJ3QgaW5jcmVhc2UgdGhlIGFycmF5IGluZGV4XG4gICAgICAgIGlmIChtYXRjaCA9PT0gJyUlJykge1xuICAgICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgICAgfVxuXG4gICAgICAgIGluZGV4Kys7XG4gICAgICAgIHZhciBmb3JtYXR0ZXIgPSBjcmVhdGVEZWJ1Zy5mb3JtYXR0ZXJzW2Zvcm1hdF07XG5cbiAgICAgICAgaWYgKHR5cGVvZiBmb3JtYXR0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB2YXIgdmFsID0gYXJnc1tpbmRleF07XG4gICAgICAgICAgbWF0Y2ggPSBmb3JtYXR0ZXIuY2FsbChzZWxmLCB2YWwpOyAvLyBOb3cgd2UgbmVlZCB0byByZW1vdmUgYGFyZ3NbaW5kZXhdYCBzaW5jZSBpdCdzIGlubGluZWQgaW4gdGhlIGBmb3JtYXRgXG5cbiAgICAgICAgICBhcmdzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgaW5kZXgtLTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgIH0pOyAvLyBBcHBseSBlbnYtc3BlY2lmaWMgZm9ybWF0dGluZyAoY29sb3JzLCBldGMuKVxuXG4gICAgICBjcmVhdGVEZWJ1Zy5mb3JtYXRBcmdzLmNhbGwoc2VsZiwgYXJncyk7XG4gICAgICB2YXIgbG9nRm4gPSBzZWxmLmxvZyB8fCBjcmVhdGVEZWJ1Zy5sb2c7XG4gICAgICBsb2dGbi5hcHBseShzZWxmLCBhcmdzKTtcbiAgICB9XG5cbiAgICBkZWJ1Zy5uYW1lc3BhY2UgPSBuYW1lc3BhY2U7XG4gICAgZGVidWcuZW5hYmxlZCA9IGNyZWF0ZURlYnVnLmVuYWJsZWQobmFtZXNwYWNlKTtcbiAgICBkZWJ1Zy51c2VDb2xvcnMgPSBjcmVhdGVEZWJ1Zy51c2VDb2xvcnMoKTtcbiAgICBkZWJ1Zy5jb2xvciA9IHNlbGVjdENvbG9yKG5hbWVzcGFjZSk7XG4gICAgZGVidWcuZGVzdHJveSA9IGRlc3Ryb3k7XG4gICAgZGVidWcuZXh0ZW5kID0gZXh0ZW5kOyAvLyBEZWJ1Zy5mb3JtYXRBcmdzID0gZm9ybWF0QXJncztcbiAgICAvLyBkZWJ1Zy5yYXdMb2cgPSByYXdMb2c7XG4gICAgLy8gZW52LXNwZWNpZmljIGluaXRpYWxpemF0aW9uIGxvZ2ljIGZvciBkZWJ1ZyBpbnN0YW5jZXNcblxuICAgIGlmICh0eXBlb2YgY3JlYXRlRGVidWcuaW5pdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY3JlYXRlRGVidWcuaW5pdChkZWJ1Zyk7XG4gICAgfVxuXG4gICAgY3JlYXRlRGVidWcuaW5zdGFuY2VzLnB1c2goZGVidWcpO1xuICAgIHJldHVybiBkZWJ1ZztcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdmFyIGluZGV4ID0gY3JlYXRlRGVidWcuaW5zdGFuY2VzLmluZGV4T2YodGhpcyk7XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBjcmVhdGVEZWJ1Zy5pbnN0YW5jZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4dGVuZChuYW1lc3BhY2UsIGRlbGltaXRlcikge1xuICAgIHJldHVybiBjcmVhdGVEZWJ1Zyh0aGlzLm5hbWVzcGFjZSArICh0eXBlb2YgZGVsaW1pdGVyID09PSAndW5kZWZpbmVkJyA/ICc6JyA6IGRlbGltaXRlcikgKyBuYW1lc3BhY2UpO1xuICB9XG4gIC8qKlxuICAqIEVuYWJsZXMgYSBkZWJ1ZyBtb2RlIGJ5IG5hbWVzcGFjZXMuIFRoaXMgY2FuIGluY2x1ZGUgbW9kZXNcbiAgKiBzZXBhcmF0ZWQgYnkgYSBjb2xvbiBhbmQgd2lsZGNhcmRzLlxuICAqXG4gICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAgKiBAYXBpIHB1YmxpY1xuICAqL1xuXG5cbiAgZnVuY3Rpb24gZW5hYmxlKG5hbWVzcGFjZXMpIHtcbiAgICBjcmVhdGVEZWJ1Zy5zYXZlKG5hbWVzcGFjZXMpO1xuICAgIGNyZWF0ZURlYnVnLm5hbWVzID0gW107XG4gICAgY3JlYXRlRGVidWcuc2tpcHMgPSBbXTtcbiAgICB2YXIgaTtcbiAgICB2YXIgc3BsaXQgPSAodHlwZW9mIG5hbWVzcGFjZXMgPT09ICdzdHJpbmcnID8gbmFtZXNwYWNlcyA6ICcnKS5zcGxpdCgvW1xccyxdKy8pO1xuICAgIHZhciBsZW4gPSBzcGxpdC5sZW5ndGg7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmICghc3BsaXRbaV0pIHtcbiAgICAgICAgLy8gaWdub3JlIGVtcHR5IHN0cmluZ3NcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIG5hbWVzcGFjZXMgPSBzcGxpdFtpXS5yZXBsYWNlKC9cXCovZywgJy4qPycpO1xuXG4gICAgICBpZiAobmFtZXNwYWNlc1swXSA9PT0gJy0nKSB7XG4gICAgICAgIGNyZWF0ZURlYnVnLnNraXBzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzLnN1YnN0cigxKSArICckJykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3JlYXRlRGVidWcubmFtZXMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMgKyAnJCcpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgY3JlYXRlRGVidWcuaW5zdGFuY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaW5zdGFuY2UgPSBjcmVhdGVEZWJ1Zy5pbnN0YW5jZXNbaV07XG4gICAgICBpbnN0YW5jZS5lbmFibGVkID0gY3JlYXRlRGVidWcuZW5hYmxlZChpbnN0YW5jZS5uYW1lc3BhY2UpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgKiBEaXNhYmxlIGRlYnVnIG91dHB1dC5cbiAgKlxuICAqIEBhcGkgcHVibGljXG4gICovXG5cblxuICBmdW5jdGlvbiBkaXNhYmxlKCkge1xuICAgIGNyZWF0ZURlYnVnLmVuYWJsZSgnJyk7XG4gIH1cbiAgLyoqXG4gICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBtb2RlIG5hbWUgaXMgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAqXG4gICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAqIEBhcGkgcHVibGljXG4gICovXG5cblxuICBmdW5jdGlvbiBlbmFibGVkKG5hbWUpIHtcbiAgICBpZiAobmFtZVtuYW1lLmxlbmd0aCAtIDFdID09PSAnKicpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBpO1xuICAgIHZhciBsZW47XG5cbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBjcmVhdGVEZWJ1Zy5za2lwcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKGNyZWF0ZURlYnVnLnNraXBzW2ldLnRlc3QobmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoaSA9IDAsIGxlbiA9IGNyZWF0ZURlYnVnLm5hbWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoY3JlYXRlRGVidWcubmFtZXNbaV0udGVzdChuYW1lKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLyoqXG4gICogQ29lcmNlIGB2YWxgLlxuICAqXG4gICogQHBhcmFtIHtNaXhlZH0gdmFsXG4gICogQHJldHVybiB7TWl4ZWR9XG4gICogQGFwaSBwcml2YXRlXG4gICovXG5cblxuICBmdW5jdGlvbiBjb2VyY2UodmFsKSB7XG4gICAgaWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICByZXR1cm4gdmFsLnN0YWNrIHx8IHZhbC5tZXNzYWdlO1xuICAgIH1cblxuICAgIHJldHVybiB2YWw7XG4gIH1cblxuICBjcmVhdGVEZWJ1Zy5lbmFibGUoY3JlYXRlRGVidWcubG9hZCgpKTtcbiAgcmV0dXJuIGNyZWF0ZURlYnVnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldHVwO1xuXG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xuXG4vKipcbiAqIFRoaXMgaXMgdGhlIHdlYiBicm93c2VyIGltcGxlbWVudGF0aW9uIG9mIGBkZWJ1ZygpYC5cbiAqL1xuZXhwb3J0cy5sb2cgPSBsb2c7XG5leHBvcnRzLmZvcm1hdEFyZ3MgPSBmb3JtYXRBcmdzO1xuZXhwb3J0cy5zYXZlID0gc2F2ZTtcbmV4cG9ydHMubG9hZCA9IGxvYWQ7XG5leHBvcnRzLnVzZUNvbG9ycyA9IHVzZUNvbG9ycztcbmV4cG9ydHMuc3RvcmFnZSA9IGxvY2Fsc3RvcmFnZSgpO1xuLyoqXG4gKiBDb2xvcnMuXG4gKi9cblxuZXhwb3J0cy5jb2xvcnMgPSBbJyMwMDAwQ0MnLCAnIzAwMDBGRicsICcjMDAzM0NDJywgJyMwMDMzRkYnLCAnIzAwNjZDQycsICcjMDA2NkZGJywgJyMwMDk5Q0MnLCAnIzAwOTlGRicsICcjMDBDQzAwJywgJyMwMENDMzMnLCAnIzAwQ0M2NicsICcjMDBDQzk5JywgJyMwMENDQ0MnLCAnIzAwQ0NGRicsICcjMzMwMENDJywgJyMzMzAwRkYnLCAnIzMzMzNDQycsICcjMzMzM0ZGJywgJyMzMzY2Q0MnLCAnIzMzNjZGRicsICcjMzM5OUNDJywgJyMzMzk5RkYnLCAnIzMzQ0MwMCcsICcjMzNDQzMzJywgJyMzM0NDNjYnLCAnIzMzQ0M5OScsICcjMzNDQ0NDJywgJyMzM0NDRkYnLCAnIzY2MDBDQycsICcjNjYwMEZGJywgJyM2NjMzQ0MnLCAnIzY2MzNGRicsICcjNjZDQzAwJywgJyM2NkNDMzMnLCAnIzk5MDBDQycsICcjOTkwMEZGJywgJyM5OTMzQ0MnLCAnIzk5MzNGRicsICcjOTlDQzAwJywgJyM5OUNDMzMnLCAnI0NDMDAwMCcsICcjQ0MwMDMzJywgJyNDQzAwNjYnLCAnI0NDMDA5OScsICcjQ0MwMENDJywgJyNDQzAwRkYnLCAnI0NDMzMwMCcsICcjQ0MzMzMzJywgJyNDQzMzNjYnLCAnI0NDMzM5OScsICcjQ0MzM0NDJywgJyNDQzMzRkYnLCAnI0NDNjYwMCcsICcjQ0M2NjMzJywgJyNDQzk5MDAnLCAnI0NDOTkzMycsICcjQ0NDQzAwJywgJyNDQ0NDMzMnLCAnI0ZGMDAwMCcsICcjRkYwMDMzJywgJyNGRjAwNjYnLCAnI0ZGMDA5OScsICcjRkYwMENDJywgJyNGRjAwRkYnLCAnI0ZGMzMwMCcsICcjRkYzMzMzJywgJyNGRjMzNjYnLCAnI0ZGMzM5OScsICcjRkYzM0NDJywgJyNGRjMzRkYnLCAnI0ZGNjYwMCcsICcjRkY2NjMzJywgJyNGRjk5MDAnLCAnI0ZGOTkzMycsICcjRkZDQzAwJywgJyNGRkNDMzMnXTtcbi8qKlxuICogQ3VycmVudGx5IG9ubHkgV2ViS2l0LWJhc2VkIFdlYiBJbnNwZWN0b3JzLCBGaXJlZm94ID49IHYzMSxcbiAqIGFuZCB0aGUgRmlyZWJ1ZyBleHRlbnNpb24gKGFueSBGaXJlZm94IHZlcnNpb24pIGFyZSBrbm93blxuICogdG8gc3VwcG9ydCBcIiVjXCIgQ1NTIGN1c3RvbWl6YXRpb25zLlxuICpcbiAqIFRPRE86IGFkZCBhIGBsb2NhbFN0b3JhZ2VgIHZhcmlhYmxlIHRvIGV4cGxpY2l0bHkgZW5hYmxlL2Rpc2FibGUgY29sb3JzXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5cbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcbiAgLy8gTkI6IEluIGFuIEVsZWN0cm9uIHByZWxvYWQgc2NyaXB0LCBkb2N1bWVudCB3aWxsIGJlIGRlZmluZWQgYnV0IG5vdCBmdWxseVxuICAvLyBpbml0aWFsaXplZC4gU2luY2Ugd2Uga25vdyB3ZSdyZSBpbiBDaHJvbWUsIHdlJ2xsIGp1c3QgZGV0ZWN0IHRoaXMgY2FzZVxuICAvLyBleHBsaWNpdGx5XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2VzcyAmJiAod2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJyB8fCB3aW5kb3cucHJvY2Vzcy5fX253anMpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gLy8gSW50ZXJuZXQgRXhwbG9yZXIgYW5kIEVkZ2UgZG8gbm90IHN1cHBvcnQgY29sb3JzLlxuXG5cbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC8oZWRnZXx0cmlkZW50KVxcLyhcXGQrKS8pKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIElzIHdlYmtpdD8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY0NTk2MDYvMzc2NzczXG4gIC8vIGRvY3VtZW50IGlzIHVuZGVmaW5lZCBpbiByZWFjdC1uYXRpdmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvcHVsbC8xNjMyXG5cblxuICByZXR1cm4gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlIHx8IC8vIElzIGZpcmVidWc/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM5ODEyMC8zNzY3NzNcbiAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLmZpcmVidWcgfHwgd2luZG93LmNvbnNvbGUuZXhjZXB0aW9uICYmIHdpbmRvdy5jb25zb2xlLnRhYmxlKSB8fCAvLyBJcyBmaXJlZm94ID49IHYzMT9cbiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9Ub29scy9XZWJfQ29uc29sZSNTdHlsaW5nX21lc3NhZ2VzXG4gIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLykgJiYgcGFyc2VJbnQoUmVnRXhwLiQxLCAxMCkgPj0gMzEgfHwgLy8gRG91YmxlIGNoZWNrIHdlYmtpdCBpbiB1c2VyQWdlbnQganVzdCBpbiBjYXNlIHdlIGFyZSBpbiBhIHdvcmtlclxuICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvYXBwbGV3ZWJraXRcXC8oXFxkKykvKTtcbn1cbi8qKlxuICogQ29sb3JpemUgbG9nIGFyZ3VtZW50cyBpZiBlbmFibGVkLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuXG5mdW5jdGlvbiBmb3JtYXRBcmdzKGFyZ3MpIHtcbiAgYXJnc1swXSA9ICh0aGlzLnVzZUNvbG9ycyA/ICclYycgOiAnJykgKyB0aGlzLm5hbWVzcGFjZSArICh0aGlzLnVzZUNvbG9ycyA/ICcgJWMnIDogJyAnKSArIGFyZ3NbMF0gKyAodGhpcy51c2VDb2xvcnMgPyAnJWMgJyA6ICcgJykgKyAnKycgKyBtb2R1bGUuZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpO1xuXG4gIGlmICghdGhpcy51c2VDb2xvcnMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgYyA9ICdjb2xvcjogJyArIHRoaXMuY29sb3I7XG4gIGFyZ3Muc3BsaWNlKDEsIDAsIGMsICdjb2xvcjogaW5oZXJpdCcpOyAvLyBUaGUgZmluYWwgXCIlY1wiIGlzIHNvbWV3aGF0IHRyaWNreSwgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBvdGhlclxuICAvLyBhcmd1bWVudHMgcGFzc2VkIGVpdGhlciBiZWZvcmUgb3IgYWZ0ZXIgdGhlICVjLCBzbyB3ZSBuZWVkIHRvXG4gIC8vIGZpZ3VyZSBvdXQgdGhlIGNvcnJlY3QgaW5kZXggdG8gaW5zZXJ0IHRoZSBDU1MgaW50b1xuXG4gIHZhciBpbmRleCA9IDA7XG4gIHZhciBsYXN0QyA9IDA7XG4gIGFyZ3NbMF0ucmVwbGFjZSgvJVthLXpBLVolXS9nLCBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICBpZiAobWF0Y2ggPT09ICclJScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpbmRleCsrO1xuXG4gICAgaWYgKG1hdGNoID09PSAnJWMnKSB7XG4gICAgICAvLyBXZSBvbmx5IGFyZSBpbnRlcmVzdGVkIGluIHRoZSAqbGFzdCogJWNcbiAgICAgIC8vICh0aGUgdXNlciBtYXkgaGF2ZSBwcm92aWRlZCB0aGVpciBvd24pXG4gICAgICBsYXN0QyA9IGluZGV4O1xuICAgIH1cbiAgfSk7XG4gIGFyZ3Muc3BsaWNlKGxhc3RDLCAwLCBjKTtcbn1cbi8qKlxuICogSW52b2tlcyBgY29uc29sZS5sb2coKWAgd2hlbiBhdmFpbGFibGUuXG4gKiBOby1vcCB3aGVuIGBjb25zb2xlLmxvZ2AgaXMgbm90IGEgXCJmdW5jdGlvblwiLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuXG5mdW5jdGlvbiBsb2coKSB7XG4gIHZhciBfY29uc29sZTtcblxuICAvLyBUaGlzIGhhY2tlcnkgaXMgcmVxdWlyZWQgZm9yIElFOC85LCB3aGVyZVxuICAvLyB0aGUgYGNvbnNvbGUubG9nYCBmdW5jdGlvbiBkb2Vzbid0IGhhdmUgJ2FwcGx5J1xuICByZXR1cm4gKHR5cGVvZiBjb25zb2xlID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoY29uc29sZSkpID09PSAnb2JqZWN0JyAmJiBjb25zb2xlLmxvZyAmJiAoX2NvbnNvbGUgPSBjb25zb2xlKS5sb2cuYXBwbHkoX2NvbnNvbGUsIGFyZ3VtZW50cyk7XG59XG4vKipcbiAqIFNhdmUgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIHNhdmUobmFtZXNwYWNlcykge1xuICB0cnkge1xuICAgIGlmIChuYW1lc3BhY2VzKSB7XG4gICAgICBleHBvcnRzLnN0b3JhZ2Uuc2V0SXRlbSgnZGVidWcnLCBuYW1lc3BhY2VzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhwb3J0cy5zdG9yYWdlLnJlbW92ZUl0ZW0oJ2RlYnVnJyk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikgey8vIFN3YWxsb3dcbiAgICAvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cbiAgfVxufVxuLyoqXG4gKiBMb2FkIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9IHJldHVybnMgdGhlIHByZXZpb3VzbHkgcGVyc2lzdGVkIGRlYnVnIG1vZGVzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIGxvYWQoKSB7XG4gIHZhciByO1xuXG4gIHRyeSB7XG4gICAgciA9IGV4cG9ydHMuc3RvcmFnZS5nZXRJdGVtKCdkZWJ1ZycpO1xuICB9IGNhdGNoIChlcnJvcikge30gLy8gU3dhbGxvd1xuICAvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cbiAgLy8gSWYgZGVidWcgaXNuJ3Qgc2V0IGluIExTLCBhbmQgd2UncmUgaW4gRWxlY3Ryb24sIHRyeSB0byBsb2FkICRERUJVR1xuXG5cbiAgaWYgKCFyICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAnZW52JyBpbiBwcm9jZXNzKSB7XG4gICAgciA9IHByb2Nlc3MuZW52LkRFQlVHO1xuICB9XG5cbiAgcmV0dXJuIHI7XG59XG4vKipcbiAqIExvY2Fsc3RvcmFnZSBhdHRlbXB0cyB0byByZXR1cm4gdGhlIGxvY2Fsc3RvcmFnZS5cbiAqXG4gKiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHNhZmFyaSB0aHJvd3NcbiAqIHdoZW4gYSB1c2VyIGRpc2FibGVzIGNvb2tpZXMvbG9jYWxzdG9yYWdlXG4gKiBhbmQgeW91IGF0dGVtcHQgdG8gYWNjZXNzIGl0LlxuICpcbiAqIEByZXR1cm4ge0xvY2FsU3RvcmFnZX1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gbG9jYWxzdG9yYWdlKCkge1xuICB0cnkge1xuICAgIC8vIFRWTUxLaXQgKEFwcGxlIFRWIEpTIFJ1bnRpbWUpIGRvZXMgbm90IGhhdmUgYSB3aW5kb3cgb2JqZWN0LCBqdXN0IGxvY2FsU3RvcmFnZSBpbiB0aGUgZ2xvYmFsIGNvbnRleHRcbiAgICAvLyBUaGUgQnJvd3NlciBhbHNvIGhhcyBsb2NhbFN0b3JhZ2UgaW4gdGhlIGdsb2JhbCBjb250ZXh0LlxuICAgIHJldHVybiBsb2NhbFN0b3JhZ2U7XG4gIH0gY2F0Y2ggKGVycm9yKSB7Ly8gU3dhbGxvd1xuICAgIC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9jb21tb24nKShleHBvcnRzKTtcbnZhciBmb3JtYXR0ZXJzID0gbW9kdWxlLmV4cG9ydHMuZm9ybWF0dGVycztcbi8qKlxuICogTWFwICVqIHRvIGBKU09OLnN0cmluZ2lmeSgpYCwgc2luY2Ugbm8gV2ViIEluc3BlY3RvcnMgZG8gdGhhdCBieSBkZWZhdWx0LlxuICovXG5cbmZvcm1hdHRlcnMuaiA9IGZ1bmN0aW9uICh2KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHYpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiAnW1VuZXhwZWN0ZWRKU09OUGFyc2VFcnJvcl06ICcgKyBlcnJvci5tZXNzYWdlO1xuICB9XG59O1xuXG4iLCAibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzZXJpZXMoZm5zLCBjb250ZXh0LCBjYWxsYmFjaykge1xuICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBjb250ZXh0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IGNvbnRleHRcbiAgICAgIGNvbnRleHQgPSBudWxsXG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrID0gbm9vcFxuICAgIH1cbiAgfVxuXG4gIGlmICghKGZucyAmJiBmbnMubGVuZ3RoKSkgcmV0dXJuIGNhbGxiYWNrKCk7XG5cbiAgZm5zID0gZm5zLnNsaWNlKDApXG5cbiAgdmFyIGNhbGwgPSBjb250ZXh0XG4gID8gZnVuY3Rpb24gKCkge1xuICAgIGZucy5sZW5ndGhcbiAgICAgID8gZm5zLnNoaWZ0KCkuY2FsbChjb250ZXh0LCBuZXh0KVxuICAgICAgOiBjYWxsYmFjaygpXG4gIH1cbiAgOiBmdW5jdGlvbiAoKSB7XG4gICAgZm5zLmxlbmd0aFxuICAgICAgPyBmbnMuc2hpZnQoKShuZXh0KVxuICAgICAgOiBjYWxsYmFjaygpXG4gIH1cblxuICBjYWxsKClcblxuICBmdW5jdGlvbiBuZXh0KGVycikge1xuICAgIGVyciA/IGNhbGxiYWNrKGVycikgOiBjYWxsKClcbiAgfVxufVxuXG5mdW5jdGlvbiBub29wKCkge31cbiIsICJcbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgc3Bhd24gPSByZXF1aXJlKCdjcm9zcy1zcGF3bicpO1xudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIGRlYnVnID0gcmVxdWlyZSgnZGVidWcnKSgnZ20nKTtcbnZhciBzZXJpZXMgPSByZXF1aXJlKCdhcnJheS1zZXJpZXMnKTtcbnZhciBQYXNzVGhyb3VnaCA9IHJlcXVpcmUoJ3N0cmVhbScpLlBhc3NUaHJvdWdoO1xuXG4vKipcbiAqIEVycm9yIG1lc3NhZ2luZy5cbiAqL1xuXG52YXIgbm9CdWZmZXJDb25jYXQgPSAnZ20gdjEuOS4wKyByZXF1aXJlZCBub2RlIHYwLjgrLiBQbGVhc2UgdXBkYXRlIHlvdXIgdmVyc2lvbiBvZiBub2RlLCBkb3duZ3JhZGUgZ20gPCAxLjksIG9yIGRvIG5vdCB1c2UgYGJ1ZmZlclN0cmVhbWAuJztcblxuLyoqXG4gKiBFeHRlbmQgcHJvdG9cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChwcm90bykge1xuXG4gIGZ1bmN0aW9uIGFyZ3MgKHByb3ApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gYXJncyAoKSB7XG4gICAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgIHZhciBhID0gW107XG4gICAgICB2YXIgaSA9IDA7XG5cbiAgICAgIGZvciAoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgYS5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXNbcHJvcF0gPSB0aGlzW3Byb3BdLmNvbmNhdChhKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0cmVhbVRvVW5lbXB0eUJ1ZmZlcihzdHJlYW0sIGNhbGxiYWNrKSB7XG4gICAgdmFyIGRvbmUgPSBmYWxzZVxuICAgIHZhciBidWZmZXJzID0gW11cblxuICAgIHN0cmVhbS5vbignZGF0YScsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBidWZmZXJzLnB1c2goZGF0YSlcbiAgICB9KVxuXG4gICAgc3RyZWFtLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoZG9uZSlcbiAgICAgICAgcmV0dXJuXG5cbiAgICAgIGRvbmUgPSB0cnVlXG4gICAgICBsZXQgcmVzdWx0ID0gQnVmZmVyLmNvbmNhdChidWZmZXJzKVxuICAgICAgYnVmZmVycyA9IG51bGxcblxuICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFwiU3RyZWFtIHlpZWxkcyBlbXB0eSBidWZmZXJcIik7XG4gICAgICAgIGNhbGxiYWNrKGVyciwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayhudWxsLCByZXN1bHQpO1xuICAgICAgfVxuICAgIH0pXG5cbiAgICBzdHJlYW0ub24oJ2Vycm9yJywgZnVuY3Rpb24gKGVycikge1xuICAgICAgZG9uZSA9IHRydWVcbiAgICAgIGJ1ZmZlcnMgPSBudWxsXG4gICAgICBjYWxsYmFjayhlcnIpXG4gICAgfSlcbiAgfVxuXG4gIHByb3RvLmluID0gYXJncygnX2luJyk7XG4gIHByb3RvLm91dCA9IGFyZ3MoJ19vdXQnKTtcblxuICBwcm90by5fcHJlcHJvY2Vzc29yID0gW107XG4gIHByb3RvLnByZXByb2Nlc3NvciA9IGFyZ3MoJ19wcmVwcm9jZXNzb3InKTtcblxuICAvKipcbiAgICogRXhlY3V0ZSB0aGUgY29tbWFuZCBhbmQgd3JpdGUgdGhlIGltYWdlIHRvIHRoZSBzcGVjaWZpZWQgZmlsZSBuYW1lLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKiBAcmV0dXJuIHtPYmplY3R9IGdtXG4gICAqL1xuXG4gIHByb3RvLndyaXRlID0gZnVuY3Rpb24gd3JpdGUgKG5hbWUsIGNhbGxiYWNrKSB7XG4gICAgaWYgKCFjYWxsYmFjaykgY2FsbGJhY2sgPSBuYW1lLCBuYW1lID0gbnVsbDtcblxuICAgIGlmIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBjYWxsYmFjaykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImdtKCkud3JpdGUoKSBleHBlY3RzIGEgY2FsbGJhY2sgZnVuY3Rpb25cIilcbiAgICB9XG5cbiAgICBpZiAoIW5hbWUpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhUeXBlRXJyb3IoXCJnbSgpLndyaXRlKCkgZXhwZWN0cyBhIGZpbGVuYW1lIHdoZW4gd3JpdGluZyBuZXcgZmlsZXNcIikpO1xuICAgIH1cblxuICAgIHRoaXMub3V0bmFtZSA9IG5hbWU7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5fcHJlcHJvY2VzcyhmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyKSByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgIHNlbGYuX3NwYXduKHNlbGYuYXJncygpLCB0cnVlLCBjYWxsYmFjayk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZSB0aGUgY29tbWFuZCBhbmQgcmV0dXJuIHN0ZGluIGFuZCBzdGRlcnJcbiAgICogUmVhZGFibGVTdHJlYW1zIHByb3ZpZGluZyB0aGUgaW1hZ2UgZGF0YS5cbiAgICogSWYgbm8gY2FsbGJhY2sgaXMgcGFzc2VkLCBhIFwidGhyb3VnaFwiIHN0cmVhbSB3aWxsIGJlIHJldHVybmVkLFxuICAgKiBhbmQgc3Rkb3V0IHdpbGwgYmUgcGlwZWQgdGhyb3VnaCwgb3RoZXJ3aXNlIHRoZSBlcnJvciB3aWxsIGJlIHBhc3NlZC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGZvcm1hdCAob3B0aW9uYWwpXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIChvcHRpb25hbClcbiAgICogQHJldHVybiB7U3RyZWFtfVxuICAgKi9cblxuICBwcm90by5zdHJlYW0gPSBmdW5jdGlvbiBzdHJlYW0gKGZvcm1hdCwgY2FsbGJhY2spIHtcbiAgICBpZiAoIWNhbGxiYWNrICYmIHR5cGVvZiBmb3JtYXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gZm9ybWF0O1xuICAgICAgZm9ybWF0ID0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgdGhyb3VnaFN0cmVhbTtcblxuICAgIGlmIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBjYWxsYmFjaykge1xuICAgICAgdGhyb3VnaFN0cmVhbSA9IG5ldyBQYXNzVGhyb3VnaCgpO1xuICAgICAgY2FsbGJhY2sgPSBmdW5jdGlvbiAoZXJyLCBzdGRvdXQsIHN0ZGVycikge1xuICAgICAgICBpZiAoZXJyKSB0aHJvdWdoU3RyZWFtLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICAgICAgZWxzZSBzdGRvdXQucGlwZSh0aHJvdWdoU3RyZWFtKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZm9ybWF0KSB7XG4gICAgICBmb3JtYXQgPSBmb3JtYXQuc3BsaXQoJy4nKS5wb3AoKTtcbiAgICAgIHRoaXMub3V0bmFtZSA9IGZvcm1hdCArIFwiOi1cIjtcbiAgICB9XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5fcHJlcHJvY2VzcyhmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyKSByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgIHJldHVybiBzZWxmLl9zcGF3bihzZWxmLmFyZ3MoKSwgZmFsc2UsIGNhbGxiYWNrKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0aHJvdWdoU3RyZWFtIHx8IHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVuaWVuY2UgZnVuY3Rpb24gZm9yIGBwcm90by5zdHJlYW1gLlxuICAgKiBTaW1wbHkgcmV0dXJucyB0aGUgYnVmZmVyIGluc3RlYWQgb2YgdGhlIHN0cmVhbS5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGZvcm1hdCAob3B0aW9uYWwpXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqIEByZXR1cm4ge251bGx9XG4gICAqL1xuXG4gIHByb3RvLnRvQnVmZmVyID0gZnVuY3Rpb24gdG9CdWZmZXIgKGZvcm1hdCwgY2FsbGJhY2spIHtcbiAgICBpZiAoIWNhbGxiYWNrKSBjYWxsYmFjayA9IGZvcm1hdCwgZm9ybWF0ID0gbnVsbDtcblxuICAgIGlmIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBjYWxsYmFjaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdnbSgpLnRvQnVmZmVyKCkgZXhwZWN0cyBhIGNhbGxiYWNrLicpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN0cmVhbShmb3JtYXQsIGZ1bmN0aW9uIChlcnIsIHN0ZG91dCkge1xuICAgICAgaWYgKGVycikgcmV0dXJuIGNhbGxiYWNrKGVycik7XG5cbiAgICAgIHN0cmVhbVRvVW5lbXB0eUJ1ZmZlcihzdGRvdXQsIGNhbGxiYWNrKTtcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAgKiBSdW4gYW55IHByZVByb2Nlc3NvciBmdW5jdGlvbnMgaW4gc2VyaWVzLiBVc2VkIGJ5IGF1dG9PcmllbnQuXG4gICAgKlxuICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAqIEByZXR1cm4ge09iamVjdH0gZ21cbiAgICAqL1xuXG4gIHByb3RvLl9wcmVwcm9jZXNzID0gZnVuY3Rpb24gX3ByZXByb2Nlc3MgKGNhbGxiYWNrKSB7XG4gICAgc2VyaWVzKHRoaXMuX3ByZXByb2Nlc3NvciwgdGhpcywgY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAgKiBFeGVjdXRlIHRoZSBjb21tYW5kLCBidWZmZXIgaW5wdXQgYW5kIG91dHB1dCwgcmV0dXJuIHN0ZG91dCBhbmQgc3RkZXJyIGJ1ZmZlcnMuXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IGJpblxuICAgICogQHBhcmFtIHtBcnJheX0gYXJnc1xuICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAqIEByZXR1cm4ge09iamVjdH0gZ21cbiAgICAqL1xuXG4gIHByb3RvLl9leGVjID0gZnVuY3Rpb24gX2V4ZWMgKGFyZ3MsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NwYXduKGFyZ3MsIHRydWUsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgICogRXhlY3V0ZSB0aGUgY29tbWFuZCB3aXRoIHN0ZGluLCByZXR1cm5pbmcgc3Rkb3V0IGFuZCBzdGRlcnIgc3RyZWFtcyBvciBidWZmZXJzLlxuICAgICogQHBhcmFtIHtTdHJpbmd9IGJpblxuICAgICogQHBhcmFtIHtBcnJheX0gYXJnc1xuICAgICogQHBhcmFtIHtSZWFkYWJsZVN0cmVhbX0gc3RyZWFtXG4gICAgKiBAcGFyYW0ge0Jvb2xlYW59IHNob3VsZEJ1ZmZlclxuICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2ssIHNpZ25hdHVyZSAoZXJyLCBzdGRvdXQsIHN0ZGVycikgLT4gKlxuICAgICogQHJldHVybiB7T2JqZWN0fSBnbVxuICAgICogQFRPRE8gcmVmYWN0b3IgdGhpcyBtZXNzXG4gICAgKi9cblxuICBwcm90by5fc3Bhd24gPSBmdW5jdGlvbiBfc3Bhd24gKGFyZ3MsIGJ1ZmZlck91dHB1dCwgY2FsbGJhY2spIHtcbiAgICB2YXIgYXBwUGF0aCA9IHRoaXMuX29wdGlvbnMuYXBwUGF0aCB8fCAnJztcbiAgICB2YXIgYmluXG5cbiAgICAvLyBSZXNvbHZlIGV4ZWN1dGFibGVcbiAgICBzd2l0Y2ggKHRoaXMuX29wdGlvbnMuaW1hZ2VNYWdpY2spIHtcbiAgICAgIC8vIGxlZ2FjeSBiZWhhdmlvclxuICAgICAgY2FzZSB0cnVlOlxuICAgICAgICBiaW4gPSBhcmdzLnNoaWZ0KCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICAvLyBJbWdlTWFnaWNrID49IDdcbiAgICAgIGNhc2UgJzcrJzpcbiAgICAgICAgYmluID0gJ21hZ2ljaydcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIC8vIEdyYXBoaWNzTWFnaWNrXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBiaW4gPSAnZ20nO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICAvLyBQcmVwZW5kIGFwcCBwYXRoXG4gICAgYmluID0gYXBwUGF0aCArIGJpblxuXG4gICAgdmFyIGNtZCA9IGJpbiArICcgJyArIGFyZ3MubWFwKHV0aWxzLmVzY2FwZSkuam9pbignICcpXG4gICAgICAsIHNlbGYgPSB0aGlzXG4gICAgICAsIHByb2MsIGVyclxuICAgICAgLCB0aW1lb3V0ID0gcGFyc2VJbnQodGhpcy5fb3B0aW9ucy50aW1lb3V0KVxuICAgICAgLCBkaXNwb3NlcnMgPSB0aGlzLl9vcHRpb25zLmRpc3Bvc2Vyc1xuICAgICAgLCB0aW1lb3V0SWQ7XG5cbiAgICBkZWJ1ZyhjbWQpO1xuICAgIC8vaW1hZ2VNYWdpY2sgZG9lcyBub3Qgc3VwcG9ydCBtaW5pZnkgKGh0dHBzOi8vZ2l0aHViLmNvbS9haGVja21hbm4vZ20vaXNzdWVzLzM4NSlcbiAgICBpZihhcmdzLmluZGV4T2YoXCItbWluaWZ5XCIpID4gLTEgJiYgdGhpcy5fb3B0aW9ucy5pbWFnZU1hZ2ljayl7XG4gICAgICByZXR1cm4gY2IobmV3IEVycm9yKFwiaW1hZ2VNYWdpY2sgZG9lcyBub3Qgc3VwcG9ydCBtaW5pZnksIHVzZSAtc2NhbGUgb3IgLXNhbXBsZS4gQWx0ZXJuYXRpdmVseSwgdXNlIGdyYXBoaWNzTWFnaWNrXCIpKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHByb2MgPSBzcGF3bihiaW4sIGFyZ3MpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBjYihlKTtcbiAgICB9XG4gICAgcHJvYy5zdGRpbi5vbmNlKCdlcnJvcicsIGNiKTtcblxuICAgIHByb2Mub24oJ2Vycm9yJywgZnVuY3Rpb24oZXJyKXtcbiAgICAgIGlmIChlcnIuY29kZSA9PT0gJ0VOT0VOVCcpIHtcbiAgICAgICAgY2IobmV3IEVycm9yKCdDb3VsZCBub3QgZXhlY3V0ZSBHcmFwaGljc01hZ2ljay9JbWFnZU1hZ2ljazogJytjbWQrXCIgdGhpcyBtb3N0IGxpa2VseSBtZWFucyB0aGUgZ20vY29udmVydCBiaW5hcmllcyBjYW4ndCBiZSBmb3VuZFwiKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYihlcnIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgZGlzcG9zZSgnZ20oKSByZXN1bHRlZCBpbiBhIHRpbWVvdXQuJyk7XG4gICAgICB9LCB0aW1lb3V0KTtcbiAgICB9XG5cbiAgICBpZiAoZGlzcG9zZXJzKSB7XG4gICAgICBkaXNwb3NlcnMuZm9yRWFjaChmdW5jdGlvbihkaXNwb3Nlcikge1xuICAgICAgICBkaXNwb3Nlci5ldmVudHMuZm9yRWFjaChmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIGRpc3Bvc2VyLmVtaXR0ZXIub24oZXZlbnQsIGRpc3Bvc2UpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChzZWxmLnNvdXJjZUJ1ZmZlcikge1xuICAgICAgcHJvYy5zdGRpbi53cml0ZSh0aGlzLnNvdXJjZUJ1ZmZlcik7XG4gICAgICBwcm9jLnN0ZGluLmVuZCgpO1xuICAgIH0gZWxzZSBpZiAoc2VsZi5zb3VyY2VTdHJlYW0pIHtcblxuICAgICAgaWYgKCFzZWxmLnNvdXJjZVN0cmVhbS5yZWFkYWJsZSkge1xuICAgICAgICByZXR1cm4gY2IobmV3IEVycm9yKFwiZ20oKS5zdHJlYW0oKSBvciBnbSgpLndyaXRlKCkgd2l0aCBhIG5vbi1yZWFkYWJsZSBzdHJlYW0uXCIpKTtcbiAgICAgIH1cblxuICAgICAgc2VsZi5zb3VyY2VTdHJlYW0ucGlwZShwcm9jLnN0ZGluKTtcblxuICAgICAgLy8gYnVmZmVyU3RyZWFtXG4gICAgICAvLyBXZSBjb252ZXJ0IHRoZSBpbnB1dCBzb3VyY2UgZnJvbSBhIHN0cmVhbSB0byBhIGJ1ZmZlci5cbiAgICAgIGlmIChzZWxmLmJ1ZmZlclN0cmVhbSAmJiAhdGhpcy5fYnVmZmVyaW5nKSB7XG4gICAgICAgIGlmICghQnVmZmVyLmNvbmNhdCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihub0J1ZmZlckNvbmNhdCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbmNhc2UgdGhlcmUgYXJlIG11bHRpcGxlIHByb2Nlc3NlcyBpbiBwYXJhbGxlbCxcbiAgICAgICAgLy8gd2Ugb25seSBuZWVkIG9uZVxuICAgICAgICBzZWxmLl9idWZmZXJpbmcgPSB0cnVlO1xuXG4gICAgICAgIHN0cmVhbVRvVW5lbXB0eUJ1ZmZlcihzZWxmLnNvdXJjZVN0cmVhbSwgZnVuY3Rpb24gKGVyciwgYnVmZmVyKSB7XG4gICAgICAgICAgc2VsZi5zb3VyY2VCdWZmZXIgPSBidWZmZXI7XG4gICAgICAgICAgc2VsZi5zb3VyY2VTdHJlYW0gPSBudWxsOyAvLyBUaGUgc3RyZWFtIGlzIG5vdyBkZWFkXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZm9yIF9leGVjIG9wZXJhdGlvbnMgKGlkZW50aWZ5KCkgbW9zdGx5KSwgd2UgYWxzb1xuICAgIC8vIG5lZWQgdG8gYnVmZmVyIHRoZSBvdXRwdXQgc3RyZWFtIGJlZm9yZSByZXR1cm5pbmdcbiAgICBpZiAoYnVmZmVyT3V0cHV0KSB7XG4gICAgICB2YXIgc3Rkb3V0ID0gJydcbiAgICAgICAgLCBzdGRlcnIgPSAnJ1xuICAgICAgICAsIG9uT3V0XG4gICAgICAgICwgb25FcnJcbiAgICAgICAgLCBvbkV4aXRcblxuICAgICAgcHJvYy5zdGRvdXQub24oJ2RhdGEnLCBvbk91dCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHN0ZG91dCArPSBkYXRhO1xuICAgICAgfSk7XG5cbiAgICAgIHByb2Muc3RkZXJyLm9uKCdkYXRhJywgb25FcnIgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBzdGRlcnIgKz0gZGF0YTtcbiAgICAgIH0pO1xuXG4gICAgICBwcm9jLm9uKCdjbG9zZScsIG9uRXhpdCA9IGZ1bmN0aW9uIChjb2RlLCBzaWduYWwpIHtcbiAgICAgICAgbGV0IGVycjtcbiAgICAgICAgaWYgKGNvZGUgIT09IDAgfHwgc2lnbmFsICE9PSBudWxsKSB7XG4gICAgICAgICAgZXJyID0gbmV3IEVycm9yKCdDb21tYW5kIGZhaWxlZDogJyArIHN0ZGVycik7XG4gICAgICAgICAgZXJyLmNvZGUgPSBjb2RlO1xuICAgICAgICAgIGVyci5zaWduYWwgPSBzaWduYWw7XG4gICAgICAgIH07XG4gICAgICAgIGNiKGVyciwgc3Rkb3V0LCBzdGRlcnIsIGNtZCk7XG4gICAgICAgIHN0ZG91dCA9IHN0ZGVyciA9IG9uT3V0ID0gb25FcnIgPSBvbkV4aXQgPSBudWxsO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNiKG51bGwsIHByb2Muc3Rkb3V0LCBwcm9jLnN0ZGVyciwgY21kKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcblxuICAgIGZ1bmN0aW9uIGNiIChlcnIsIHN0ZG91dCwgc3RkZXJyLCBjbWQpIHtcbiAgICAgIGlmIChjYi5jYWxsZWQpIHJldHVybjtcbiAgICAgIGlmICh0aW1lb3V0SWQpIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgY2IuY2FsbGVkID0gMTtcbiAgICAgIGlmIChhcmdzWzBdICE9PSAnaWRlbnRpZnknICYmIGJpbiAhPT0gJ2lkZW50aWZ5Jykge1xuICAgICAgICBzZWxmLl9pbiA9IFtdO1xuICAgICAgICBzZWxmLl9vdXQgPSBbXTtcbiAgICAgIH1cbiAgICAgIGNhbGxiYWNrLmNhbGwoc2VsZiwgZXJyLCBzdGRvdXQsIHN0ZGVyciwgY21kKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkaXNwb3NlIChtc2cpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBtc2cgPyBtc2cgOiAnZ20oKSB3YXMgZGlzcG9zZWQnO1xuICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgY2IoZXJyKTtcbiAgICAgIGlmIChwcm9jLmV4aXRDb2RlID09PSBudWxsKSB7XG4gICAgICAgIHByb2Muc3RkaW4ucGF1c2UoKTtcbiAgICAgICAgcHJvYy5raWxsKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYXJndW1lbnRzIHRvIGJlIHVzZWQgaW4gdGhlIGNvbW1hbmQuXG4gICAqXG4gICAqIEByZXR1cm4ge0FycmF5fVxuICAgKi9cblxuICBwcm90by5hcmdzID0gZnVuY3Rpb24gYXJncyAoKSB7XG4gICAgdmFyIG91dG5hbWUgPSB0aGlzLm91dG5hbWUgfHwgXCItXCI7XG4gIFx0aWYgKHRoaXMuX291dHB1dEZvcm1hdCkgb3V0bmFtZSA9IHRoaXMuX291dHB1dEZvcm1hdCArICc6JyArIG91dG5hbWU7XG5cbiAgICByZXR1cm4gW10uY29uY2F0KFxuICAgICAgICB0aGlzLl9zdWJDb21tYW5kXG4gICAgICAsIHRoaXMuX2luXG4gICAgICAsIHRoaXMuc3JjKClcbiAgICAgICwgdGhpcy5fb3V0XG4gICAgICAsIG91dG5hbWVcbiAgICApLmZpbHRlcihCb29sZWFuKTsgLy8gcmVtb3ZlIGZhbHNleVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYW4gaW1nIHNvdXJjZSBmb3JtYXR0ZXIuXG4gICAqXG4gICAqIGBmb3JtYXR0ZXJzYCBhcmUgcGFzc2VkIGFuIGFycmF5IG9mIGltYWdlcyB3aGljaCB3aWxsIGJlXG4gICAqIHVzZWQgYXMgJ2lucHV0JyBpbWFnZXMgZm9yIHRoZSBjb21tYW5kLiBVc2VmdWwgZm9yIG1ldGhvZHNcbiAgICogbGlrZSBgLmFwcGVuZCgpYCB3aGVyZSBtdWx0aXBsZSBzb3VyY2UgaW1hZ2VzIG1heSBiZSB1c2VkLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmb3JtYXR0ZXJcbiAgICogQHJldHVybiB7Z219IHRoaXNcbiAgICovXG5cbiAgcHJvdG8uYWRkU3JjRm9ybWF0dGVyID0gZnVuY3Rpb24gYWRkU3JjRm9ybWF0dGVyIChmb3JtYXR0ZXIpIHtcbiAgICBpZiAoJ2Z1bmN0aW9uJyAhPSB0eXBlb2YgZm9ybWF0dGVyKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignc291cmNlRm9ybWF0dGVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgIHRoaXMuX3NvdXJjZUZvcm1hdHRlcnMgfHwgKHRoaXMuX3NvdXJjZUZvcm1hdHRlcnMgPSBbXSk7XG4gICAgdGhpcy5fc291cmNlRm9ybWF0dGVycy5wdXNoKGZvcm1hdHRlcik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQXBwbGllcyBhbGwgX3NvdXJjZUZvcm1hdHRlcnNcbiAgICpcbiAgICogQHJldHVybiB7QXJyYXl9XG4gICAqL1xuXG4gIHByb3RvLnNyYyA9IGZ1bmN0aW9uIHNyYyAoKSB7XG4gICAgdmFyIGFyciA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fc291cmNlRm9ybWF0dGVycy5sZW5ndGg7ICsraSkge1xuICAgICAgdGhpcy5fc291cmNlRm9ybWF0dGVyc1tpXS5jYWxsKHRoaXMsIGFycik7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICAvKipcbiAgICogSW1hZ2UgdHlwZXMuXG4gICAqL1xuXG4gIHZhciB0eXBlcyA9IHtcbiAgICAgICdqcGcnOiAvXFwuanBlP2ckL2lcbiAgICAsICdwbmcnIDogL1xcLnBuZyQvaVxuICAgICwgJ2dpZicgOiAvXFwuZ2lmJC9pXG4gICAgLCAndGlmZic6IC9cXC50aWY/ZiQvaVxuICAgICwgJ2JtcCcgOiAvKD86XFwuYm1wfFxcLmRpYikkL2lcbiAgICAsICd3ZWJwJzogL1xcLndlYnAkL2lcbiAgfTtcblxuICB0eXBlcy5qcGVnID0gdHlwZXMuanBnO1xuICB0eXBlcy50aWYgPSB0eXBlcy50aWZmO1xuICB0eXBlcy5kaWIgPSB0eXBlcy5ibXA7XG5cbiAgLyoqXG4gICAqIERldGVybWluZSB0aGUgdHlwZSBvZiBzb3VyY2UgaW1hZ2UuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAqIEBleGFtcGxlXG4gICAqICAgaWYgKHRoaXMuaW5wdXRJcygncG5nJykpIC4uLlxuICAgKi9cblxuICBwcm90by5pbnB1dElzID0gZnVuY3Rpb24gaW5wdXRJcyAodHlwZSkge1xuICAgIGlmICghdHlwZSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgdmFyIHJneCA9IHR5cGVzW3R5cGVdO1xuICAgIGlmICghcmd4KSB7XG4gICAgICBpZiAoJy4nICE9PSB0eXBlWzBdKSB0eXBlID0gJy4nICsgdHlwZTtcbiAgICAgIHJneCA9IG5ldyBSZWdFeHAoJ1xcXFwnICsgdHlwZSArICckJywgJ2knKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmd4LnRlc3QodGhpcy5zb3VyY2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIGFkZCBkaXNwb3NlciAobGlrZSAnY2xvc2UnIG9mIGh0dHAuSW5jb21pbmdNZXNzYWdlKSBpbiBvcmRlciB0byBkaXNwb3NlIGdtKCkgd2l0aCBhbnkgZXZlbnRcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXJcbiAgICogQHBhcmFtIHtBcnJheX0gZXZlbnRzXG4gICAqIEByZXR1cm4ge09iamVjdH0gZ21cbiAgICogQGV4YW1wbGVcbiAgICogICBjb21tYW5kLmFkZERpc3Bvc2VyKHJlcSwgWydjbG9zZScsICdlbmQnLCAnZmluaXNoJ10pO1xuICAgKi9cblxuICBwcm90by5hZGREaXNwb3NlciA9IGZ1bmN0aW9uIGFkZERpc3Bvc2VyIChlbWl0dGVyLCBldmVudHMpIHtcbiAgICBpZiAoIXRoaXMuX29wdGlvbnMuZGlzcG9zZXJzKSB7XG4gICAgICB0aGlzLl9vcHRpb25zLmRpc3Bvc2VycyA9IFtdO1xuICAgIH1cbiAgICB0aGlzLl9vcHRpb25zLmRpc3Bvc2Vycy5wdXNoKHtcbiAgICAgIGVtaXR0ZXI6IGVtaXR0ZXIsXG4gICAgICBldmVudHM6IGV2ZW50c1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xufVxuIiwgIi8vIGNvbXBhcmVcblxudmFyIHNwYXduID0gcmVxdWlyZSgnY3Jvc3Mtc3Bhd24nKTtcbnZhciBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ2dtJyk7XG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbi8qKlxuICogQ29tcGFyZSB0d28gaW1hZ2VzIHVzZXMgZ3JhcGhpY3NtYWdpY2tzIGBjb21wYXJlYCBjb21tYW5kLlxuICpcbiAqIGdtLmNvbXBhcmUoaW1nMSwgaW1nMiwgMC40LCBmdW5jdGlvbiAoZXJyLCBlcXVhbCwgZXF1YWxpdHkpIHtcbiAqICAgaWYgKGVycikgcmV0dXJuIGhhbmRsZShlcnIpO1xuICogICBjb25zb2xlLmxvZygnVGhlIGltYWdlcyBhcmUgZXF1YWw6ICVzJywgZXF1YWwpO1xuICogICBjb25zb2xlLmxvZygnVGhlcmUgZXF1YWxpdHkgd2FzICVkJywgZXF1YWxpdHkpO1xuICogfSk7XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG9yaWcgUGF0aCB0byBhbiBpbWFnZS5cbiAqIEBwYXJhbSB7U3RyaW5nfSBjb21wYXJlVG8gUGF0aCB0byBhbm90aGVyIGltYWdlIHRvIGNvbXBhcmUgdG8gYG9yaWdgLlxuICogQHBhcmFtIHtOdW1iZXJ8T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3Qgb3IgdGhlIGFtb3VudCBvZiBkaWZmZXJlbmNlIHRvIHRvbGVyYXRlIGJlZm9yZSBmYWlsaW5nIC0gZGVmYXVsdHMgdG8gMC40XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYihlcnIsIEJvb2xlYW4sIGVxdWFsaXR5LCByYXdPdXRwdXQpXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZnVuY3Rpb24gKHByb3RvKSB7XG4gIGZ1bmN0aW9uIGNvbXBhcmUob3JpZywgY29tcGFyZVRvLCBvcHRpb25zLCBjYikge1xuXG4gICAgdmFyIGlzSW1hZ2VNYWdpY2sgPSB0aGlzLl9vcHRpb25zICYmIHRoaXMuX29wdGlvbnMuaW1hZ2VNYWdpY2s7XG4gICAgdmFyIGFwcFBhdGggPSB0aGlzLl9vcHRpb25zICYmIHRoaXMuX29wdGlvbnMuYXBwUGF0aCB8fCAnJztcbiAgICB2YXIgYXJncyA9IFsnLW1ldHJpYycsICdtc2UnLCBvcmlnLCBjb21wYXJlVG9dO1xuXG4gICAgLy8gUmVzb3ZlIGV4ZWN1dGFibGVcbiAgICBsZXQgYmluO1xuXG4gICAgc3dpdGNoIChpc0ltYWdlTWFnaWNrKSB7XG4gICAgICBjYXNlIHRydWU6XG4gICAgICAgIGJpbiA9ICdjb21wYXJlJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICc3Kyc6XG4gICAgICAgIGJpbiA9ICdtYWdpY2snXG4gICAgICAgIGFyZ3MudW5zaGlmdCgnY29tcGFyZScpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJpbiA9ICdnbSdcbiAgICAgICAgYXJncy51bnNoaWZ0KCdjb21wYXJlJyk7XG4gICAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgLy8gUHJlcGVuZCBhcHAgcGF0aFxuICAgIGJpbiA9IGFwcFBhdGggKyBiaW5cblxuICAgIHZhciB0b2xlcmFuY2UgPSAwLjQ7XG4gICAgLy8gb3V0cHV0dGluZyB0aGUgZGlmZiBpbWFnZVxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcpIHtcblxuICAgICAgaWYgKG9wdGlvbnMuaGlnaGxpZ2h0Q29sb3IgJiYgb3B0aW9ucy5oaWdobGlnaHRDb2xvci5pbmRleE9mKCdcIicpIDwgMCkge1xuICAgICAgICBvcHRpb25zLmhpZ2hsaWdodENvbG9yID0gJ1wiJyArIG9wdGlvbnMuaGlnaGxpZ2h0Q29sb3IgKyAnXCInO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5maWxlKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5maWxlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBwYXRoIGZvciB0aGUgZGlmZiBvdXRwdXQgaXMgaW52YWxpZCcpO1xuICAgICAgICB9XG4gICAgICAgICAvLyBncmFwaGljc21hZ2ljayBkZWZhdWx0cyB0byByZWRcbiAgICAgICAgaWYgKG9wdGlvbnMuaGlnaGxpZ2h0Q29sb3IpIHtcbiAgICAgICAgICAgIGFyZ3MucHVzaCgnLWhpZ2hsaWdodC1jb2xvcicpO1xuICAgICAgICAgICAgYXJncy5wdXNoKG9wdGlvbnMuaGlnaGxpZ2h0Q29sb3IpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmhpZ2hsaWdodFN0eWxlKSB7XG4gICAgICAgICAgICBhcmdzLnB1c2goJy1oaWdobGlnaHQtc3R5bGUnKVxuICAgICAgICAgICAgYXJncy5wdXNoKG9wdGlvbnMuaGlnaGxpZ2h0U3R5bGUpXG4gICAgICAgIH1cbiAgICAgICAgLy8gRm9yIElNLCBmaWxlbmFtZSBpcyB0aGUgbGFzdCBhcmd1bWVudC4gRm9yIEdNIGl0J3MgYC1maWxlIDxmaWxlbmFtZT5gXG4gICAgICAgIGlmICghaXNJbWFnZU1hZ2ljaykge1xuICAgICAgICAgICAgYXJncy5wdXNoKCctZmlsZScpO1xuICAgICAgICB9XG4gICAgICAgIGFyZ3MucHVzaChvcHRpb25zLmZpbGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMudG9sZXJhbmNlICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy50b2xlcmFuY2UgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIHRvbGVyYW5jZSB2YWx1ZSBzaG91bGQgYmUgYSBudW1iZXInKTtcbiAgICAgICAgfVxuICAgICAgICB0b2xlcmFuY2UgPSBvcHRpb25zLnRvbGVyYW5jZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRm9yIEltYWdlTWFnaWNrIGRpZmYgZmlsZSBpcyByZXF1aXJlZCBidXQgd2UgZG9uJ3QgY2FyZSBhYm91dCBpdCwgc28gbnVsbCBpdCBvdXRcbiAgICAgIGlmIChpc0ltYWdlTWFnaWNrKSB7XG4gICAgICAgIGFyZ3MucHVzaCgnbnVsbDonKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2IgPSBvcHRpb25zOyAvLyB0b2xlcmFuY2UgdmFsdWUgbm90IHByb3ZpZGVkLCBmbGlwIHRoZSBjYiBwbGFjZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9sZXJhbmNlID0gb3B0aW9uc1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBjbWQgPSBiaW4gKyAnICcgKyBhcmdzLm1hcCh1dGlscy5lc2NhcGUpLmpvaW4oJyAnKVxuICAgIGRlYnVnKGNtZCk7XG5cbiAgICB2YXIgcHJvYyA9IHNwYXduKGJpbiwgYXJncyk7XG4gICAgdmFyIHN0ZG91dCA9ICcnO1xuICAgIHZhciBzdGRlcnIgPSAnJztcbiAgICBwcm9jLnN0ZG91dC5vbignZGF0YScsZnVuY3Rpb24oZGF0YSkgeyBzdGRvdXQrPWRhdGEgfSk7XG4gICAgcHJvYy5zdGRlcnIub24oJ2RhdGEnLGZ1bmN0aW9uKGRhdGEpIHsgc3RkZXJyKz1kYXRhIH0pO1xuICAgIHByb2Mub24oJ2Nsb3NlJywgZnVuY3Rpb24gKGNvZGUpIHtcbiAgICAgIC8vIEltYWdlTWFnaWNrIHJldHVybnMgZXJyIGNvZGUgMiBpZiBlcnIsIDAgaWYgc2ltaWxhciwgMSBpZiBkaXNzaW1pbGFyXG4gICAgICBpZiAoaXNJbWFnZU1hZ2ljaykge1xuICAgICAgICBpZiAoY29kZSA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBjYihudWxsLCAwIDw9IHRvbGVyYW5jZSwgMCwgc3Rkb3V0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb2RlID09PSAxKSB7XG4gICAgICAgICAgc3Rkb3V0ID0gc3RkZXJyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY2Ioc3RkZXJyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYoY29kZSAhPT0gMCkge1xuICAgICAgICAgIHJldHVybiBjYihzdGRlcnIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBTaW5jZSBJbWFnZU1hZ2ljayBzaW1pbGFyIGdpdmVzIGVyciBjb2RlIDAgYW5kIG5vIHN0ZG91dCwgdGhlcmUncyByZWFsbHkgbm8gbWF0Y2hpbmdcbiAgICAgIC8vIE90aGVyd2lzZSwgb3V0cHV0IGZvcm1hdCBmb3IgSU0gaXMgYDEyLjAwICgwLjEyMylgIGFuZCBmb3IgR00gaXQncyBgVG90YWw6IDAuMTIzYFxuICAgICAgdmFyIHJlZ2V4ID0gaXNJbWFnZU1hZ2ljayA/IC9cXCgoXFxkK1xcLj9bXFxkXFwtXFwrZV0qKVxcKS9tIDogL1RvdGFsOiAoXFxkK1xcLj9cXGQqKS9tO1xuICAgICAgdmFyIG1hdGNoID0gcmVnZXguZXhlYyhzdGRvdXQpO1xuICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICByZXR1cm4gY2IobmV3IEVycm9yKCdVbmFibGUgdG8gcGFyc2Ugb3V0cHV0LlxcbkdvdCAnICsgc3Rkb3V0KSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBlcXVhbGl0eSA9IHBhcnNlRmxvYXQobWF0Y2hbMV0pO1xuICAgICAgY2IobnVsbCwgZXF1YWxpdHkgPD0gdG9sZXJhbmNlLCBlcXVhbGl0eSwgc3Rkb3V0LCBvcmlnLCBjb21wYXJlVG8pO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKHByb3RvKSB7XG4gICAgcHJvdG8uY29tcGFyZSA9IGNvbXBhcmU7XG4gIH1cbiAgcmV0dXJuIGNvbXBhcmU7XG59O1xuXG4iLCAiLy8gY29tcG9zaXRlXG5cbi8qKlxuICogQ29tcG9zaXRlIGltYWdlcyB0b2dldGhlciB1c2luZyB0aGUgYGNvbXBvc2l0ZWAgY29tbWFuZCBpbiBncmFwaGljc21hZ2ljay5cbiAqXG4gKiBnbSgnL3BhdGgvdG8vaW1hZ2UuanBnJylcbiAqIC5jb21wb3NpdGUoJy9wYXRoL3RvL3NlY29uZF9pbWFnZS5qcGcnKVxuICogLmdlb21ldHJ5KCcrMTAwKzE1MCcpXG4gKiAud3JpdGUoJy9wYXRoL3RvL2NvbXBvc2l0ZS5wbmcnLCBmdW5jdGlvbihlcnIpIHtcbiAqICAgaWYoIWVycikgY29uc29sZS5sb2coXCJXcml0dGVuIGNvbXBvc2l0ZSBpbWFnZS5cIik7XG4gKiB9KTtcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gb3RoZXIgIFBhdGggdG8gdGhlIGltYWdlIHRoYXQgY29udGFpbnMgdGhlIGNoYW5nZXMuXG4gKiBAcGFyYW0ge1N0cmluZ30gW21hc2tdIFBhdGggdG8gdGhlIGltYWdlIHdpdGggb3BhY2l0eSBpbmZvcm10aW9uLiBHcmF5c2NhbGUuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZnVuY3Rpb24ocHJvdG8pIHtcbiAgICBwcm90by5jb21wb3NpdGUgPSBmdW5jdGlvbihvdGhlciwgbWFzaykge1xuICAgICAgICB0aGlzLmluKG90aGVyKTtcblxuICAgICAgICAvLyBJZiB0aGUgbWFzayBpcyBkZWZpbmVkLCBhZGQgaXQgdG8gdGhlIG91dHB1dC5cbiAgICAgICAgaWYodHlwZW9mIG1hc2sgIT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgICB0aGlzLm91dChtYXNrKTtcblxuICAgICAgICB0aGlzLnN1YkNvbW1hbmQoXCJjb21wb3NpdGVcIik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuIiwgIi8vIG1vbnRhZ2VcblxuLyoqXG4gKiBNb250YWdlIGltYWdlcyBuZXh0IHRvIGVhY2ggb3RoZXIgdXNpbmcgdGhlIGBtb250YWdlYCBjb21tYW5kIGluIGdyYXBoaWNzbWFnaWNrLlxuICpcbiAqIGdtKCcvcGF0aC90by9pbWFnZS5qcGcnKVxuICogLm1vbnRhZ2UoJy9wYXRoL3RvL3NlY29uZF9pbWFnZS5qcGcnKVxuICogLmdlb21ldHJ5KCcrMTAwKzE1MCcpXG4gKiAud3JpdGUoJy9wYXRoL3RvL21vbnRhZ2UucG5nJywgZnVuY3Rpb24oZXJyKSB7XG4gKiAgIGlmKCFlcnIpIGNvbnNvbGUubG9nKFwiV3JpdHRlbiBtb250YWdlIGltYWdlLlwiKTtcbiAqIH0pO1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBvdGhlciAgUGF0aCB0byB0aGUgaW1hZ2UgdGhhdCBjb250YWlucyB0aGUgY2hhbmdlcy5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmdW5jdGlvbihwcm90bykge1xuICAgIHByb3RvLm1vbnRhZ2UgPSBmdW5jdGlvbihvdGhlcikge1xuICAgICAgICB0aGlzLmluKG90aGVyKTtcblxuICAgICAgICB0aGlzLnN1YkNvbW1hbmQoXCJtb250YWdlXCIpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbiIsICJ7XG4gIFwibmFtZVwiOiBcImdtXCIsXG4gIFwiZGVzY3JpcHRpb25cIjogXCJHcmFwaGljc01hZ2ljayBhbmQgSW1hZ2VNYWdpY2sgZm9yIG5vZGUuanNcIixcbiAgXCJ2ZXJzaW9uXCI6IFwiMS4yNS4wXCIsXG4gIFwiYXV0aG9yXCI6IFwiQWFyb24gSGVja21hbm4gPGFhcm9uLmhlY2ttYW5uK2dpdGh1YkBnbWFpbC5jb20+XCIsXG4gIFwia2V5d29yZHNcIjogW1xuICAgIFwiZ3JhcGhpY3NcIixcbiAgICBcIm1hZ2lja1wiLFxuICAgIFwiaW1hZ2VcIixcbiAgICBcImdyYXBoaWNzbWFnaWNrXCIsXG4gICAgXCJpbWFnZW1hZ2lja1wiLFxuICAgIFwiZ21cIixcbiAgICBcImNvbnZlcnRcIixcbiAgICBcImlkZW50aWZ5XCIsXG4gICAgXCJjb21wYXJlXCJcbiAgXSxcbiAgXCJlbmdpbmVzXCI6IHtcbiAgICBcIm5vZGVcIjogXCI+PTE0XCJcbiAgfSxcbiAgXCJidWdzXCI6IHtcbiAgICBcInVybFwiOiBcImh0dHA6Ly9naXRodWIuY29tL2FoZWNrbWFubi9nbS9pc3N1ZXNcIlxuICB9LFxuICBcImxpY2Vuc2VzXCI6IFtcbiAgICB7XG4gICAgICBcInR5cGVcIjogXCJNSVRcIixcbiAgICAgIFwidXJsXCI6IFwiaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcIlxuICAgIH1cbiAgXSxcbiAgXCJtYWluXCI6IFwiLi9pbmRleFwiLFxuICBcInNjcmlwdHNcIjoge1xuICAgIFwic2VjdXJpdHlcIjogXCJucG0gYXVkaXRcIixcbiAgICBcInRlc3RcIjogXCJucG0gcnVuIHNlY3VyaXR5ICYmIG5wbSBydW4gdGVzdC1pbnRlZ3JhdGlvblwiLFxuICAgIFwidGVzdC1pbnRlZ3JhdGlvblwiOiBcIm5vZGUgdGVzdC8gLS1pbnRlZ3JhdGlvblwiLFxuICAgIFwidGVzdC11bml0XCI6IFwibm9kZSB0ZXN0L1wiXG4gIH0sXG4gIFwicmVwb3NpdG9yeVwiOiB7XG4gICAgXCJ0eXBlXCI6IFwiZ2l0XCIsXG4gICAgXCJ1cmxcIjogXCJodHRwczovL2dpdGh1Yi5jb20vYWhlY2ttYW5uL2dtLmdpdFwiXG4gIH0sXG4gIFwibGljZW5zZVwiOiBcIk1JVFwiLFxuICBcImRldkRlcGVuZGVuY2llc1wiOiB7XG4gICAgXCJhc3luY1wiOiBcIn4wLjkuMFwiXG4gIH0sXG4gIFwiZGVwZW5kZW5jaWVzXCI6IHtcbiAgICBcImFycmF5LXBhcmFsbGVsXCI6IFwifjAuMS4zXCIsXG4gICAgXCJhcnJheS1zZXJpZXNcIjogXCJ+MC4xLjVcIixcbiAgICBcImNyb3NzLXNwYXduXCI6IFwiXjQuMC4wXCIsXG4gICAgXCJkZWJ1Z1wiOiBcIl4zLjEuMFwiXG4gIH1cbn1cbiIsICJcbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgU3RyZWFtID0gcmVxdWlyZSgnc3RyZWFtJykuU3RyZWFtO1xudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcjtcbnZhciB1dGlsID0gcmVxdWlyZSgndXRpbCcpO1xuXG51dGlsLmluaGVyaXRzKGdtLCBFdmVudEVtaXR0ZXIpO1xuXG4vKipcbiAqIENvbnN0cnVjdG9yLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gcGF0aCAtIHBhdGggdG8gaW1nIHNvdXJjZSBvciBSZWFkYWJsZVN0cmVhbSBvciB3aWR0aCBvZiBpbWcgdG8gY3JlYXRlXG4gKiBAcGFyYW0ge051bWJlcn0gW2hlaWdodF0gLSBvcHRpb25hbCBmaWxlbmFtZSBvZiBSZWFkYWJsZVN0cmVhbSBvciBoZWlnaHQgb2YgaW1nIHRvIGNyZWF0ZVxuICogQHBhcmFtIHtTdHJpbmd9IFtjb2xvcl0gLSBvcHRpb25hbCBoZXggYmFja2dyb3VuZCBjb2xvciBvZiBjcmVhdGVkIGltZ1xuICovXG5cbmZ1bmN0aW9uIGdtIChzb3VyY2UsIGhlaWdodCwgY29sb3IpIHtcbiAgdmFyIHdpZHRoO1xuXG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBnbSkpIHtcbiAgICByZXR1cm4gbmV3IGdtKHNvdXJjZSwgaGVpZ2h0LCBjb2xvcik7XG4gIH1cblxuICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICB0aGlzLl9vcHRpb25zID0ge307XG4gIHRoaXMub3B0aW9ucyh0aGlzLl9fcHJvdG9fXy5fb3B0aW9ucyk7XG5cbiAgdGhpcy5kYXRhID0ge307XG4gIHRoaXMuX2luID0gW107XG4gIHRoaXMuX291dCA9IFtdO1xuICB0aGlzLl9vdXRwdXRGb3JtYXQgPSBudWxsO1xuICB0aGlzLl9zdWJDb21tYW5kID0gJ2NvbnZlcnQnO1xuXG4gIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBTdHJlYW0pIHtcbiAgICB0aGlzLnNvdXJjZVN0cmVhbSA9IHNvdXJjZTtcbiAgICBzb3VyY2UgPSBoZWlnaHQgfHwgJ3Vua25vd24uanBnJztcbiAgfSBlbHNlIGlmIChCdWZmZXIuaXNCdWZmZXIoc291cmNlKSkge1xuICAgIHRoaXMuc291cmNlQnVmZmVyID0gc291cmNlO1xuICAgIHNvdXJjZSA9IGhlaWdodCB8fCAndW5rbm93bi5qcGcnO1xuICB9IGVsc2UgaWYgKGhlaWdodCkge1xuICAgIC8vIG5ldyBpbWFnZXNcbiAgICB3aWR0aCA9IHNvdXJjZTtcbiAgICBzb3VyY2UgPSBcIlwiO1xuXG4gICAgdGhpcy5pbihcIi1zaXplXCIsIHdpZHRoICsgXCJ4XCIgKyBoZWlnaHQpO1xuXG4gICAgaWYgKGNvbG9yKSB7XG4gICAgICB0aGlzLmluKFwieGM6XCIrIGNvbG9yKTtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIC8vIHRoZW4gc291cmNlIGlzIGEgcGF0aFxuXG4gICAgLy8gcGFyc2Ugb3V0IGdpZiBmcmFtZSBicmFja2V0cyBmcm9tIGZpbGVuYW1lXG4gICAgLy8gc2luY2Ugc3RyZWFtIGRvZXNuJ3QgdXNlIHNvdXJjZSBwYXRoXG4gICAgLy8gZWcuIFwiZmlsZW5hbWUuZ2lmWzBdXCJcbiAgICB2YXIgZnJhbWVzID0gc291cmNlLm1hdGNoKC8oXFxbLitcXF0pJC8pO1xuICAgIGlmIChmcmFtZXMpIHtcbiAgICAgIHRoaXMuc291cmNlRnJhbWVzID0gc291cmNlLnN1YnN0cihmcmFtZXMuaW5kZXgsIGZyYW1lc1swXS5sZW5ndGgpO1xuICAgICAgc291cmNlID0gc291cmNlLnN1YnN0cigwLCBmcmFtZXMuaW5kZXgpO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMuc291cmNlID0gc291cmNlO1xuXG4gIHRoaXMuYWRkU3JjRm9ybWF0dGVyKGZ1bmN0aW9uIChzcmMpIHtcbiAgICAvLyBtdXN0IGJlIGZpcnN0IHNvdXJjZSBmb3JtYXR0ZXJcblxuICAgIHZhciBpbnB1dEZyb21TdGRpbiA9IHRoaXMuc291cmNlU3RyZWFtIHx8IHRoaXMuc291cmNlQnVmZmVyO1xuICAgIHZhciByZXQgPSBpbnB1dEZyb21TdGRpbiA/ICctJyA6IHRoaXMuc291cmNlO1xuXG4gICAgY29uc3QgZmlsZU5hbWVQcm92aWVkID0gdHlwZW9mIGhlaWdodCA9PT0gJ3N0cmluZyc7XG4gICAgaWYgKGlucHV0RnJvbVN0ZGluICYmIGZpbGVOYW1lUHJvdmllZCAmJiAvXFwuaWNvJC9pLnRlc3QodGhpcy5zb3VyY2UpKSB7XG4gICAgICByZXQgPSBgaWNvOi1gO1xuICAgIH1cblxuICAgIGlmIChyZXQgJiYgdGhpcy5zb3VyY2VGcmFtZXMpIHJldCArPSB0aGlzLnNvdXJjZUZyYW1lcztcblxuICAgIHNyYy5sZW5ndGggPSAwO1xuICAgIHNyY1swXSA9IHJldDtcbiAgfSk7XG59XG5cbi8qKlxuICogU3ViY2xhc3NlcyB0aGUgZ20gY29uc3RydWN0b3Igd2l0aCBjdXN0b20gb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge29wdGlvbnN9IG9wdGlvbnNcbiAqIEByZXR1cm4ge2dtfSB0aGUgc3ViY2xhc3NlcyBnbSBjb25zdHJ1Y3RvclxuICovXG5cbnZhciBwYXJlbnQgPSBnbTtcbmdtLnN1YkNsYXNzID0gZnVuY3Rpb24gc3ViQ2xhc3MgKG9wdGlvbnMpIHtcbiAgZnVuY3Rpb24gZ20gKHNvdXJjZSwgaGVpZ2h0LCBjb2xvcikge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBwYXJlbnQpKSB7XG4gICAgICByZXR1cm4gbmV3IGdtKHNvdXJjZSwgaGVpZ2h0LCBjb2xvcik7XG4gICAgfVxuXG4gICAgcGFyZW50LmNhbGwodGhpcywgc291cmNlLCBoZWlnaHQsIGNvbG9yKTtcbiAgfVxuXG4gIGdtLnByb3RvdHlwZS5fX3Byb3RvX18gPSBwYXJlbnQucHJvdG90eXBlO1xuICBnbS5wcm90b3R5cGUuX29wdGlvbnMgPSB7fTtcbiAgZ20ucHJvdG90eXBlLm9wdGlvbnMob3B0aW9ucyk7XG5cbiAgcmV0dXJuIGdtO1xufVxuXG4vKipcbiAqIEF1Z21lbnQgdGhlIHByb3RvdHlwZS5cbiAqL1xuXG5yZXF1aXJlKFwiLi9saWIvb3B0aW9uc1wiKShnbS5wcm90b3R5cGUpO1xucmVxdWlyZShcIi4vbGliL2dldHRlcnNcIikoZ20pO1xucmVxdWlyZShcIi4vbGliL2FyZ3NcIikoZ20ucHJvdG90eXBlKTtcbnJlcXVpcmUoXCIuL2xpYi9kcmF3aW5nXCIpKGdtLnByb3RvdHlwZSk7XG5yZXF1aXJlKFwiLi9saWIvY29udmVuaWVuY2VcIikoZ20ucHJvdG90eXBlKTtcbnJlcXVpcmUoXCIuL2xpYi9jb21tYW5kXCIpKGdtLnByb3RvdHlwZSk7XG5yZXF1aXJlKFwiLi9saWIvY29tcGFyZVwiKShnbS5wcm90b3R5cGUpO1xucmVxdWlyZShcIi4vbGliL2NvbXBvc2l0ZVwiKShnbS5wcm90b3R5cGUpO1xucmVxdWlyZShcIi4vbGliL21vbnRhZ2VcIikoZ20ucHJvdG90eXBlKTtcblxuLyoqXG4gKiBFeHBvc2UuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZ207XG5tb2R1bGUuZXhwb3J0cy51dGlscyA9IHJlcXVpcmUoJy4vbGliL3V0aWxzJyk7XG5tb2R1bGUuZXhwb3J0cy5jb21wYXJlID0gcmVxdWlyZSgnLi9saWIvY29tcGFyZScpKCk7XG5tb2R1bGUuZXhwb3J0cy52ZXJzaW9uID0gcmVxdWlyZSgnLi9wYWNrYWdlLmpzb24nKS52ZXJzaW9uO1xuIiwgIid1c2Ugc3RyaWN0J1xuZnVuY3Rpb24gdHJ5U3RyaW5naWZ5IChvKSB7XG4gIHRyeSB7IHJldHVybiBKU09OLnN0cmluZ2lmeShvKSB9IGNhdGNoKGUpIHsgcmV0dXJuICdcIltDaXJjdWxhcl1cIicgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZvcm1hdFxuXG5mdW5jdGlvbiBmb3JtYXQoZiwgYXJncywgb3B0cykge1xuICB2YXIgc3MgPSAob3B0cyAmJiBvcHRzLnN0cmluZ2lmeSkgfHwgdHJ5U3RyaW5naWZ5XG4gIHZhciBvZmZzZXQgPSAxXG4gIGlmICh0eXBlb2YgZiA9PT0gJ29iamVjdCcgJiYgZiAhPT0gbnVsbCkge1xuICAgIHZhciBsZW4gPSBhcmdzLmxlbmd0aCArIG9mZnNldFxuICAgIGlmIChsZW4gPT09IDEpIHJldHVybiBmXG4gICAgdmFyIG9iamVjdHMgPSBuZXcgQXJyYXkobGVuKVxuICAgIG9iamVjdHNbMF0gPSBzcyhmKVxuICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBsZW47IGluZGV4KyspIHtcbiAgICAgIG9iamVjdHNbaW5kZXhdID0gc3MoYXJnc1tpbmRleF0pXG4gICAgfVxuICAgIHJldHVybiBvYmplY3RzLmpvaW4oJyAnKVxuICB9XG4gIGlmICh0eXBlb2YgZiAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZlxuICB9XG4gIHZhciBhcmdMZW4gPSBhcmdzLmxlbmd0aFxuICBpZiAoYXJnTGVuID09PSAwKSByZXR1cm4gZlxuICB2YXIgc3RyID0gJydcbiAgdmFyIGEgPSAxIC0gb2Zmc2V0XG4gIHZhciBsYXN0UG9zID0gLTFcbiAgdmFyIGZsZW4gPSAoZiAmJiBmLmxlbmd0aCkgfHwgMFxuICBmb3IgKHZhciBpID0gMDsgaSA8IGZsZW47KSB7XG4gICAgaWYgKGYuY2hhckNvZGVBdChpKSA9PT0gMzcgJiYgaSArIDEgPCBmbGVuKSB7XG4gICAgICBsYXN0UG9zID0gbGFzdFBvcyA+IC0xID8gbGFzdFBvcyA6IDBcbiAgICAgIHN3aXRjaCAoZi5jaGFyQ29kZUF0KGkgKyAxKSkge1xuICAgICAgICBjYXNlIDEwMDogLy8gJ2QnXG4gICAgICAgIGNhc2UgMTAyOiAvLyAnZidcbiAgICAgICAgICBpZiAoYSA+PSBhcmdMZW4pXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGlmIChhcmdzW2FdID09IG51bGwpICBicmVha1xuICAgICAgICAgIGlmIChsYXN0UG9zIDwgaSlcbiAgICAgICAgICAgIHN0ciArPSBmLnNsaWNlKGxhc3RQb3MsIGkpXG4gICAgICAgICAgc3RyICs9IE51bWJlcihhcmdzW2FdKVxuICAgICAgICAgIGxhc3RQb3MgPSBpICsgMlxuICAgICAgICAgIGkrK1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMTA1OiAvLyAnaSdcbiAgICAgICAgICBpZiAoYSA+PSBhcmdMZW4pXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGlmIChhcmdzW2FdID09IG51bGwpICBicmVha1xuICAgICAgICAgIGlmIChsYXN0UG9zIDwgaSlcbiAgICAgICAgICAgIHN0ciArPSBmLnNsaWNlKGxhc3RQb3MsIGkpXG4gICAgICAgICAgc3RyICs9IE1hdGguZmxvb3IoTnVtYmVyKGFyZ3NbYV0pKVxuICAgICAgICAgIGxhc3RQb3MgPSBpICsgMlxuICAgICAgICAgIGkrK1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgNzk6IC8vICdPJ1xuICAgICAgICBjYXNlIDExMTogLy8gJ28nXG4gICAgICAgIGNhc2UgMTA2OiAvLyAnaidcbiAgICAgICAgICBpZiAoYSA+PSBhcmdMZW4pXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGlmIChhcmdzW2FdID09PSB1bmRlZmluZWQpIGJyZWFrXG4gICAgICAgICAgaWYgKGxhc3RQb3MgPCBpKVxuICAgICAgICAgICAgc3RyICs9IGYuc2xpY2UobGFzdFBvcywgaSlcbiAgICAgICAgICB2YXIgdHlwZSA9IHR5cGVvZiBhcmdzW2FdXG4gICAgICAgICAgaWYgKHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBzdHIgKz0gJ1xcJycgKyBhcmdzW2FdICsgJ1xcJydcbiAgICAgICAgICAgIGxhc3RQb3MgPSBpICsgMlxuICAgICAgICAgICAgaSsrXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgc3RyICs9IGFyZ3NbYV0ubmFtZSB8fCAnPGFub255bW91cz4nXG4gICAgICAgICAgICBsYXN0UG9zID0gaSArIDJcbiAgICAgICAgICAgIGkrK1xuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RyICs9IHNzKGFyZ3NbYV0pXG4gICAgICAgICAgbGFzdFBvcyA9IGkgKyAyXG4gICAgICAgICAgaSsrXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAxMTU6IC8vICdzJ1xuICAgICAgICAgIGlmIChhID49IGFyZ0xlbilcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgaWYgKGxhc3RQb3MgPCBpKVxuICAgICAgICAgICAgc3RyICs9IGYuc2xpY2UobGFzdFBvcywgaSlcbiAgICAgICAgICBzdHIgKz0gU3RyaW5nKGFyZ3NbYV0pXG4gICAgICAgICAgbGFzdFBvcyA9IGkgKyAyXG4gICAgICAgICAgaSsrXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAzNzogLy8gJyUnXG4gICAgICAgICAgaWYgKGxhc3RQb3MgPCBpKVxuICAgICAgICAgICAgc3RyICs9IGYuc2xpY2UobGFzdFBvcywgaSlcbiAgICAgICAgICBzdHIgKz0gJyUnXG4gICAgICAgICAgbGFzdFBvcyA9IGkgKyAyXG4gICAgICAgICAgaSsrXG4gICAgICAgICAgYS0tXG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgICsrYVxuICAgIH1cbiAgICArK2lcbiAgfVxuICBpZiAobGFzdFBvcyA9PT0gLTEpXG4gICAgcmV0dXJuIGZcbiAgZWxzZSBpZiAobGFzdFBvcyA8IGZsZW4pIHtcbiAgICBzdHIgKz0gZi5zbGljZShsYXN0UG9zKVxuICB9XG5cbiAgcmV0dXJuIHN0clxufVxuIiwgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBmb3JtYXQgPSByZXF1aXJlKCdxdWljay1mb3JtYXQtdW5lc2NhcGVkJylcblxubW9kdWxlLmV4cG9ydHMgPSBwaW5vXG5cbmNvbnN0IF9jb25zb2xlID0gcGZHbG9iYWxUaGlzT3JGYWxsYmFjaygpLmNvbnNvbGUgfHwge31cbmNvbnN0IHN0ZFNlcmlhbGl6ZXJzID0ge1xuICBtYXBIdHRwUmVxdWVzdDogbW9jayxcbiAgbWFwSHR0cFJlc3BvbnNlOiBtb2NrLFxuICB3cmFwUmVxdWVzdFNlcmlhbGl6ZXI6IHBhc3N0aHJvdWdoLFxuICB3cmFwUmVzcG9uc2VTZXJpYWxpemVyOiBwYXNzdGhyb3VnaCxcbiAgd3JhcEVycm9yU2VyaWFsaXplcjogcGFzc3Rocm91Z2gsXG4gIHJlcTogbW9jayxcbiAgcmVzOiBtb2NrLFxuICBlcnI6IGFzRXJyVmFsdWUsXG4gIGVycldpdGhDYXVzZTogYXNFcnJWYWx1ZVxufVxuXG5mdW5jdGlvbiBzaG91bGRTZXJpYWxpemUgKHNlcmlhbGl6ZSwgc2VyaWFsaXplcnMpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoc2VyaWFsaXplKSkge1xuICAgIGNvbnN0IGhhc1RvRmlsdGVyID0gc2VyaWFsaXplLmZpbHRlcihmdW5jdGlvbiAoaykge1xuICAgICAgcmV0dXJuIGsgIT09ICchc3RkU2VyaWFsaXplcnMuZXJyJ1xuICAgIH0pXG4gICAgcmV0dXJuIGhhc1RvRmlsdGVyXG4gIH0gZWxzZSBpZiAoc2VyaWFsaXplID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHNlcmlhbGl6ZXJzKVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmZ1bmN0aW9uIHBpbm8gKG9wdHMpIHtcbiAgb3B0cyA9IG9wdHMgfHwge31cbiAgb3B0cy5icm93c2VyID0gb3B0cy5icm93c2VyIHx8IHt9XG5cbiAgY29uc3QgdHJhbnNtaXQgPSBvcHRzLmJyb3dzZXIudHJhbnNtaXRcbiAgaWYgKHRyYW5zbWl0ICYmIHR5cGVvZiB0cmFuc21pdC5zZW5kICE9PSAnZnVuY3Rpb24nKSB7IHRocm93IEVycm9yKCdwaW5vOiB0cmFuc21pdCBvcHRpb24gbXVzdCBoYXZlIGEgc2VuZCBmdW5jdGlvbicpIH1cblxuICBjb25zdCBwcm90byA9IG9wdHMuYnJvd3Nlci53cml0ZSB8fCBfY29uc29sZVxuICBpZiAob3B0cy5icm93c2VyLndyaXRlKSBvcHRzLmJyb3dzZXIuYXNPYmplY3QgPSB0cnVlXG4gIGNvbnN0IHNlcmlhbGl6ZXJzID0gb3B0cy5zZXJpYWxpemVycyB8fCB7fVxuICBjb25zdCBzZXJpYWxpemUgPSBzaG91bGRTZXJpYWxpemUob3B0cy5icm93c2VyLnNlcmlhbGl6ZSwgc2VyaWFsaXplcnMpXG4gIGxldCBzdGRFcnJTZXJpYWxpemUgPSBvcHRzLmJyb3dzZXIuc2VyaWFsaXplXG5cbiAgaWYgKFxuICAgIEFycmF5LmlzQXJyYXkob3B0cy5icm93c2VyLnNlcmlhbGl6ZSkgJiZcbiAgICBvcHRzLmJyb3dzZXIuc2VyaWFsaXplLmluZGV4T2YoJyFzdGRTZXJpYWxpemVycy5lcnInKSA+IC0xXG4gICkgc3RkRXJyU2VyaWFsaXplID0gZmFsc2VcblxuICBjb25zdCBjdXN0b21MZXZlbHMgPSBPYmplY3Qua2V5cyhvcHRzLmN1c3RvbUxldmVscyB8fCB7fSlcbiAgY29uc3QgbGV2ZWxzID0gWydlcnJvcicsICdmYXRhbCcsICd3YXJuJywgJ2luZm8nLCAnZGVidWcnLCAndHJhY2UnXS5jb25jYXQoY3VzdG9tTGV2ZWxzKVxuXG4gIGlmICh0eXBlb2YgcHJvdG8gPT09ICdmdW5jdGlvbicpIHtcbiAgICBsZXZlbHMuZm9yRWFjaChmdW5jdGlvbiAobGV2ZWwpIHtcbiAgICAgIHByb3RvW2xldmVsXSA9IHByb3RvXG4gICAgfSlcbiAgfVxuICBpZiAob3B0cy5lbmFibGVkID09PSBmYWxzZSB8fCBvcHRzLmJyb3dzZXIuZGlzYWJsZWQpIG9wdHMubGV2ZWwgPSAnc2lsZW50J1xuICBjb25zdCBsZXZlbCA9IG9wdHMubGV2ZWwgfHwgJ2luZm8nXG4gIGNvbnN0IGxvZ2dlciA9IE9iamVjdC5jcmVhdGUocHJvdG8pXG4gIGlmICghbG9nZ2VyLmxvZykgbG9nZ2VyLmxvZyA9IG5vb3BcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkobG9nZ2VyLCAnbGV2ZWxWYWwnLCB7XG4gICAgZ2V0OiBnZXRMZXZlbFZhbFxuICB9KVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkobG9nZ2VyLCAnbGV2ZWwnLCB7XG4gICAgZ2V0OiBnZXRMZXZlbCxcbiAgICBzZXQ6IHNldExldmVsXG4gIH0pXG5cbiAgY29uc3Qgc2V0T3B0cyA9IHtcbiAgICB0cmFuc21pdCxcbiAgICBzZXJpYWxpemUsXG4gICAgYXNPYmplY3Q6IG9wdHMuYnJvd3Nlci5hc09iamVjdCxcbiAgICBsZXZlbHMsXG4gICAgdGltZXN0YW1wOiBnZXRUaW1lRnVuY3Rpb24ob3B0cylcbiAgfVxuICBsb2dnZXIubGV2ZWxzID0gZ2V0TGV2ZWxzKG9wdHMpXG4gIGxvZ2dlci5sZXZlbCA9IGxldmVsXG5cbiAgbG9nZ2VyLnNldE1heExpc3RlbmVycyA9IGxvZ2dlci5nZXRNYXhMaXN0ZW5lcnMgPVxuICBsb2dnZXIuZW1pdCA9IGxvZ2dlci5hZGRMaXN0ZW5lciA9IGxvZ2dlci5vbiA9XG4gIGxvZ2dlci5wcmVwZW5kTGlzdGVuZXIgPSBsb2dnZXIub25jZSA9XG4gIGxvZ2dlci5wcmVwZW5kT25jZUxpc3RlbmVyID0gbG9nZ2VyLnJlbW92ZUxpc3RlbmVyID1cbiAgbG9nZ2VyLnJlbW92ZUFsbExpc3RlbmVycyA9IGxvZ2dlci5saXN0ZW5lcnMgPVxuICBsb2dnZXIubGlzdGVuZXJDb3VudCA9IGxvZ2dlci5ldmVudE5hbWVzID1cbiAgbG9nZ2VyLndyaXRlID0gbG9nZ2VyLmZsdXNoID0gbm9vcFxuICBsb2dnZXIuc2VyaWFsaXplcnMgPSBzZXJpYWxpemVyc1xuICBsb2dnZXIuX3NlcmlhbGl6ZSA9IHNlcmlhbGl6ZVxuICBsb2dnZXIuX3N0ZEVyclNlcmlhbGl6ZSA9IHN0ZEVyclNlcmlhbGl6ZVxuICBsb2dnZXIuY2hpbGQgPSBjaGlsZFxuXG4gIGlmICh0cmFuc21pdCkgbG9nZ2VyLl9sb2dFdmVudCA9IGNyZWF0ZUxvZ0V2ZW50U2hhcGUoKVxuXG4gIGZ1bmN0aW9uIGdldExldmVsVmFsICgpIHtcbiAgICByZXR1cm4gdGhpcy5sZXZlbCA9PT0gJ3NpbGVudCdcbiAgICAgID8gSW5maW5pdHlcbiAgICAgIDogdGhpcy5sZXZlbHMudmFsdWVzW3RoaXMubGV2ZWxdXG4gIH1cblxuICBmdW5jdGlvbiBnZXRMZXZlbCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xldmVsXG4gIH1cbiAgZnVuY3Rpb24gc2V0TGV2ZWwgKGxldmVsKSB7XG4gICAgaWYgKGxldmVsICE9PSAnc2lsZW50JyAmJiAhdGhpcy5sZXZlbHMudmFsdWVzW2xldmVsXSkge1xuICAgICAgdGhyb3cgRXJyb3IoJ3Vua25vd24gbGV2ZWwgJyArIGxldmVsKVxuICAgIH1cbiAgICB0aGlzLl9sZXZlbCA9IGxldmVsXG5cbiAgICBzZXQoc2V0T3B0cywgbG9nZ2VyLCAnZXJyb3InLCAnbG9nJykgLy8gPC0tIG11c3Qgc3RheSBmaXJzdFxuICAgIHNldChzZXRPcHRzLCBsb2dnZXIsICdmYXRhbCcsICdlcnJvcicpXG4gICAgc2V0KHNldE9wdHMsIGxvZ2dlciwgJ3dhcm4nLCAnZXJyb3InKVxuICAgIHNldChzZXRPcHRzLCBsb2dnZXIsICdpbmZvJywgJ2xvZycpXG4gICAgc2V0KHNldE9wdHMsIGxvZ2dlciwgJ2RlYnVnJywgJ2xvZycpXG4gICAgc2V0KHNldE9wdHMsIGxvZ2dlciwgJ3RyYWNlJywgJ2xvZycpXG5cbiAgICBjdXN0b21MZXZlbHMuZm9yRWFjaChmdW5jdGlvbiAobGV2ZWwpIHtcbiAgICAgIHNldChzZXRPcHRzLCBsb2dnZXIsIGxldmVsLCAnbG9nJylcbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gY2hpbGQgKGJpbmRpbmdzLCBjaGlsZE9wdGlvbnMpIHtcbiAgICBpZiAoIWJpbmRpbmdzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ21pc3NpbmcgYmluZGluZ3MgZm9yIGNoaWxkIFBpbm8nKVxuICAgIH1cbiAgICBjaGlsZE9wdGlvbnMgPSBjaGlsZE9wdGlvbnMgfHwge31cbiAgICBpZiAoc2VyaWFsaXplICYmIGJpbmRpbmdzLnNlcmlhbGl6ZXJzKSB7XG4gICAgICBjaGlsZE9wdGlvbnMuc2VyaWFsaXplcnMgPSBiaW5kaW5ncy5zZXJpYWxpemVyc1xuICAgIH1cbiAgICBjb25zdCBjaGlsZE9wdGlvbnNTZXJpYWxpemVycyA9IGNoaWxkT3B0aW9ucy5zZXJpYWxpemVyc1xuICAgIGlmIChzZXJpYWxpemUgJiYgY2hpbGRPcHRpb25zU2VyaWFsaXplcnMpIHtcbiAgICAgIHZhciBjaGlsZFNlcmlhbGl6ZXJzID0gT2JqZWN0LmFzc2lnbih7fSwgc2VyaWFsaXplcnMsIGNoaWxkT3B0aW9uc1NlcmlhbGl6ZXJzKVxuICAgICAgdmFyIGNoaWxkU2VyaWFsaXplID0gb3B0cy5icm93c2VyLnNlcmlhbGl6ZSA9PT0gdHJ1ZVxuICAgICAgICA/IE9iamVjdC5rZXlzKGNoaWxkU2VyaWFsaXplcnMpXG4gICAgICAgIDogc2VyaWFsaXplXG4gICAgICBkZWxldGUgYmluZGluZ3Muc2VyaWFsaXplcnNcbiAgICAgIGFwcGx5U2VyaWFsaXplcnMoW2JpbmRpbmdzXSwgY2hpbGRTZXJpYWxpemUsIGNoaWxkU2VyaWFsaXplcnMsIHRoaXMuX3N0ZEVyclNlcmlhbGl6ZSlcbiAgICB9XG4gICAgZnVuY3Rpb24gQ2hpbGQgKHBhcmVudCkge1xuICAgICAgdGhpcy5fY2hpbGRMZXZlbCA9IChwYXJlbnQuX2NoaWxkTGV2ZWwgfCAwKSArIDFcbiAgICAgIHRoaXMuZXJyb3IgPSBiaW5kKHBhcmVudCwgYmluZGluZ3MsICdlcnJvcicpXG4gICAgICB0aGlzLmZhdGFsID0gYmluZChwYXJlbnQsIGJpbmRpbmdzLCAnZmF0YWwnKVxuICAgICAgdGhpcy53YXJuID0gYmluZChwYXJlbnQsIGJpbmRpbmdzLCAnd2FybicpXG4gICAgICB0aGlzLmluZm8gPSBiaW5kKHBhcmVudCwgYmluZGluZ3MsICdpbmZvJylcbiAgICAgIHRoaXMuZGVidWcgPSBiaW5kKHBhcmVudCwgYmluZGluZ3MsICdkZWJ1ZycpXG4gICAgICB0aGlzLnRyYWNlID0gYmluZChwYXJlbnQsIGJpbmRpbmdzLCAndHJhY2UnKVxuICAgICAgaWYgKGNoaWxkU2VyaWFsaXplcnMpIHtcbiAgICAgICAgdGhpcy5zZXJpYWxpemVycyA9IGNoaWxkU2VyaWFsaXplcnNcbiAgICAgICAgdGhpcy5fc2VyaWFsaXplID0gY2hpbGRTZXJpYWxpemVcbiAgICAgIH1cbiAgICAgIGlmICh0cmFuc21pdCkge1xuICAgICAgICB0aGlzLl9sb2dFdmVudCA9IGNyZWF0ZUxvZ0V2ZW50U2hhcGUoXG4gICAgICAgICAgW10uY29uY2F0KHBhcmVudC5fbG9nRXZlbnQuYmluZGluZ3MsIGJpbmRpbmdzKVxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICAgIENoaWxkLnByb3RvdHlwZSA9IHRoaXNcbiAgICByZXR1cm4gbmV3IENoaWxkKHRoaXMpXG4gIH1cbiAgcmV0dXJuIGxvZ2dlclxufVxuXG5mdW5jdGlvbiBnZXRMZXZlbHMgKG9wdHMpIHtcbiAgY29uc3QgY3VzdG9tTGV2ZWxzID0gb3B0cy5jdXN0b21MZXZlbHMgfHwge31cblxuICBjb25zdCB2YWx1ZXMgPSBPYmplY3QuYXNzaWduKHt9LCBwaW5vLmxldmVscy52YWx1ZXMsIGN1c3RvbUxldmVscylcbiAgY29uc3QgbGFiZWxzID0gT2JqZWN0LmFzc2lnbih7fSwgcGluby5sZXZlbHMubGFiZWxzLCBpbnZlcnRPYmplY3QoY3VzdG9tTGV2ZWxzKSlcblxuICByZXR1cm4ge1xuICAgIHZhbHVlcyxcbiAgICBsYWJlbHNcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnZlcnRPYmplY3QgKG9iaikge1xuICBjb25zdCBpbnZlcnRlZCA9IHt9XG4gIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaW52ZXJ0ZWRbb2JqW2tleV1dID0ga2V5XG4gIH0pXG4gIHJldHVybiBpbnZlcnRlZFxufVxuXG5waW5vLmxldmVscyA9IHtcbiAgdmFsdWVzOiB7XG4gICAgZmF0YWw6IDYwLFxuICAgIGVycm9yOiA1MCxcbiAgICB3YXJuOiA0MCxcbiAgICBpbmZvOiAzMCxcbiAgICBkZWJ1ZzogMjAsXG4gICAgdHJhY2U6IDEwXG4gIH0sXG4gIGxhYmVsczoge1xuICAgIDEwOiAndHJhY2UnLFxuICAgIDIwOiAnZGVidWcnLFxuICAgIDMwOiAnaW5mbycsXG4gICAgNDA6ICd3YXJuJyxcbiAgICA1MDogJ2Vycm9yJyxcbiAgICA2MDogJ2ZhdGFsJ1xuICB9XG59XG5cbnBpbm8uc3RkU2VyaWFsaXplcnMgPSBzdGRTZXJpYWxpemVyc1xucGluby5zdGRUaW1lRnVuY3Rpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgeyBudWxsVGltZSwgZXBvY2hUaW1lLCB1bml4VGltZSwgaXNvVGltZSB9KVxuXG5mdW5jdGlvbiBzZXQgKG9wdHMsIGxvZ2dlciwgbGV2ZWwsIGZhbGxiYWNrKSB7XG4gIGNvbnN0IHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGxvZ2dlcilcbiAgbG9nZ2VyW2xldmVsXSA9IGxvZ2dlci5sZXZlbFZhbCA+IGxvZ2dlci5sZXZlbHMudmFsdWVzW2xldmVsXVxuICAgID8gbm9vcFxuICAgIDogKHByb3RvW2xldmVsXSA/IHByb3RvW2xldmVsXSA6IChfY29uc29sZVtsZXZlbF0gfHwgX2NvbnNvbGVbZmFsbGJhY2tdIHx8IG5vb3ApKVxuXG4gIHdyYXAob3B0cywgbG9nZ2VyLCBsZXZlbClcbn1cblxuZnVuY3Rpb24gd3JhcCAob3B0cywgbG9nZ2VyLCBsZXZlbCkge1xuICBpZiAoIW9wdHMudHJhbnNtaXQgJiYgbG9nZ2VyW2xldmVsXSA9PT0gbm9vcCkgcmV0dXJuXG5cbiAgbG9nZ2VyW2xldmVsXSA9IChmdW5jdGlvbiAod3JpdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gTE9HICgpIHtcbiAgICAgIGNvbnN0IHRzID0gb3B0cy50aW1lc3RhbXAoKVxuICAgICAgY29uc3QgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKVxuICAgICAgY29uc3QgcHJvdG8gPSAoT2JqZWN0LmdldFByb3RvdHlwZU9mICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSA9PT0gX2NvbnNvbGUpID8gX2NvbnNvbGUgOiB0aGlzXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV1cblxuICAgICAgaWYgKG9wdHMuc2VyaWFsaXplICYmICFvcHRzLmFzT2JqZWN0KSB7XG4gICAgICAgIGFwcGx5U2VyaWFsaXplcnMoYXJncywgdGhpcy5fc2VyaWFsaXplLCB0aGlzLnNlcmlhbGl6ZXJzLCB0aGlzLl9zdGRFcnJTZXJpYWxpemUpXG4gICAgICB9XG4gICAgICBpZiAob3B0cy5hc09iamVjdCkgd3JpdGUuY2FsbChwcm90bywgYXNPYmplY3QodGhpcywgbGV2ZWwsIGFyZ3MsIHRzKSlcbiAgICAgIGVsc2Ugd3JpdGUuYXBwbHkocHJvdG8sIGFyZ3MpXG5cbiAgICAgIGlmIChvcHRzLnRyYW5zbWl0KSB7XG4gICAgICAgIGNvbnN0IHRyYW5zbWl0TGV2ZWwgPSBvcHRzLnRyYW5zbWl0LmxldmVsIHx8IGxvZ2dlci5sZXZlbFxuICAgICAgICBjb25zdCB0cmFuc21pdFZhbHVlID0gbG9nZ2VyLmxldmVscy52YWx1ZXNbdHJhbnNtaXRMZXZlbF1cbiAgICAgICAgY29uc3QgbWV0aG9kVmFsdWUgPSBsb2dnZXIubGV2ZWxzLnZhbHVlc1tsZXZlbF1cbiAgICAgICAgaWYgKG1ldGhvZFZhbHVlIDwgdHJhbnNtaXRWYWx1ZSkgcmV0dXJuXG4gICAgICAgIHRyYW5zbWl0KHRoaXMsIHtcbiAgICAgICAgICB0cyxcbiAgICAgICAgICBtZXRob2RMZXZlbDogbGV2ZWwsXG4gICAgICAgICAgbWV0aG9kVmFsdWUsXG4gICAgICAgICAgdHJhbnNtaXRMZXZlbCxcbiAgICAgICAgICB0cmFuc21pdFZhbHVlOiBsb2dnZXIubGV2ZWxzLnZhbHVlc1tvcHRzLnRyYW5zbWl0LmxldmVsIHx8IGxvZ2dlci5sZXZlbF0sXG4gICAgICAgICAgc2VuZDogb3B0cy50cmFuc21pdC5zZW5kLFxuICAgICAgICAgIHZhbDogbG9nZ2VyLmxldmVsVmFsXG4gICAgICAgIH0sIGFyZ3MpXG4gICAgICB9XG4gICAgfVxuICB9KShsb2dnZXJbbGV2ZWxdKVxufVxuXG5mdW5jdGlvbiBhc09iamVjdCAobG9nZ2VyLCBsZXZlbCwgYXJncywgdHMpIHtcbiAgaWYgKGxvZ2dlci5fc2VyaWFsaXplKSBhcHBseVNlcmlhbGl6ZXJzKGFyZ3MsIGxvZ2dlci5fc2VyaWFsaXplLCBsb2dnZXIuc2VyaWFsaXplcnMsIGxvZ2dlci5fc3RkRXJyU2VyaWFsaXplKVxuICBjb25zdCBhcmdzQ2xvbmVkID0gYXJncy5zbGljZSgpXG4gIGxldCBtc2cgPSBhcmdzQ2xvbmVkWzBdXG4gIGNvbnN0IG8gPSB7fVxuICBpZiAodHMpIHtcbiAgICBvLnRpbWUgPSB0c1xuICB9XG4gIG8ubGV2ZWwgPSBsb2dnZXIubGV2ZWxzLnZhbHVlc1tsZXZlbF1cbiAgbGV0IGx2bCA9IChsb2dnZXIuX2NoaWxkTGV2ZWwgfCAwKSArIDFcbiAgaWYgKGx2bCA8IDEpIGx2bCA9IDFcbiAgLy8gZGVsaWJlcmF0ZSwgY2F0Y2hpbmcgb2JqZWN0cywgYXJyYXlzXG4gIGlmIChtc2cgIT09IG51bGwgJiYgdHlwZW9mIG1zZyA9PT0gJ29iamVjdCcpIHtcbiAgICB3aGlsZSAobHZsLS0gJiYgdHlwZW9mIGFyZ3NDbG9uZWRbMF0gPT09ICdvYmplY3QnKSB7XG4gICAgICBPYmplY3QuYXNzaWduKG8sIGFyZ3NDbG9uZWQuc2hpZnQoKSlcbiAgICB9XG4gICAgbXNnID0gYXJnc0Nsb25lZC5sZW5ndGggPyBmb3JtYXQoYXJnc0Nsb25lZC5zaGlmdCgpLCBhcmdzQ2xvbmVkKSA6IHVuZGVmaW5lZFxuICB9IGVsc2UgaWYgKHR5cGVvZiBtc2cgPT09ICdzdHJpbmcnKSBtc2cgPSBmb3JtYXQoYXJnc0Nsb25lZC5zaGlmdCgpLCBhcmdzQ2xvbmVkKVxuICBpZiAobXNnICE9PSB1bmRlZmluZWQpIG8ubXNnID0gbXNnXG4gIHJldHVybiBvXG59XG5cbmZ1bmN0aW9uIGFwcGx5U2VyaWFsaXplcnMgKGFyZ3MsIHNlcmlhbGl6ZSwgc2VyaWFsaXplcnMsIHN0ZEVyclNlcmlhbGl6ZSkge1xuICBmb3IgKGNvbnN0IGkgaW4gYXJncykge1xuICAgIGlmIChzdGRFcnJTZXJpYWxpemUgJiYgYXJnc1tpXSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICBhcmdzW2ldID0gcGluby5zdGRTZXJpYWxpemVycy5lcnIoYXJnc1tpXSlcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBhcmdzW2ldID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShhcmdzW2ldKSkge1xuICAgICAgZm9yIChjb25zdCBrIGluIGFyZ3NbaV0pIHtcbiAgICAgICAgaWYgKHNlcmlhbGl6ZSAmJiBzZXJpYWxpemUuaW5kZXhPZihrKSA+IC0xICYmIGsgaW4gc2VyaWFsaXplcnMpIHtcbiAgICAgICAgICBhcmdzW2ldW2tdID0gc2VyaWFsaXplcnNba10oYXJnc1tpXVtrXSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBiaW5kIChwYXJlbnQsIGJpbmRpbmdzLCBsZXZlbCkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGFyZ3MgPSBuZXcgQXJyYXkoMSArIGFyZ3VtZW50cy5sZW5ndGgpXG4gICAgYXJnc1swXSA9IGJpbmRpbmdzXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2kgLSAxXVxuICAgIH1cbiAgICByZXR1cm4gcGFyZW50W2xldmVsXS5hcHBseSh0aGlzLCBhcmdzKVxuICB9XG59XG5cbmZ1bmN0aW9uIHRyYW5zbWl0IChsb2dnZXIsIG9wdHMsIGFyZ3MpIHtcbiAgY29uc3Qgc2VuZCA9IG9wdHMuc2VuZFxuICBjb25zdCB0cyA9IG9wdHMudHNcbiAgY29uc3QgbWV0aG9kTGV2ZWwgPSBvcHRzLm1ldGhvZExldmVsXG4gIGNvbnN0IG1ldGhvZFZhbHVlID0gb3B0cy5tZXRob2RWYWx1ZVxuICBjb25zdCB2YWwgPSBvcHRzLnZhbFxuICBjb25zdCBiaW5kaW5ncyA9IGxvZ2dlci5fbG9nRXZlbnQuYmluZGluZ3NcblxuICBhcHBseVNlcmlhbGl6ZXJzKFxuICAgIGFyZ3MsXG4gICAgbG9nZ2VyLl9zZXJpYWxpemUgfHwgT2JqZWN0LmtleXMobG9nZ2VyLnNlcmlhbGl6ZXJzKSxcbiAgICBsb2dnZXIuc2VyaWFsaXplcnMsXG4gICAgbG9nZ2VyLl9zdGRFcnJTZXJpYWxpemUgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBsb2dnZXIuX3N0ZEVyclNlcmlhbGl6ZVxuICApXG4gIGxvZ2dlci5fbG9nRXZlbnQudHMgPSB0c1xuICBsb2dnZXIuX2xvZ0V2ZW50Lm1lc3NhZ2VzID0gYXJncy5maWx0ZXIoZnVuY3Rpb24gKGFyZykge1xuICAgIC8vIGJpbmRpbmdzIGNhbiBvbmx5IGJlIG9iamVjdHMsIHNvIHJlZmVyZW5jZSBlcXVhbGl0eSBjaGVjayB2aWEgaW5kZXhPZiBpcyBmaW5lXG4gICAgcmV0dXJuIGJpbmRpbmdzLmluZGV4T2YoYXJnKSA9PT0gLTFcbiAgfSlcblxuICBsb2dnZXIuX2xvZ0V2ZW50LmxldmVsLmxhYmVsID0gbWV0aG9kTGV2ZWxcbiAgbG9nZ2VyLl9sb2dFdmVudC5sZXZlbC52YWx1ZSA9IG1ldGhvZFZhbHVlXG5cbiAgc2VuZChtZXRob2RMZXZlbCwgbG9nZ2VyLl9sb2dFdmVudCwgdmFsKVxuXG4gIGxvZ2dlci5fbG9nRXZlbnQgPSBjcmVhdGVMb2dFdmVudFNoYXBlKGJpbmRpbmdzKVxufVxuXG5mdW5jdGlvbiBjcmVhdGVMb2dFdmVudFNoYXBlIChiaW5kaW5ncykge1xuICByZXR1cm4ge1xuICAgIHRzOiAwLFxuICAgIG1lc3NhZ2VzOiBbXSxcbiAgICBiaW5kaW5nczogYmluZGluZ3MgfHwgW10sXG4gICAgbGV2ZWw6IHsgbGFiZWw6ICcnLCB2YWx1ZTogMCB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXNFcnJWYWx1ZSAoZXJyKSB7XG4gIGNvbnN0IG9iaiA9IHtcbiAgICB0eXBlOiBlcnIuY29uc3RydWN0b3IubmFtZSxcbiAgICBtc2c6IGVyci5tZXNzYWdlLFxuICAgIHN0YWNrOiBlcnIuc3RhY2tcbiAgfVxuICBmb3IgKGNvbnN0IGtleSBpbiBlcnIpIHtcbiAgICBpZiAob2JqW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgb2JqW2tleV0gPSBlcnJba2V5XVxuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqXG59XG5cbmZ1bmN0aW9uIGdldFRpbWVGdW5jdGlvbiAob3B0cykge1xuICBpZiAodHlwZW9mIG9wdHMudGltZXN0YW1wID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG9wdHMudGltZXN0YW1wXG4gIH1cbiAgaWYgKG9wdHMudGltZXN0YW1wID09PSBmYWxzZSkge1xuICAgIHJldHVybiBudWxsVGltZVxuICB9XG4gIHJldHVybiBlcG9jaFRpbWVcbn1cblxuZnVuY3Rpb24gbW9jayAoKSB7IHJldHVybiB7fSB9XG5mdW5jdGlvbiBwYXNzdGhyb3VnaCAoYSkgeyByZXR1cm4gYSB9XG5mdW5jdGlvbiBub29wICgpIHt9XG5cbmZ1bmN0aW9uIG51bGxUaW1lICgpIHsgcmV0dXJuIGZhbHNlIH1cbmZ1bmN0aW9uIGVwb2NoVGltZSAoKSB7IHJldHVybiBEYXRlLm5vdygpIH1cbmZ1bmN0aW9uIHVuaXhUaW1lICgpIHsgcmV0dXJuIE1hdGgucm91bmQoRGF0ZS5ub3coKSAvIDEwMDAuMCkgfVxuZnVuY3Rpb24gaXNvVGltZSAoKSB7IHJldHVybiBuZXcgRGF0ZShEYXRlLm5vdygpKS50b0lTT1N0cmluZygpIH0gLy8gdXNpbmcgRGF0ZS5ub3coKSBmb3IgdGVzdGFiaWxpdHlcblxuLyogZXNsaW50LWRpc2FibGUgKi9cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5mdW5jdGlvbiBwZkdsb2JhbFRoaXNPckZhbGxiYWNrICgpIHtcbiAgZnVuY3Rpb24gZGVmZCAobykgeyByZXR1cm4gdHlwZW9mIG8gIT09ICd1bmRlZmluZWQnICYmIG8gfVxuICB0cnkge1xuICAgIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcpIHJldHVybiBnbG9iYWxUaGlzXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE9iamVjdC5wcm90b3R5cGUsICdnbG9iYWxUaGlzJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRlbGV0ZSBPYmplY3QucHJvdG90eXBlLmdsb2JhbFRoaXNcbiAgICAgICAgcmV0dXJuICh0aGlzLmdsb2JhbFRoaXMgPSB0aGlzKVxuICAgICAgfSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pXG4gICAgcmV0dXJuIGdsb2JhbFRoaXNcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBkZWZkKHNlbGYpIHx8IGRlZmQod2luZG93KSB8fCBkZWZkKHRoaXMpIHx8IHt9XG4gIH1cbn1cbi8qIGVzbGludC1lbmFibGUgKi9cbiIsICJpbXBvcnQgeyBBcHAsIFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZywgTm90aWNlLCBGaWxlU3lzdGVtQWRhcHRlciB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCBvYnNpZGlvc2F1cnVzUHJvY2VzcyBmcm9tICdzcmMvbWFpblByb2Nlc3NvcidcbmltcG9ydCB7IENvbmZpZyB9IGZyb20gJ3NyYy90eXBlcydcbmltcG9ydCBwaW5vIGZyb20gJ3Bpbm8nO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgeyBzZXRTZXR0aW5ncyB9IGZyb20gJ2NvbmZpZyc7XG5cbmV4cG9ydCBjb25zdCBsb2dnZXIgPSBwaW5vKCk7XG5cbmV4cG9ydCBjb25zdCBjb25maWc6IENvbmZpZyA9IHtcblx0b2JzaWRpYW5WYXVsdERpcmVjdG9yeTogXCIuL3ZhdWx0XCIsXG5cdGRvY3VzYXVydXNXZWJzaXRlRGlyZWN0b3J5OiBcIi4vd2Vic2l0ZVwiLFxuXHRvYnNpZGlhbkFzc2V0U3ViZm9sZGVyTmFtZTogXCJhc3NldHNcIixcblx0ZG9jdXNhdXJ1c0Fzc2V0U3ViZm9sZGVyTmFtZTogXCJhc3NldHNcIixcblx0bWFpbkxhbmd1YWdlOiBcImVuXCIsXG5cdGNvbnZlcnRlZEltYWdlVHlwZTogXCJ3ZWJwXCIsXG5cdGNvbnZlcnRlZEltYWdlTWF4V2lkdGg6IFwiMjUwMFwiLFxuXHRkZWJ1ZzogZmFsc2UsXG5cdGRldmVsb3BlcjogZmFsc2Vcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT2JzaWRpc2F1cnVzIGV4dGVuZHMgUGx1Z2luIHtcblx0c2V0dGluZ3M6IENvbmZpZztcblxuXHRhc3luYyBvbmxvYWQoKSB7XG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5kZWJ1Zykge1xuXHRcdFx0bG9nZ2VyLmluZm8oXCJcdUQ4M0RcdURGRTIgT2JzaWRpb3NhdXJ1cyBQbHVnaW4gbG9hZGVkXCIpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHJpYmJvbkljb25FbCA9IHRoaXMuYWRkUmliYm9uSWNvbignZmlsZS11cCcsICdPYnNpZGlvc2F1cnVzJywgYXN5bmMgKGV2dDogTW91c2VFdmVudCkgPT4ge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0bG9nZ2VyLmluZm8oXCJcdUQ4M0RcdURFODAgT2JzaWRpb3NhdXJ1cyBzdGFydGVkXCIpO1xuXHRcdFx0XHRuZXcgTm90aWNlKFwiXHVEODNEXHVERTgwIE9ic2lkaW9zYXVydXMgc3RhcnRlZFwiKVxuXHRcdFx0XHQvLyBAdHMtaWdub3JlLCBpdCBzYXlzIHRoZXJlIGlzIG5vIHByb3BlcnR5IGJhc2VQYXRoLCBidXQgaXQgaXM/XG5cdFx0XHRcdGlmKHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIgaW5zdGFuY2VvZiBGaWxlU3lzdGVtQWRhcHRlcikge1xuXHRcdFx0XHRcdGNvbnN0IGJhc2VQYXRoID0gcGF0aC5kaXJuYW1lKHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIuZ2V0QmFzZVBhdGgoKSk7XG5cdFx0XHRcdFx0YXdhaXQgb2JzaWRpb3NhdXJ1c1Byb2Nlc3MoYmFzZVBhdGgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5kZWJ1Zykge1xuXHRcdFx0XHRcdGNvbnN0IGVycm9yTWVzc2FnZSA9IGBcdTI3NEMgT2JzaWRpb3NhdXJ1cyBjcmFzaGVkIGluIGZ1bmN0aW9uIHdpdGggdGhlIGZvbGxvd2luZyBlcnJvcjpcXG4ke2Vycm9yLnN0YWNrfWA7XG5cdFx0XHRcdFx0bG9nZ2VyLmVycm9yKGVycm9yTWVzc2FnZSk7XG5cdFx0XHRcdFx0bmV3IE5vdGljZShgXHUyNzRDIE9ic2lkaW9zYXVydXMgY3Jhc2hlZC4gXFxuJHtlcnJvck1lc3NhZ2V9YCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bG9nZ2VyLmVycm9yKGBcdTI3NEMgT2JzaWRpb3NhdXJ1cyBjcmFzaGVkIHdpdGggZXJyb3IgbWVzc2FnZTogXFxuJHtlcnJvcn0gYCk7XG5cdFx0XHRcdFx0bmV3IE5vdGljZShcIlx1Mjc0QyBPYnNpZGlvc2F1cnVzIGNyYXNoZWQuIFxcbiBDaGVjayBsb2cgZmlsZXMgZm9yIG1vcmUgaW5mb1wiKVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRyaWJib25JY29uRWwuYWRkQ2xhc3MoJ215LXBsdWdpbi1yaWJib24tY2xhc3MnKTtcblxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXG5cdH1cblxuXHRvbnVubG9hZCgpIHtcblx0XHRpZiAoY29uZmlnLmRlYnVnKSB7XG5cdFx0XHRsb2dnZXIuaW5mbygnXHUyNkFBIE9ic2lkaW9zYXVydXMgUGx1Z2luIHVubG9hZGVkJyk7XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBjb25maWcsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG5cdFx0c2V0U2V0dGluZ3ModGhpcy5zZXR0aW5ncyk7XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxuXG59XG5cblxuY2xhc3MgU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuXHRwbHVnaW46IE9ic2lkaXNhdXJ1cztcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBPYnNpZGlzYXVydXMpIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gxJywgeyB0ZXh0OiAnRGlyZWN0b3JpZXMnIH0pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnRG9jdXNhdXJ1cyBEaXJlY3RvcnknKVxuXHRcdFx0LnNldERlc2MoJ1BhdGggdG8geW91ciBkb2N1c2F1cnVzIGluc3RhbmNlJylcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0VudGVyIHBhdGhzJylcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRvY3VzYXVydXNXZWJzaXRlRGlyZWN0b3J5KVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZG9jdXNhdXJ1c1dlYnNpdGVEaXJlY3RvcnkgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gxJywgeyB0ZXh0OiAnQXNzZXRzJyB9KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ09ic2lkaWFuIEFzc2V0IEZvbGRlcicpXG5cdFx0XHQuc2V0RGVzYygnTmFtZSBvZiBPYnNpZGlhbiBBc3NldCBGb2xkZXInKVxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignRW50ZXIgZm9sZGVycycpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5vYnNpZGlhbkFzc2V0U3ViZm9sZGVyTmFtZSlcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm9ic2lkaWFuQXNzZXRTdWJmb2xkZXJOYW1lID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pKTtcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdEb2N1c2F1cnVzIEFzc2V0IEZvbGRlcicpXG5cdFx0XHQuc2V0RGVzYygnTmFtZSBvZiBEb2N1c2F1cnVzIEFzc2V0IEZvbGRlcicpXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdFbnRlciBmb2xkZXJzJylcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRvY3VzYXVydXNBc3NldFN1YmZvbGRlck5hbWUpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5kb2N1c2F1cnVzQXNzZXRTdWJmb2xkZXJOYW1lID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pKTtcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdJbWFnZSBUeXBlJylcblx0XHRcdC5zZXREZXNjKCdGb3JtYXQgaW4gd2hpY2ggdG8gY29udmVydCBhbGwgaW1hZ2VzJylcblx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxuXHRcdFx0XHQuYWRkT3B0aW9ucyh7XG5cdFx0XHRcdFx0J3dlYnAnOiAnV2ViUCcsXG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5jb252ZXJ0ZWRJbWFnZVR5cGUpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5jb252ZXJ0ZWRJbWFnZVR5cGUgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ0ltYWdlIFdpZHRoJylcblx0XHRcdC5zZXREZXNjKCdTZXQgdGhlIG1heCB3aWR0aCBmb3IgdGhlIGltYWdlcyBpbiBbcHhdJylcblx0XHRcdC5hZGRUZXh0KG51bWJlciA9PiBudW1iZXJcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCcyNTAwJylcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmNvbnZlcnRlZEltYWdlTWF4V2lkdGgpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5jb252ZXJ0ZWRJbWFnZU1heFdpZHRoID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMScsIHsgdGV4dDogJ0xhbmd1YWdlJyB9KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ01haW4gTGFuZ3VhZ2UnKVxuXHRcdFx0LnNldERlc2MoJ1lvdXIgbWFpbiBsYW5ndWFnZSBjb2RlIHRvIHB1Ymxpc2gnKVxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignRW50ZXIgbGFuZ3VhZ2UgY29kZScpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5tYWluTGFuZ3VhZ2UpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5tYWluTGFuZ3VhZ2UgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gxJywgeyB0ZXh0OiAnRGV2IE9wdGlvbnMnIH0pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnRGVidWcgbW9kZScpXG5cdFx0XHQuc2V0RGVzYygnQmV0dGVyIGxvZ2dpbmcgZm9yIGRlYnVnZ2luZycpXG5cdFx0XHQuYWRkVG9nZ2xlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHR2YWx1ZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWJ1Zykub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVidWcgPSB2YWx1ZTtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ0RldmVsb3BlciBtb2RlJylcblx0XHRcdC5zZXREZXNjKCdPbmx5IGZvciBwbHVnaW4gZGV2ZWxvcGVycycpXG5cdFx0XHQuYWRkVG9nZ2xlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHR2YWx1ZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWJ1Zykub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVidWcgPSB2YWx1ZTtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblxuXG5cdH1cbn1cblxuIiwgImltcG9ydCAqIGFzIHJlYWRsaW5lIGZyb20gJ3JlYWRsaW5lJztcbmltcG9ydCAqIGFzIHN0cmVhbSBmcm9tICdzdHJlYW0nXG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICdtYWluJztcbmltcG9ydCB7IEFkbW9uaXRpb24sIEFzc2V0LCBTaXplIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJ2NvbmZpZyc7XG5cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc01hcmtkb3duKHByb2Nlc3NlZEZpbGVOYW1lOiBzdHJpbmcsIHNvdXJjZUNvbnRlbnQ6IHN0cmluZywgYXNzZXRKc29uOiBBc3NldFtdKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAvLyBDcmVhdGUgYSBzdHJlYW0gZnJvbSB0aGUgc291cmNlIGNvbnRlbnRcbiAgICBjb25zdCBzb3VyY2VTdHJlYW0gPSBuZXcgc3RyZWFtLlJlYWRhYmxlKCk7XG4gICAgc291cmNlU3RyZWFtLnB1c2goc291cmNlQ29udGVudCk7XG4gICAgc291cmNlU3RyZWFtLnB1c2gobnVsbCk7XG5cbiAgICAvLyBDcmVhdGUgYSByZWFkbGluZSBpbnRlcmZhY2UgZnJvbSB0aGUgc3RyZWFtXG4gICAgY29uc3QgcmwgPSByZWFkbGluZS5jcmVhdGVJbnRlcmZhY2Uoe1xuICAgICAgICBpbnB1dDogc291cmNlU3RyZWFtLFxuICAgICAgICBvdXRwdXQ6IHByb2Nlc3Muc3Rkb3V0LFxuICAgICAgICB0ZXJtaW5hbDogZmFsc2VcbiAgICB9KTtcblxuICAgIC8vIEluaXRpYWxpemUgdGhlIHRyYW5zZm9ybWVkIGNvbnRlbnQgYXMgYW4gZW1wdHkgc3RyaW5nXG4gICAgbGV0IHRyYW5zZm9ybWVkQ29udGVudCA9ICcnO1xuICAgIGxldCBpbkFkbW9uaXRpb24gPSBmYWxzZSwgaW5RdW90ZSA9IGZhbHNlO1xuICAgIGxldCBhZG1vbml0aW9uID0geyB0eXBlOiAnJywgdGl0bGU6ICcnLCB3aGl0ZXNwYWNlczogMCB9O1xuXG4gICAgLy8gSXRlcmF0ZSBvdmVyIHRoZSBsaW5lc1xuICAgIGZvciBhd2FpdCAoY29uc3QgbGluZSBvZiBybCkge1xuXG4gICAgICAgIGxldCBwcm9jZXNzZWRMaW5lID0gYXdhaXQgY29udmVydE9ic2lkaWFuTGlua3MobGluZSk7XG4gICAgICAgIHByb2Nlc3NlZExpbmUgPSBjaGVja0ZvckFzc2V0cyhwcm9jZXNzZWRMaW5lLCBwcm9jZXNzZWRGaWxlTmFtZSwgYXNzZXRKc29uKTtcbiAgICAgICAgcHJvY2Vzc2VkTGluZSA9IGNoZWNrRm9yTGlua3MocHJvY2Vzc2VkTGluZSk7XG4gICAgICAgIFtwcm9jZXNzZWRMaW5lLCBpbkFkbW9uaXRpb24sIGluUXVvdGUsIGFkbW9uaXRpb25dID0gY29udmVydEFkbW9uaXRpb24ocHJvY2Vzc2VkTGluZSwgaW5BZG1vbml0aW9uLCBpblF1b3RlLCBhZG1vbml0aW9uKTtcblxuICAgICAgICAvLyBBcHBlbmQgdGhlIHByb2Nlc3NlZCBsaW5lIHRvIHRoZSB0cmFuc2Zvcm1lZCBjb250ZW50XG4gICAgICAgIHRyYW5zZm9ybWVkQ29udGVudCArPSBwcm9jZXNzZWRMaW5lICsgJ1xcbic7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIHRoZSB0cmFuc2Zvcm1lZCBjb250ZW50XG4gICAgcmV0dXJuIHRyYW5zZm9ybWVkQ29udGVudDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gY29udmVydE9ic2lkaWFuTGlua3MobGluZTogc3RyaW5nKSB7XG5cbiAgICBjb25zdCBwYXR0ZXJuID0gbmV3IFJlZ0V4cChgIVxcXFxbXFxcXFsoJHtjb25maWcuZG9jdXNhdXJ1c0Fzc2V0U3ViZm9sZGVyTmFtZX0vLio/KVxcXFxdXFxcXF1gKTtcbiAgICBjb25zdCBtYXRjaCA9IGxpbmUubWF0Y2gocGF0dGVybik7XG5cbiAgICBpZiAobWF0Y2ggIT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgbmV3UGF0aCA9IGAhW10oJHttYXRjaFsxXX0pYDtcbiAgICAgICAgcmV0dXJuIGxpbmUucmVwbGFjZShtYXRjaFswXSwgbmV3UGF0aCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbGluZTtcbiAgICB9XG59XG5cbmNvbnN0IHBhcnNlQWRtb25pdGlvbkRhdGEgPSAobGluZTogc3RyaW5nKTogQWRtb25pdGlvbiA9PiB7XG4gICAgY29uc3QgbWF0Y2ggPSBsaW5lLm1hdGNoKC9ePlxccypcXFshKD88dHlwZT4uKildKD88dGl0bGU+LiopPy8pO1xuICAgIGlmICghbWF0Y2gpIHJldHVybiB7IHR5cGU6ICcnLCB0aXRsZTogJycsIHdoaXRlc3BhY2VzOiAwIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBtYXRjaC5ncm91cHM/LnR5cGUgfHwgJycsXG4gICAgICAgIHRpdGxlOiBtYXRjaC5ncm91cHM/LnRpdGxlPy50cmltKCkgfHwgJycsXG4gICAgICAgIHdoaXRlc3BhY2VzOiBsaW5lLmluZGV4T2YoXCJbXCIpIC0gbGluZS5pbmRleE9mKFwiPlwiKSxcbiAgICB9O1xufTtcblxuLy8gRnVuY3Rpb24gdG8gY29udmVydCBBZG1vbml0aW9uIGFuZCBxdW90ZSBibG9ja3NcbmNvbnN0IGNvbnZlcnRBZG1vbml0aW9uID0gKGxpbmU6IHN0cmluZywgaXNJbkFkbW9uaXRpb246IGJvb2xlYW4sIGlzSW5RdW90ZTogYm9vbGVhbiwgYWRtb25pdGlvbjogQWRtb25pdGlvbik6IFtzdHJpbmcsIGJvb2xlYW4sIGJvb2xlYW4sIEFkbW9uaXRpb25dID0+IHtcbiAgICAvLyBQYXJzZSBkYXRhIGlmIHRoZSBsaW5lIGlzIHRoZSBzdGFydCBvZiBhIG5ldyBBZG1vbml0aW9uIG9yIHF1b3RlXG4gICAgaWYgKCFpc0luQWRtb25pdGlvbiAmJiAhaXNJblF1b3RlKSB7XG4gICAgICAgIGFkbW9uaXRpb24gPSBwYXJzZUFkbW9uaXRpb25EYXRhKGxpbmUpO1xuICAgIH1cblxuICAgIC8vIFByb2Nlc3MgdGhlIGxpbmUgYmFzZWQgb24gd2hldGhlciBpdCdzIHBhcnQgb2YgYW4gQWRtb25pdGlvbiwgYSBxdW90ZSwgb3IgYSBub3JtYWwgbGluZVxuICAgIGlmIChpc0luQWRtb25pdGlvbikge1xuICAgICAgICBpZiAobGluZS50cmltKCkgPT09ICcnKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgbGluZSBpcyBlbXB0eSwgaXQncyB0aGUgZW5kIG9mIHRoZSBBZG1vbml0aW9uXG4gICAgICAgICAgICBsaW5lID0gXCI6OjpcXG5cIlxuICAgICAgICAgICAgaXNJbkFkbW9uaXRpb24gPSBmYWxzZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgdGhlIGxpbmUgaXMgbm90IGVtcHR5LCBpdCdzIHBhcnQgb2YgdGhlIEFkbW9uaXRpb25cbiAgICAgICAgICAgIGxpbmUgPSBsaW5lLnNsaWNlKGFkbW9uaXRpb24ud2hpdGVzcGFjZXMpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChpc0luUXVvdGUpIHtcbiAgICAgICAgaWYgKGxpbmUudHJpbSgpID09PSAnJykge1xuICAgICAgICAgICAgLy8gSWYgdGhlIGxpbmUgaXMgZW1wdHksIGl0J3MgdGhlIGVuZCBvZiB0aGUgcXVvdGVcbiAgICAgICAgICAgIGxpbmUgPSBcIj5cXG4+IFx1MjAxNCBcIiArIGFkbW9uaXRpb24udGl0bGUgKyBcIlxcblwiO1xuICAgICAgICAgICAgaXNJblF1b3RlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFkbW9uaXRpb24udHlwZSkge1xuICAgICAgICBpZiAoYWRtb25pdGlvbi50eXBlID09PSBcInF1b3RlXCIpIHtcbiAgICAgICAgICAgIC8vIFRoZSBsaW5lIGlzIHRoZSBzdGFydCBvZiBhIG5ldyBxdW90ZVxuICAgICAgICAgICAgbGluZSA9IFwiXCI7XG4gICAgICAgICAgICBpc0luUXVvdGUgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVGhlIGxpbmUgaXMgdGhlIHN0YXJ0IG9mIGEgbmV3IEFkbW9uaXRpb25cbiAgICAgICAgICAgIGlzSW5BZG1vbml0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIGxpbmUgPSBcIjo6OlwiICsgYWRtb25pdGlvbi50eXBlO1xuICAgICAgICAgICAgaWYgKGFkbW9uaXRpb24udGl0bGUpIHtcbiAgICAgICAgICAgICAgICBsaW5lICs9IFwiIFwiICsgYWRtb25pdGlvbi50aXRsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpbmUgKz0gXCJcXG5cIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBbbGluZSwgaXNJbkFkbW9uaXRpb24sIGlzSW5RdW90ZSwgYWRtb25pdGlvbl07XG59O1xuXG5mdW5jdGlvbiBjaGVja0ZvckxpbmtzKGxpbmU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgcGF0dGVybiA9IC9cXFsoW15cXF1dKylcXF1cXCgoW14pXSspXFwpLztcbiAgICBjb25zdCBtYXRjaCA9IGxpbmUubWF0Y2gocGF0dGVybik7XG5cbiAgICBpZiAobWF0Y2gpIHtcblxuICAgICAgICBjb25zdCB1cmwgPSBtYXRjaFsyXTtcblxuICAgICAgICAvLyBrZWVwIGV4dGVybmFsIGxpbmtzIGFzIGlzXG4gICAgICAgIGlmICh1cmwuaW5jbHVkZXMoXCJodHRwXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gbGluZTtcbiAgICAgICAgLy8gb25seSBjb250aW51ZSB3aXRoIGludGVybmFsIGxpbmtzXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB1cmxQYXJ0cyA9IHVybC5zcGxpdChcIi9cIik7XG5cbiAgICAgICAgICAgIGlmICh1cmxQYXJ0cy5sZW5ndGggPD0gMSkgcmV0dXJuIGxpbmU7XG5cbiAgICAgICAgICAgIGxldCBtYWluRm9sZGVyID0gdXJsUGFydHNbMF07XG5cbiAgICAgICAgICAgIGNvbnN0IGlzQmxvZyA9IGlzQmxvZ0ZvbGRlcihtYWluRm9sZGVyKTtcblxuICAgICAgICAgICAgaWYgKGlzQmxvZykge1xuICAgICAgICAgICAgICAgIG1haW5Gb2xkZXIgPSByZW1vdmVCbG9nU3VmZml4KG1haW5Gb2xkZXIpO1xuICAgICAgICAgICAgICAgIHVybFBhcnRzWzBdID0gbWFpbkZvbGRlcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2VkVXJsUGFydHMgPSBwcm9jZXNzVXJsUGFydHModXJsUGFydHMsIGlzQmxvZyk7XG5cbiAgICAgICAgICAgIGNvbnN0IG5ld1VybCA9IFwiL1wiICsgcHJvY2Vzc2VkVXJsUGFydHMuam9pbihcIi9cIik7XG4gICAgICAgICAgICByZXR1cm4gbGluZS5yZXBsYWNlKHVybCwgbmV3VXJsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGluZVxufVxuXG5mdW5jdGlvbiBwcm9jZXNzVXJsUGFydHModXJsUGFydHM6IHN0cmluZ1tdLCBpc0Jsb2c6IGJvb2xlYW4pOiBzdHJpbmdbXSB7XG4gICAgdXJsUGFydHMgPSBbLi4udXJsUGFydHNdOyAgLy8gY3JlYXRlIGEgY29weSB0byBub3QgbW9kaWZ5IG9yaWdpbmFsXG5cbiAgICBjb25zdCBmaWxlID0gdXJsUGFydHNbdXJsUGFydHMubGVuZ3RoIC0gMV07XG4gICAgbGV0IHBhcmVudEZvbGRlciA9IHVybFBhcnRzW3VybFBhcnRzLmxlbmd0aCAtIDJdO1xuXG4gICAgaWYgKHBhcmVudEZvbGRlci5lbmRzV2l0aChcIitcIikpIHtcbiAgICAgICAgcGFyZW50Rm9sZGVyID0gcGFyZW50Rm9sZGVyLnJlcGxhY2UoXCIrXCIsIFwiXCIpO1xuICAgICAgICB1cmxQYXJ0cy5wb3AoKTtcblxuICAgICAgICB1cmxQYXJ0c1t1cmxQYXJ0cy5sZW5ndGggLSAxXSA9IGlzQmxvZ1xuICAgICAgICAgICAgPyBwYXJlbnRGb2xkZXIuc3BsaXQoXCItXCIpLmpvaW4oXCIvXCIpXG4gICAgICAgICAgICA6IHJlbW92ZU51bWJlclByZWZpeChwYXJlbnRGb2xkZXIpO1xuICAgIH0gZWxzZSBpZiAoZmlsZS5lbmRzV2l0aChcIi5tZFwiKSkge1xuICAgICAgICB1cmxQYXJ0c1t1cmxQYXJ0cy5sZW5ndGggLSAxXSA9IGZpbGUucmVwbGFjZShcIi5tZFwiLCBcIlwiKTtcbiAgICB9XG5cbiAgICBpZiAoaXNCbG9nKSB7XG4gICAgICAgIHVybFBhcnRzW3VybFBhcnRzLmxlbmd0aCAtIDFdID0gdXJsUGFydHNbdXJsUGFydHMubGVuZ3RoIC0gMV0uc3BsaXQoXCItXCIpLmpvaW4oXCIvXCIpO1xuICAgIH1cblxuICAgIGlmICghaXNCbG9nKSB7XG4gICAgICAgIHVybFBhcnRzID0gdXJsUGFydHMubWFwKHBhcnQgPT4gcmVtb3ZlTnVtYmVyUHJlZml4KHBhcnQpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdXJsUGFydHM7XG59XG5cbmZ1bmN0aW9uIGlzQmxvZ0ZvbGRlcihtYWluRm9sZGVyOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gbWFpbkZvbGRlciA9PT0gXCJibG9nXCIgfHwgbWFpbkZvbGRlci5lbmRzV2l0aChcIl9fYmxvZ1wiKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQmxvZ1N1ZmZpeChtYWluRm9sZGVyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBtYWluRm9sZGVyLnJlcGxhY2UoXCJfX2Jsb2dcIiwgXCJcIik7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZU51bWJlclByZWZpeChzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgLy8gUmVtb3ZlcyBhbGwgY29tbW9uIG51bWJlcmluZyBzdHlsZXM6IDEpLCAxLiwgMSAtLCAuLi5cbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL15cXGQrW1xcLlxcLVxcKVxccyUyMF0qXFxzKi8sIFwiXCIpLnRyaW0oKTtcbn1cblxuZnVuY3Rpb24gZ2V0T3JDcmVhdGVTaXplKHNpemVzOiBTaXplW10sIHNpemU6IHN0cmluZywgcHJvY2Vzc2VkRmlsZU5hbWU6IHN0cmluZyk6IFNpemUge1xuICAgIGxldCBleGlzdGluZ1NpemUgPSBzaXplcy5maW5kKHMgPT4gcy5zaXplID09PSBzaXplKTtcbiAgICBpZiAoIWV4aXN0aW5nU2l6ZSkge1xuICAgICAgICBleGlzdGluZ1NpemUgPSB7XG4gICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgaW5Eb2N1bWVudHM6IFtwcm9jZXNzZWRGaWxlTmFtZV0sXG4gICAgICAgICAgICBuZXdOYW1lOiBbXVxuICAgICAgICB9O1xuICAgICAgICBzaXplcy5wdXNoKGV4aXN0aW5nU2l6ZSk7XG4gICAgfSBlbHNlIGlmICghZXhpc3RpbmdTaXplLmluRG9jdW1lbnRzLmluY2x1ZGVzKHByb2Nlc3NlZEZpbGVOYW1lKSkge1xuICAgICAgICBleGlzdGluZ1NpemUuaW5Eb2N1bWVudHMucHVzaChwcm9jZXNzZWRGaWxlTmFtZSk7XG4gICAgfVxuICAgIHJldHVybiBleGlzdGluZ1NpemU7XG59XG5cbmZ1bmN0aW9uIGNoZWNrRm9yQXNzZXRzKGxpbmU6IHN0cmluZywgcHJvY2Vzc2VkRmlsZU5hbWU6IHN0cmluZywgYXNzZXRKc29uOiBBc3NldFtdKTogc3RyaW5nIHtcbiAgICBjb25zdCBtYXRjaCA9IGxpbmUubWF0Y2goLyFcXFsoPzpcXHwoPzxzaXplPlxcZCsoeFxcZCspPykpP1xcXVxcKCg/PHBhdGg+Lio/KVxcKS8pO1xuXG4gICAgaWYgKG1hdGNoICYmIG1hdGNoLmdyb3Vwcykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWNvbnN0XG4gICAgICAgIGxldCB7IHNpemUsIHBhdGggfSA9IG1hdGNoLmdyb3VwcztcbiAgICAgICAgY29uc3QgZmlsZU5hbWVXaXRoRXh0ZW5zaW9uID0gcGF0aC5zcGxpdCgnLycpLnBvcCgpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWNvbnN0XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICBsZXQgW2ZpbGVOYW1lLCBmaWxlRXh0ZW5zaW9uXSA9IGZpbGVOYW1lV2l0aEV4dGVuc2lvbi5zcGxpdCgnLicpO1xuICAgICAgICBmaWxlTmFtZSA9IGZpbGVOYW1lLnJlcGxhY2UoLyAvZywgXCJfXCIpO1xuICAgICAgICBmaWxlTmFtZSA9IGZpbGVOYW1lLnJlcGxhY2UoLyUyMC9nLCBcIl9cIik7XG5cbiAgICAgICAgaWYgKCFzaXplPy50cmltKCkpIHtcbiAgICAgICAgICAgIHNpemUgPSBcInN0YW5kYXJkXCJcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBleGlzdGluZ0Fzc2V0ID0gYXNzZXRKc29uLmZpbmQoaXRlbSA9PiBpdGVtLmZpbGVOYW1lID09PSBmaWxlTmFtZSk7XG4gICAgICAgIGxldCBleGlzdGluZ1NpemU6IFNpemU7XG4gICAgICAgIGlmIChleGlzdGluZ0Fzc2V0KSB7XG4gICAgICAgICAgICBleGlzdGluZ1NpemUgPSBnZXRPckNyZWF0ZVNpemUoZXhpc3RpbmdBc3NldC5zaXplcywgc2l6ZSwgcHJvY2Vzc2VkRmlsZU5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXhpc3RpbmdBc3NldCA9IHtcbiAgICAgICAgICAgICAgICBmaWxlTmFtZSxcbiAgICAgICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEZpbGVOYW1lOiBmaWxlTmFtZVdpdGhFeHRlbnNpb24sXG4gICAgICAgICAgICAgICAgZmlsZUV4dGVuc2lvbixcbiAgICAgICAgICAgICAgICBkYXRlTW9kaWZpZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBzb3VyY2VQYXRoUmVsYXRpdmU6IHBhdGgsXG4gICAgICAgICAgICAgICAgc2l6ZXM6IFtdXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBleGlzdGluZ1NpemUgPSBnZXRPckNyZWF0ZVNpemUoZXhpc3RpbmdBc3NldC5zaXplcywgc2l6ZSwgcHJvY2Vzc2VkRmlsZU5hbWUpO1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBhc3NldEpzb24ucHVzaChleGlzdGluZ0Fzc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChbXCJqcGdcIiwgXCJwbmdcIiwgXCJ3ZWJwXCIsIFwianBlZ1wiLCBcImJtcFwiLCBcImdpZlwiLCBcInN2Z1wiLCBcImV4Y2FsaWRyYXdcIl0uaW5jbHVkZXMoZmlsZUV4dGVuc2lvbikpIHtcbiAgICAgICAgICAgIGxpbmUgPSBwcm9jZXNzSW1hZ2UobGluZSwgZmlsZU5hbWUsIGZpbGVFeHRlbnNpb24sIHNpemUsIGV4aXN0aW5nU2l6ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsaW5lID0gcHJvY2Vzc0Fzc2V0KGxpbmUsIGZpbGVOYW1lLCBmaWxlRXh0ZW5zaW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGluZTtcbn1cblxuXG5mdW5jdGlvbiBwcm9jZXNzSW1hZ2UobGluZTogc3RyaW5nLCBmaWxlTmFtZTogc3RyaW5nLCBmaWxlRXh0ZW5zaW9uOiBzdHJpbmcsIHNpemU6IHN0cmluZywgc2l6ZU9iamVjdDogU2l6ZSk6IHN0cmluZyB7XG4gICAgY29uc3Qgc2l6ZVN1ZmZpeCA9IHNpemUgPT09IFwic3RhbmRhcmRcIiA/IFwiXCIgOiBgXyR7c2l6ZX1gO1xuXG4gICAgY29uc3QgZXh0ZW5zaW9uRm9ybWF0TWFwOiB7IFtpbmRleDogc3RyaW5nXTogc3RyaW5nIH0gPSB7XG4gICAgICAgIFwiZ2lmXCI6IGAvYXNzZXRzLyR7ZmlsZU5hbWV9JHtzaXplU3VmZml4fS4ke2ZpbGVFeHRlbnNpb259YCxcbiAgICAgICAgXCJzdmdcIjogYC9hc3NldHMvJHtmaWxlTmFtZX0ke3NpemVTdWZmaXh9LiR7ZmlsZUV4dGVuc2lvbn1gLFxuICAgICAgICAvL1wic3ZnXCI6IGAvYXNzZXRzLyR7ZmlsZU5hbWV9JHtzaXplU3VmZml4fS5saWdodC5zdmcjbGlnaHRgLFxuICAgICAgICBcImV4Y2FsaWRyYXdcIjogYC9hc3NldHMvJHtmaWxlTmFtZX0ke3NpemVTdWZmaXh9LmV4Y2FsaWRyYXcubGlnaHQuc3ZnI2xpZ2h0YFxuICAgIH07XG5cbiAgICBsZXQgbmV3UGF0aCA9IGAvYXNzZXRzLyR7ZmlsZU5hbWV9JHtzaXplU3VmZml4fS4ke2NvbmZpZy5jb252ZXJ0ZWRJbWFnZVR5cGV9YDtcblxuICAgIGlmIChleHRlbnNpb25Gb3JtYXRNYXBbZmlsZUV4dGVuc2lvbl0pIHtcbiAgICAgICAgbmV3UGF0aCA9IGV4dGVuc2lvbkZvcm1hdE1hcFtmaWxlRXh0ZW5zaW9uXTtcbiAgICAgICAgbGluZSA9IGAhWyR7ZmlsZU5hbWV9XSgke25ld1BhdGh9KWA7XG5cbiAgICAgICAgLy8gU3BlY2lhbCBoYW5kbGluZyBmb3IgU1ZHIGFuZCBleGNhbGlkcmF3IGZpbGVzXG4gICAgICAgIGlmIChmaWxlRXh0ZW5zaW9uID09PSBcImV4Y2FsaWRyYXdcIikge1xuICAgICAgICAgICAgY29uc3QgZGFya1BhdGggPSBuZXdQYXRoLnJlcGxhY2UoJy5saWdodC5zdmcjbGlnaHQnLCAnLmRhcmsuc3ZnI2RhcmsnKTtcbiAgICAgICAgICAgIGxpbmUgKz0gYFxcbiFbJHtmaWxlTmFtZX1dKCR7ZGFya1BhdGh9KWA7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBsaW5lID0gYCFbJHtmaWxlTmFtZX1dKCR7bmV3UGF0aH0pYDtcbiAgICB9XG5cbiAgICBjb25zdCBuZXdOYW1lID0gbmV3UGF0aC5zcGxpdChcIi9cIikucG9wKCk/LnNwbGl0KFwiI1wiKVswXTtcbiAgICAvLyBPbmx5IGFkZCBuZXdOYW1lIGlmIGl0IGRvZXNuJ3QgYWxyZWFkeSBleGlzdCBpbiBzaXplT2JqZWN0Lm5ld05hbWVcbiAgICBpZiAobmV3TmFtZSAmJiAhc2l6ZU9iamVjdC5uZXdOYW1lLmluY2x1ZGVzKG5ld05hbWUpKSB7XG4gICAgICAgIHNpemVPYmplY3QubmV3TmFtZS5wdXNoKG5ld05hbWUpO1xuICAgIH1cbiAgICByZXR1cm4gbGluZTtcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0Fzc2V0KGxpbmU6IHN0cmluZywgZmlsZU5hbWU6IHN0cmluZywgZmlsZUV4dGVuc2lvbjogc3RyaW5nKSB7XG4gICAgbGluZSA9IGBbRG93bmxvYWQgJHtmaWxlTmFtZX0uJHtmaWxlRXh0ZW5zaW9ufV0oJHtjb25maWcuZG9jdXNhdXJ1c0Fzc2V0U3ViZm9sZGVyTmFtZX0vJHtmaWxlTmFtZX0uJHtmaWxlRXh0ZW5zaW9ufSlgO1xuICAgIHJldHVybiBsaW5lO1xufSIsICJpbXBvcnQgeyBDb25maWcgfSBmcm9tICdzcmMvdHlwZXMnXG5cbmV4cG9ydCBsZXQgY29uZmlnOiBDb25maWc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRTZXR0aW5ncyhzZXR0aW5nczogQ29uZmlnKSB7XG4gIGNvbmZpZyA9IHNldHRpbmdzO1xufVxuIiwgImltcG9ydCB7IE1haW5Gb2xkZXIsIFNvdXJjZUZpbGVJbmZvLCBGaWxlc1RvUHJvY2VzcywgQXNzZXQgfSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHByb2Nlc3NNYXJrZG93biBmcm9tIFwiLi9tYXJrZG93blByb2Nlc3NvclwiO1xuaW1wb3J0IHsgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgbG9nZ2VyfSBmcm9tICdtYWluJztcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJ2NvbmZpZyc7XG5pbXBvcnQgKiBhcyBmcyBmcm9tICdmcyc7XG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHV0aWwgZnJvbSAndXRpbCc7XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIE1BSU5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gb2JzaWRpb3NhdXJ1c1Byb2Nlc3MoYmFzZVBhdGg6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIC8vIERvY3VzYXVydXMgYW5kIE9ic2lkaWFuIFZhdWx0IHBhdGhzXG4gICAgY29uc3Qgd2Vic2l0ZVBhdGggPSBwYXRoLmpvaW4oYmFzZVBhdGgsIFwid2Vic2l0ZVwiKVxuICAgIGNvbnN0IHZhdWx0UGF0aCA9IHBhdGguam9pbihiYXNlUGF0aCwgXCJ2YXVsdFwiKVxuXG4gICAgLy8gR2V0IHRoZSBtYWluIGZvbGRlcnMgb2YgdGhlIHZhdWx0IGUuZy4gZG9jcywgYXNzZXRzLCAuLlxuICAgIGNvbnN0IG1haW5Gb2xkZXJzID0gZ2V0TWFpbmZvbGRlcnModmF1bHRQYXRoKTtcbiAgICBtYWluRm9sZGVycy5mb3JFYWNoKGZvbGRlciA9PiBwcm9jZXNzU2luZ2xlRm9sZGVyKGZvbGRlciwgdmF1bHRQYXRoKSk7XG5cbiAgICAvLyBMb2cgZm9sZGVyIHN0cnVjdHVyZSB3aGVuIGluIGRlYnVnIG1vZGVcbiAgICBpZiAoY29uZmlnLmRlYnVnKSB7XG4gICAgICAgIGxvZ2dlci5pbmZvKCdcdUQ4M0RcdURDQzEgRm9sZGVyIHN0cnVjdHVyZSB3aXRoIEZpbGVzOiAlcycsIEpTT04uc3RyaW5naWZ5KG1haW5Gb2xkZXJzKSk7XG4gICAgfVxuXG4gICAgLy8gR2V0IGFsbCB0aGUgZmlsZSBpbmZvIGZyb20gdGhlIG1haW4gZm9sZGVycyBhbmQgc2VwYXJhdGUgYXNzZXRzIGZyb20gb3RoZXIgZmlsZXNcbiAgICBjb25zdCBhbGxJbmZvID0gbWFpbkZvbGRlcnMuZmxhdE1hcChmb2xkZXIgPT4gZm9sZGVyLmZpbGVzLm1hcChmaWxlID0+IGdldFNvdXJjZUZpbGVJbmZvKGJhc2VQYXRoLCBmb2xkZXIsIGZpbGUsIHZhdWx0UGF0aCkpKTtcbiAgICBjb25zdCBhbGxTb3VyY2VGaWxlc0luZm86IFBhcnRpYWw8U291cmNlRmlsZUluZm8+W10gPSBhbGxJbmZvLmZpbHRlcihpbmZvID0+IGluZm8udHlwZSAhPT0gJ2Fzc2V0cycpO1xuICAgIGNvbnN0IGFsbFNvdXJjZUFzc2V0c0luZm86IFBhcnRpYWw8U291cmNlRmlsZUluZm8+W10gPSBhbGxJbmZvLmZpbHRlcihpbmZvID0+IGluZm8udHlwZSA9PT0gJ2Fzc2V0cycpO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBvciByZWFkIHRoZSB0YXJnZXRKc29uIGFuZCBhc3NldEpzb25cbiAgICBsZXQgdGFyZ2V0SnNvbjogU291cmNlRmlsZUluZm9bXSA9IGF3YWl0IGluaXRpYWxpemVKc29uRmlsZShwYXRoLmpvaW4oYmFzZVBhdGgsICdhbGxGaWxlc0luZm8uanNvbicpKTtcbiAgICBsZXQgYXNzZXRKc29uID0gYXdhaXQgaW5pdGlhbGl6ZUpzb25GaWxlKHBhdGguam9pbihiYXNlUGF0aCwgJ2Fzc2V0SW5mby5qc29uJykpO1xuXG4gICAgLy8gVmVyaWZ5IGV4aXN0ZW5jZSBvZiBmaWxlcyBpbiB0YXJnZXQuanNvbiBhbmQgcmVtb3ZlIGlmIG5vdCBwcmVzZW50XG4gICAgdGFyZ2V0SnNvbiA9IGF3YWl0IGNoZWNrRmlsZXNFeGlzdGVuY2UodGFyZ2V0SnNvbilcblxuICAgIFxuXG4gICAgLy8gQ2hlY2sgaWYgc291cmNlIGZpbGVzIGFyZSBuZXdlciBvciBtaXNzaW5nIGluIHZhdWx0IGFuZCBwcmVwYXJlIGZvciBkZWxldGlvblxuICAgIGNvbnN0IGZpbGVzVG9EZWxldGUgPSBhd2FpdCBnZXRGaWxlc1RvRGVsZXRlKGFsbFNvdXJjZUZpbGVzSW5mbywgdGFyZ2V0SnNvbik7XG5cbiAgICAvLyBQcm9jZXNzIGRlbGV0aW9uIG9mIGZpbGVzIGFuZCBhc3NldHNcbiAgICBhd2FpdCBkZWxldGVGaWxlcyhmaWxlc1RvRGVsZXRlLCB0YXJnZXRKc29uLCBiYXNlUGF0aCk7XG4gICAgYXdhaXQgcmVtb3ZlQXNzZXRSZWZlcmVuY2VzKGZpbGVzVG9EZWxldGUsIGFzc2V0SnNvbiwgd2Vic2l0ZVBhdGgpO1xuXG4gICAgLy8gV3JpdGUgZmlsZXMgYW5kIGFzc2V0cyBpbmZvIHRvIHRoZWlyIHJlc3BlY3RpdmUgSlNPTiBmaWxlc1xuICAgIHRhcmdldEpzb24gPSBhd2FpdCB3cml0ZUpzb25Ub0ZpbGUocGF0aC5qb2luKGJhc2VQYXRoLCAnYWxsRmlsZXNJbmZvLmpzb24nKSwgdGFyZ2V0SnNvbik7XG4gICAgYXdhaXQgd3JpdGVKc29uVG9GaWxlKHBhdGguam9pbihiYXNlUGF0aCwgJ2FsbFNvdXJjZUFzc2V0c0luZm8uanNvbicpLCBhbGxTb3VyY2VBc3NldHNJbmZvKTtcblxuICAgIC8vIENvbXBhcmUgc291cmNlIGFuZCB0YXJnZXQgZmlsZXMgdG8gZGV0ZXJtaW5lIHdoaWNoIG9uZXMgdG8gcHJvY2Vzc1xuICAgIGNvbnN0IGZpbGVzVG9Qcm9jZXNzID0gYXdhaXQgY29tcGFyZVNvdXJjZShhbGxTb3VyY2VGaWxlc0luZm8sIHRhcmdldEpzb24pO1xuXG4gICAgLy8gUHJvY2VzcyBtYXJrZG93biBjb252ZXJzaW9uIGlmIHRoZXJlIGFyZSBmaWxlcyB0byBwcm9jZXNzXG4gICAgaWYgKGZpbGVzVG9Qcm9jZXNzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbmV3IE5vdGljZShgXHUyNjk5IFByb2Nlc3NpbmcgJHtmaWxlc1RvUHJvY2Vzcy5sZW5ndGh9IEZpbGVzYCk7XG5cbiAgICAgICAgLy8gR2V0IHRoZSBpbmRpY2VzIG9mIGZpbGVzIHRvIHByb2Nlc3MgYW5kIGZpbHRlciB0aGVtIGZyb20gc291cmNlIGZpbGVzXG4gICAgICAgIGNvbnN0IGZpbGVzVG9Qcm9jZXNzSW5kaWNlcyA9IGZpbGVzVG9Qcm9jZXNzLm1hcChmaWxlID0+IGZpbGUuaW5kZXgpO1xuICAgICAgICBjb25zdCBmaWxlc1RvTWFya2Rvd25Qcm9jZXNzID0gYWxsU291cmNlRmlsZXNJbmZvLmZpbHRlcigoXywgaW5kZXgpID0+IGZpbGVzVG9Qcm9jZXNzSW5kaWNlcy5pbmNsdWRlcyhpbmRleCkpO1xuXG4gICAgICAgIC8vIFN0YXJ0IHRoZSBhY3R1YWwgTWFya2Rvd24gY29udmVyc2lvbiBhbmQgY29weSB0byBEb2N1c2F1cnVzIGZvbGRlclxuICAgICAgICBhd2FpdCBjb3B5TWFya2Rvd25GaWxlc1RvVGFyZ2V0KGZpbGVzVG9NYXJrZG93blByb2Nlc3MsIGJhc2VQYXRoLCB0YXJnZXRKc29uLCBhc3NldEpzb24pO1xuXG4gICAgICAgIC8vIFdyaXRlIG5ldyBhbGxGaWxlc0luZm8gLT4gVXNlZCB0byBjb21wYXJlIGZvciBuZXh0IHJ1blxuICAgICAgICBhd2FpdCB3cml0ZUpzb25Ub0ZpbGUocGF0aC5qb2luKGJhc2VQYXRoLCAnYWxsRmlsZXNJbmZvLmpzb24nKSwgdGFyZ2V0SnNvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbmV3IE5vdGljZShgXHVEODNEXHVEQ0E0IE5vdGhpbmcgdG8gcHJvY2Vzc2ApO1xuICAgIH1cblxuICAgIGF1Z21lbnRQYXRoRm9yTWFjT1MoKTtcblxuICAgIC8vIEZpbmQgYWxsIGFzc2V0cyB0aGF0IG5lZWQgdG8gYmUgcHJvY2Vzc2VkIGFuZCBwZXJmb3JtIHRoZSBjb252ZXJzaW9uXG4gICAgY29uc3QgYXNzZXRzVG9Qcm9jZXNzID0gYXdhaXQgZ2V0QXNzZXRzVG9Qcm9jZXNzKGFzc2V0SnNvbiwgd2Vic2l0ZVBhdGgpO1xuICAgIG5ldyBOb3RpY2UoYFx1MjY5OSBQcm9jZXNzaW5nICR7YXNzZXRzVG9Qcm9jZXNzLmxlbmd0aH0gQXNzZXRzYCk7XG4gICAgaWYgKGFzc2V0c1RvUHJvY2Vzcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGF3YWl0IGNvcHlBc3NldEZpbGVzVG9UYXJnZXQodmF1bHRQYXRoLCB3ZWJzaXRlUGF0aCwgYXNzZXRKc29uLCBhc3NldHNUb1Byb2Nlc3MpO1xuICAgIH1cblxuICAgIC8vIERlbGV0ZSB1bnVzZWQgbWFya2Rvd24gZmlsZXMgZnJvbSBEb2N1c2F1cnVzXG4gICAgZGVsZXRlVW51c2VkRmlsZXModGFyZ2V0SnNvbiwgd2Vic2l0ZVBhdGgpO1xuXG5cbiAgICBsb2dnZXIuaW5mbyhcIlx1MjcwNSBPYnNpZGlvc2F1cnVzIHJ1biBzdWNjZXNzZnVsbHlcIik7XG4gICAgbmV3IE5vdGljZShcIlx1MjcwNSBPYnNpZGlvc2F1cnVzIHJ1biBzdWNjZXNzZnVsbHlcIik7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gVVRJTFNcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBJbml0aWFsaXplcyBhIEpTT04gZmlsZSB3aXRoIGRlZmF1bHQgY29udGVudCBpZiB0aGUgZmlsZSBkb2VzIG5vdCBleGlzdC5cbiAqIFJlYWRzIHRoZSBmaWxlIGNvbnRlbnQgYW5kIHJldHVybnMgaXQgYXMgSlNPTiBpZiB0aGUgZmlsZSBleGlzdHMuXG4gKiBcbiAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlUGF0aCAtIFRoZSBwYXRoIHRvIHRoZSBKU09OIGZpbGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gZGVmYXVsdENvbnRlbnQgLSBUaGUgZGVmYXVsdCBjb250ZW50IHRvIGluaXRpYWxpemUgdGhlIGZpbGUgd2l0aC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPEFycmF5Pn0gQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgY29udGVudCBvZiB0aGUgSlNPTiBmaWxlIGFzIGFuIGFycmF5LlxuICovXG5hc3luYyBmdW5jdGlvbiBpbml0aWFsaXplSnNvbkZpbGUoZmlsZVBhdGg6IHN0cmluZywgZGVmYXVsdENvbnRlbnQ6IHN0cmluZyA9ICdbXScpIHtcbiAgICBsZXQganNvbkNvbnRlbnQgPSBbXTtcbiAgICB0cnkge1xuICAgICAgICBqc29uQ29udGVudCA9IEpTT04ucGFyc2UoYXdhaXQgZnMucHJvbWlzZXMucmVhZEZpbGUoZmlsZVBhdGgsICd1dGYtOCcpKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ0VOT0VOVCcpIHtcbiAgICAgICAgICAgIGF3YWl0IGZzLnByb21pc2VzLndyaXRlRmlsZShmaWxlUGF0aCwgZGVmYXVsdENvbnRlbnQpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYENyZWF0ZWQgJHtmaWxlUGF0aH1gKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHJlYWRpbmcgZmlsZTogJHtmaWxlUGF0aH1gLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGpzb25Db250ZW50O1xufVxuXG4vKipcbiAqIFdyaXRlcyBKU09OIGNvbnRlbnQgdG8gYSBmaWxlIGFuZCB0aGVuIHJlYWRzIHRoZSBmaWxlIGNvbnRlbnQgYW5kIHJldHVybnMgaXQgYXMgSlNPTi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZmlsZVBhdGggLSBUaGUgcGF0aCB0byB0aGUgSlNPTiBmaWxlLlxuICogQHBhcmFtIHthbnl9IGNvbnRlbnQgLSBUaGUgY29udGVudCB0byBiZSB3cml0dGVuIHRvIHRoZSBmaWxlLlxuICogQHJldHVybnMge1Byb21pc2U8YW55Pn0gQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgY29udGVudCBvZiB0aGUgSlNPTiBmaWxlLlxuICovXG5hc3luYyBmdW5jdGlvbiB3cml0ZUpzb25Ub0ZpbGUoZmlsZVBhdGg6IHN0cmluZywgY29udGVudDogYW55KSB7XG4gICAgYXdhaXQgZnMucHJvbWlzZXMud3JpdGVGaWxlKGZpbGVQYXRoLCBKU09OLnN0cmluZ2lmeShjb250ZW50LCBudWxsLCAyKSk7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoYXdhaXQgZnMucHJvbWlzZXMucmVhZEZpbGUoZmlsZVBhdGgsICd1dGYtOCcpKTtcbn1cblxuLyoqXG4gKiBBdWdtZW50cyB0aGUgT2JzaWRpYW4gUEFUSCBlbnZpcm9ubWVudCB2YXJpYWJsZSBmb3IgbWFjT1MgdG8gaW5jbHVkZSB0aGUgSG9tZWJyZXcgcGF0aCBpZiBpdCdzIG5vdCBhbHJlYWR5IGluY2x1ZGVkLlxuICovXG5mdW5jdGlvbiBhdWdtZW50UGF0aEZvck1hY09TKCkge1xuICAgIGNvbnN0IG9zID0gcmVxdWlyZSgnb3MnKTtcblxuICAgIGlmIChjb25maWcuZGVidWcpIHtcbiAgICAgICAgbG9nZ2VyLmluZm8oYFx1RDgzRFx1RERGQVx1RkUwRiBDdXJyZW50IE9ic2lkaWFuIEVOViBQQVRIOiAke3Byb2Nlc3MuZW52LlBBVEh9YCk7XG4gICAgfVxuXG4gICAgaWYgKG9zLnBsYXRmb3JtKCkgPT09ICdkYXJ3aW4nKSB7XG4gICAgICAgIC8vIEFkZCBwYXRocyBmb3IgaG9tZWJyZXcgb24gQXBwbGUgU2lsaWNpb24gYW5kIEludGVsXG4gICAgICAgIGNvbnN0IGhvbWVicmV3UGF0aCA9ICcvb3B0L2hvbWVicmV3L2JpbjovdXNyL2xvY2FsL2Jpbi9icmV3J1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgaWYgKCFwcm9jZXNzLmVudi5QQVRILmluY2x1ZGVzKGhvbWVicmV3UGF0aCkpIHtcbiAgICAgICAgICAgIHByb2Nlc3MuZW52LlBBVEggPSBob21lYnJld1BhdGggKyAnOicgKyBwcm9jZXNzLmVudi5QQVRIO1xuICAgICAgICAgICAgaWYgKGNvbmZpZy5kZWJ1Zykge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKGBcdUQ4M0RcdURERkFcdUZFMEYgTmV3IEVOViBQQVRIOiAke3Byb2Nlc3MuZW52LlBBVEh9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBGT0xERVJTXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGdldE1haW5mb2xkZXJzKGZvbGRlclBhdGg6IHN0cmluZyk6IE1haW5Gb2xkZXJbXSB7XG4gICAgY29uc3QgZm9sZGVyczogTWFpbkZvbGRlcltdID0gW107XG4gICAgY29uc3QgYWJzb2x1dGVGb2xkZXJQYXRoID0gcGF0aC5yZXNvbHZlKGZvbGRlclBhdGgpO1xuXG4gICAgaWYgKGNvbmZpZy5kZWJ1Zykge1xuICAgICAgICBsb2dnZXIuaW5mbygnXHVEODNEXHVEQ0MxIFByb2Nlc3NpbmcgcGF0aDogJXMnLCBhYnNvbHV0ZUZvbGRlclBhdGgpO1xuICAgIH1cblxuICAgIGNvbnN0IG9iamVjdHMgPSBmcy5yZWFkZGlyU3luYyhhYnNvbHV0ZUZvbGRlclBhdGgpO1xuICAgIGlmIChjb25maWcuZGVidWcpIHtcbiAgICAgICAgbG9nZ2VyLmluZm8oJ1x1RDgzRFx1RENDMiBGb3VuZCBmaWxlczogJW8nLCBvYmplY3RzKTtcbiAgICB9XG4gICAgb2JqZWN0cy5mb3JFYWNoKG9iamVjdCA9PiB7XG4gICAgICAgIGNvbnN0IGZpbGVQYXRoID0gcGF0aC5qb2luKGFic29sdXRlRm9sZGVyUGF0aCwgb2JqZWN0KTtcbiAgICAgICAgY29uc3Qgc3RhdHMgPSBmcy5zdGF0U3luYyhmaWxlUGF0aCk7XG5cbiAgICAgICAgaWYgKHN0YXRzLmlzRGlyZWN0b3J5KCkpIHtcbiAgICAgICAgICAgIGxldCB0eXBlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAob2JqZWN0LmVuZHNXaXRoKFwiX19ibG9nXCIpKSB7XG4gICAgICAgICAgICAgICAgdHlwZSA9IFwiYmxvZ011bHRpXCI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9iamVjdC5pbmNsdWRlcyhcImJsb2dcIikpIHtcbiAgICAgICAgICAgICAgICB0eXBlID0gXCJibG9nXCI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9iamVjdC5pbmNsdWRlcyhcImRvY3NcIikpIHtcbiAgICAgICAgICAgICAgICB0eXBlID0gXCJkb2NzXCI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9iamVjdC5pbmNsdWRlcyhjb25maWcub2JzaWRpYW5Bc3NldFN1YmZvbGRlck5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdHlwZSA9IFwiYXNzZXRzXCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHR5cGUgPSBcImlnbm9yZVwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZSAhPT0gXCJpZ25vcmVcIiAmJiB0eXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmb2xkZXJPYmplY3Q6IE1haW5Gb2xkZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG9iamVjdCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgZmlsZXM6IFtdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBmb2xkZXJzLnB1c2goZm9sZGVyT2JqZWN0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvbmZpZy5kZWJ1Zykge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKCdcdUQ4M0RcdUREMEQgRmlsZTogJXMsIFR5cGU6ICVzJywgb2JqZWN0LCB0eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKGNvbmZpZy5kZWJ1Zykge1xuICAgICAgICBsb2dnZXIuaW5mbygnXHVEODNEXHVEQ0U0IFJldHVybmluZyBmb2xkZXJzOiAlbycsIGZvbGRlcnMpO1xuICAgIH1cbiAgICByZXR1cm4gZm9sZGVycztcbn1cblxuZnVuY3Rpb24gc2VhcmNoRmlsZXNJbkZvbGRlcihkaXJlY3Rvcnk6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICBsZXQgcmVzdWx0czogc3RyaW5nW10gPSBbXTtcbiAgICBsZXQgc2tpcEZpbGVzID0gXCIuRFNfU3RvcmVcIlxuICAgIGNvbnN0IGZpbGVzID0gZnMucmVhZGRpclN5bmMoZGlyZWN0b3J5KTtcblxuICAgIGZpbGVzLmZvckVhY2goZmlsZSA9PiB7XG5cbiAgICAgICAgaWYgKHNraXBGaWxlcy5pbmNsdWRlcyhmaWxlKSkge1xuICAgICAgICAgICAgaWYgKGNvbmZpZy5kZWJ1Zykge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKGBcdTIzRURcdUZFMEYgU2tpcHBlZCAke2ZpbGV9YClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpbGVQYXRoID0gcGF0aC5qb2luKGRpcmVjdG9yeSwgZmlsZSk7XG4gICAgICAgIGNvbnN0IHN0YXQgPSBmcy5zdGF0U3luYyhmaWxlUGF0aCk7XG5cbiAgICAgICAgaWYgKHN0YXQgJiYgc3RhdC5pc0RpcmVjdG9yeSgpKSB7XG4gICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5jb25jYXQoc2VhcmNoRmlsZXNJbkZvbGRlcihmaWxlUGF0aCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGZpbGVQYXRoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3VsdHM7XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NTaW5nbGVGb2xkZXIoZm9sZGVyOiBNYWluRm9sZGVyLCBiYXNlUGF0aDogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgZGlyUGF0aCA9IHBhdGguam9pbihiYXNlUGF0aCwgZm9sZGVyLm5hbWUpO1xuICAgIGNvbnN0IGZpbGVzID0gc2VhcmNoRmlsZXNJbkZvbGRlcihkaXJQYXRoKTtcbiAgICBmb2xkZXIuZmlsZXMgPSBmaWxlcztcblxuICAgIGlmIChjb25maWcuZGVidWcpIHtcbiAgICAgICAgbG9nZ2VyLmluZm8oJ1x1RDgzRFx1RENDNCBWYXVsdCBGaWxlcyBmb3IgJXM6ICVzJywgZm9sZGVyLm5hbWUsIEpTT04uc3RyaW5naWZ5KGZpbGVzKSk7XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBkZWxldGVQYXJlbnREaXJlY3RvcmllcyhmaWxlcGF0aDogc3RyaW5nKSB7XG4gICAgbGV0IGRpclBhdGggPSBwYXRoLmRpcm5hbWUoZmlsZXBhdGgpO1xuICAgIHdoaWxlIChkaXJQYXRoICE9PSBwYXRoLmRpcm5hbWUoZGlyUGF0aCkpIHsgLy8gd2hpbGUgZGlyUGF0aCBoYXMgYSBwYXJlbnQgZGlyZWN0b3J5XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBmcy5wcm9taXNlcy5ybWRpcihkaXJQYXRoKTtcbiAgICAgICAgICAgIGlmIChjb25maWcuZGVidWcpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbyhgXHVEODNFXHVEREU4IFN1Y2Nlc3NmdWxseSBkZWxldGVkIGRpcmVjdG9yeSAke2RpclBhdGh9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgdGhlIGVycm9yIGlmIHRoZSBkaXJlY3RvcnkgaXMgbm90IGVtcHR5XG4gICAgICAgICAgICBpZiAoZXJyb3IuY29kZSAhPT0gJ0VOT1RFTVBUWScgJiYgZXJyb3IuY29kZSAhPT0gJ0VFWElTVCcgJiYgZXJyb3IuY29kZSAhPT0gJ0VQRVJNJykge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKGBcdTI3NEMgRmFpbGVkIHRvIGRlbGV0ZSBkaXJlY3RvcnkgJHtkaXJQYXRofTogJHtlcnJvcn1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkaXJQYXRoID0gcGF0aC5kaXJuYW1lKGRpclBhdGgpO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gZW5zdXJlRGlyZWN0b3J5RXhpc3RlbmNlKGZpbGVQYXRoOiBzdHJpbmcpIHtcbiAgICBjb25zdCBkaXIgPSBwYXRoLmRpcm5hbWUoZmlsZVBhdGgpO1xuXG4gICAgaWYgKGZzLmV4aXN0c1N5bmMoZGlyKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBhd2FpdCBmcy5wcm9taXNlcy5ta2RpcihkaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBjb21wYXJlU291cmNlKHNvdXJjZUpzb246IFBhcnRpYWw8U291cmNlRmlsZUluZm8+W10sIHRhcmdldEpzb246IFBhcnRpYWw8U291cmNlRmlsZUluZm8+W10pOiBQcm9taXNlPEZpbGVzVG9Qcm9jZXNzW10+IHtcbiAgICBjb25zdCBmaWxlc1RvUHJvY2VzczogRmlsZXNUb1Byb2Nlc3NbXSA9IFtdO1xuXG4gICAgLy8gSXRlcmF0ZSBvdmVyIHNvdXJjZUpzb24gZmlsZXNcbiAgICBzb3VyY2VKc29uLmZvckVhY2goKHNvdXJjZUZpbGUsIGkpID0+IHtcbiAgICAgICAgLy8gRmluZCBhIG1hdGNoaW5nIGZpbGUgaW4gdGFyZ2V0SnNvblxuICAgICAgICBjb25zdCBtYXRjaGluZ1RhcmdldEZpbGUgPSB0YXJnZXRKc29uLmZpbmQoZmlsZSA9PiBmaWxlLnBhdGhTb3VyY2VSZWxhdGl2ZSA9PT0gc291cmNlRmlsZS5wYXRoU291cmNlUmVsYXRpdmUpO1xuXG4gICAgICAgIC8vIEFkZCB0byB0aGUgZmlsZXNUb1Byb2Nlc3MgYXJyYXkgaWYgbm8gbWF0Y2hpbmcgZmlsZSBpcyBmb3VuZFxuICAgICAgICBpZiAoIW1hdGNoaW5nVGFyZ2V0RmlsZSkge1xuICAgICAgICAgICAgZmlsZXNUb1Byb2Nlc3MucHVzaCh7IGluZGV4OiBpLCByZWFzb246IFwiRG9lcyBub3QgZXhpc3QgaW4gdGFyZ2V0SnNvblwiIH0pO1xuICAgICAgICAgICAgaWYgKGNvbmZpZy5kZWJ1Zykge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKCdcdUQ4M0RcdURDREQgRmlsZSB0byBwcm9jZXNzOiAlcycsIHNvdXJjZUZpbGUucGF0aFNvdXJjZVJlbGF0aXZlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZmlsZXNUb1Byb2Nlc3M7XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIEZJTEVTXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGdldFNvdXJjZUZpbGVJbmZvKGJhc2VQYXRoOiBzdHJpbmcsIGZvbGRlcjogTWFpbkZvbGRlciwgZmlsZVBhdGg6IHN0cmluZywgdmF1bHRQYXRoOiBzdHJpbmcpOiBQYXJ0aWFsPEZpbGU+IHtcbiAgICBmaWxlUGF0aCA9IHBhdGgucmVzb2x2ZShmaWxlUGF0aCk7XG4gICAgY29uc3Qgc3RhdHMgPSBmcy5zdGF0U3luYyhmaWxlUGF0aCk7XG4gICAgY29uc3QgZmlsZU5hbWUgPSBwYXRoLmJhc2VuYW1lKGZpbGVQYXRoKTtcblxuICAgIGNvbnN0IHsgZmlsZU5hbWVDbGVhbiwgZmlsZUV4dGVuc2lvbiwgbGFuZ3VhZ2UgfSA9IHNhbml0aXplRmlsZU5hbWUoZmlsZU5hbWUpO1xuXG4gICAgY29uc3QgcGF0aFNvdXJjZVJlbGF0aXZlID0gcGF0aC5yZWxhdGl2ZSh2YXVsdFBhdGgsIGZpbGVQYXRoKTtcblxuICAgIGxldCBzb3VyY2VGaWxlSW5mbzogUGFydGlhbDxTb3VyY2VGaWxlSW5mbz4gPSB7XG4gICAgICAgIGZpbGVOYW1lLFxuICAgICAgICBmaWxlTmFtZUNsZWFuLFxuICAgICAgICBmaWxlRXh0ZW5zaW9uLFxuICAgICAgICBsYW5ndWFnZSxcbiAgICAgICAgbWFpbkZvbGRlcjogZm9sZGVyLm5hbWUsXG4gICAgICAgIHBhcmVudEZvbGRlcjogcGF0aC5iYXNlbmFtZShwYXRoLmRpcm5hbWUoZmlsZVBhdGgpKSxcbiAgICAgICAgcGF0aFNvdXJjZUFic29sdXRlOiBmaWxlUGF0aCxcbiAgICAgICAgcGF0aFNvdXJjZVJlbGF0aXZlLFxuICAgICAgICBkYXRlTW9kaWZpZWQ6IHN0YXRzLm10aW1lLFxuICAgICAgICBzaXplOiBzdGF0cy5zaXplLFxuICAgICAgICB0eXBlOiBmb2xkZXIudHlwZVxuICAgIH07XG5cbiAgICBzb3VyY2VGaWxlSW5mbyA9IGdldFRhcmdldFBhdGgoc291cmNlRmlsZUluZm8sIGJhc2VQYXRoKVxuXG4gICAgcmV0dXJuIHNvdXJjZUZpbGVJbmZvO1xufVxuXG5mdW5jdGlvbiBzYW5pdGl6ZUZpbGVOYW1lKGZpbGVOYW1lOiBzdHJpbmcpOiB7IGZpbGVOYW1lQ2xlYW46IHN0cmluZywgZmlsZUV4dGVuc2lvbjogc3RyaW5nLCBsYW5ndWFnZTogc3RyaW5nIH0ge1xuICAgIGNvbnN0IHBhcnNlZFBhdGggPSBwYXRoLnBhcnNlKGZpbGVOYW1lKTtcbiAgICBjb25zdCBmaWxlTmFtZVdpdGhvdXRFeHRlbnNpb24gPSBwYXJzZWRQYXRoLm5hbWU7XG4gICAgY29uc3QgZmlsZUV4dGVuc2lvbiA9IHBhcnNlZFBhdGguZXh0O1xuXG4gICAgbGV0IGZpbGVOYW1lQ2xlYW4gPSBmaWxlTmFtZVdpdGhvdXRFeHRlbnNpb247XG5cbiAgICBjb25zdCBsYW5ndWFnZU1hdGNoID0gZmlsZU5hbWVDbGVhbi5tYXRjaCgvX18oW2Etel17Mn0pJC9pKTtcbiAgICBsZXQgbGFuZ3VhZ2UgPSBudWxsO1xuICAgIGlmIChsYW5ndWFnZU1hdGNoKSB7XG4gICAgICAgIGZpbGVOYW1lQ2xlYW4gPSBmaWxlTmFtZUNsZWFuLnNwbGl0KCdfXycpWzBdO1xuICAgICAgICBsYW5ndWFnZSA9IGxhbmd1YWdlTWF0Y2ggPyBsYW5ndWFnZU1hdGNoWzFdIDogbnVsbDtcbiAgICB9XG5cbiAgICBpZiAobGFuZ3VhZ2UgPT09IG51bGwpIHtcbiAgICAgICAgaWYgKGNvbmZpZyAmJiBjb25maWcubWFpbkxhbmd1YWdlKSB7XG4gICAgICAgICAgICBsYW5ndWFnZSA9IGNvbmZpZy5tYWluTGFuZ3VhZ2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAnXHUyNzRDIE1haW4gbGFuZ3VhZ2Ugbm90IGRlZmluZWQgaW4gdGhlIGNvbmZpZ3VyYXRpb24nO1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7IGZpbGVOYW1lQ2xlYW46IGZpbGVOYW1lQ2xlYW4udHJpbSgpLCBmaWxlRXh0ZW5zaW9uLCBsYW5ndWFnZSB9O1xufVxuXG4vKipcbiAqIENvbnN0cnVjdHMgdGFyZ2V0IHBhdGggZm9yIGEgZ2l2ZW4gc291cmNlIGZpbGUuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB1c2VzIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBzb3VyY2UgZmlsZSwgcGFydGljdWxhcmx5IGl0cyB0eXBlLCBcbiAqIGxhbmd1YWdlLCBhbmQgb3RoZXIgcHJvcGVydGllcywgdG8gY29uc3RydWN0IHRoZSBwYXRoIHdoZXJlIGl0IHNob3VsZCBiZSBwbGFjZWQgXG4gKiBpbiB0aGUgdGFyZ2V0IGRpcmVjdG9yeS5cbiAqXG4gKiBAcGFyYW0ge1BhcnRpYWw8U291cmNlRmlsZUluZm8+fSBzb3VyY2VGaWxlSW5mbyAtIEFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSBzb3VyY2UgZmlsZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlUGF0aCAtIFRoZSBiYXNlIHBhdGggd2hlcmUgdGhlIGZpbGVzIHdpbGwgYmUgcGxhY2VkLlxuICogQHJldHVybnMge1BhcnRpYWw8U291cmNlRmlsZUluZm8+fSAtIEFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBvcmlnaW5hbCBpbmZvcm1hdGlvbiBwbHVzIHRoZSB0YXJnZXQgcGF0aC5cbiAqIEB0aHJvd3Mge0Vycm9yfSAtIElmIGEgcmVxdWlyZWQgcHJvcGVydHkgaXMgbWlzc2luZyBpbiB0aGUgc291cmNlRmlsZUluZm8gb2JqZWN0LlxuICovXG5mdW5jdGlvbiBnZXRUYXJnZXRQYXRoKHNvdXJjZUZpbGVJbmZvOiBQYXJ0aWFsPFNvdXJjZUZpbGVJbmZvPiwgYmFzZVBhdGg6IHN0cmluZyk6IFBhcnRpYWw8U291cmNlRmlsZUluZm8+IHtcbiAgICBjb25zdCB7IHR5cGUsIGxhbmd1YWdlLCBwYXRoU291cmNlUmVsYXRpdmUsIG1haW5Gb2xkZXIsIHBhcmVudEZvbGRlciwgZmlsZUV4dGVuc2lvbiB9ID0gc291cmNlRmlsZUluZm87XG5cbiAgICAvLyBDaGVjayBpZiBhbGwgcmVxdWlyZWQgcHJvcGVydGllcyBleGlzdFxuICAgIGlmICghdHlwZSB8fCAhbGFuZ3VhZ2UgfHwgIXBhdGhTb3VyY2VSZWxhdGl2ZSB8fCAhcGFyZW50Rm9sZGVyIHx8ICFmaWxlRXh0ZW5zaW9uIHx8ICFtYWluRm9sZGVyKSB7XG4gICAgICAgIGxvZ2dlci5lcnJvcignXHVEODNEXHVERUE4IFJlcXVpcmVkIHByb3BlcnRpZXMgbWlzc2luZyBvbiBzb3VyY2VGaWxlSW5mbycpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgcHJvcGVydGllcyBvbiBzb3VyY2VGaWxlSW5mbycpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIG1haW4gbGFuZ3VhZ2UgaXMgdXNlZFxuICAgIGNvbnN0IGlzTWFpbkxhbmd1YWdlID0gbGFuZ3VhZ2UgPT09IGNvbmZpZy5tYWluTGFuZ3VhZ2U7XG5cbiAgICBjb25zdCBtYWluUGF0aERpY3QgPSB7XG4gICAgICAgICdkb2NzJzogaXNNYWluTGFuZ3VhZ2UgPyBcIlwiIDogcGF0aC5qb2luKFwiaTE4blwiLCBsYW5ndWFnZSwgXCJkb2N1c2F1cnVzLXBsdWdpbi1jb250ZW50LWRvY3NcIiwgXCJjdXJyZW50XCIpLFxuICAgICAgICAnYmxvZyc6IGlzTWFpbkxhbmd1YWdlID8gXCJcIiA6IHBhdGguam9pbihcImkxOG5cIiwgbGFuZ3VhZ2UsIFwiZG9jdXNhdXJ1cy1wbHVnaW4tY29udGVudC1ibG9nXCIsIFwiY3VycmVudFwiKSxcbiAgICAgICAgJ2Jsb2dNdWx0aSc6IGlzTWFpbkxhbmd1YWdlIHx8ICFtYWluRm9sZGVyID8gXCJcIiA6IHBhdGguam9pbihcImkxOG5cIiwgbGFuZ3VhZ2UsIGBkb2N1c2F1cnVzLXBsdWdpbi1jb250ZW50LWJsb2ctJHttYWluRm9sZGVyfWApLFxuICAgICAgICAnYXNzZXRzJzogcGF0aC5qb2luKFwic3RhdGljXCIsIGNvbmZpZy5kb2N1c2F1cnVzQXNzZXRTdWJmb2xkZXJOYW1lKSxcbiAgICB9O1xuXG4gICAgLy8gR2V0IHRoZSBtYWluIHBhdGggZnJvbSB0aGUgZGljdGlvbmFyeVxuICAgIC8vQHRzLWlnbm9yZVxuICAgIGNvbnN0IG1haW5QYXRoID0gbWFpblBhdGhEaWN0W3R5cGVdIHx8IFwiXCI7XG5cbiAgICAvLyBDb25zdHJ1Y3QgZmluYWwgcmVsYXRpdmUgc291cmNlIHBhdGhcbiAgICBsZXQgZmluYWxQYXRoU291cmNlUmVsYXRpdmUgPSBwYXRoU291cmNlUmVsYXRpdmU7XG5cbiAgICBpZiAocGFyZW50Rm9sZGVyLmVuZHNXaXRoKCcrJykpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcnRzID0gZmluYWxQYXRoU291cmNlUmVsYXRpdmUuc3BsaXQocGF0aC5zZXApO1xuICAgICAgICAvLyBJZiBwYXJlbnQgZm9sZGVyIG5hbWUgZW5kcyB3aXRoICcrJywgcmVtb3ZlIHRoZSBsYXN0IHBhcnQgb2YgdGhlIHBhdGhcbiAgICAgICAgcGF0aFBhcnRzLnBvcCgpO1xuXG4gICAgICAgIGlmIChwYXRoUGFydHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGV0IGxhc3RQYXJ0ID0gcGF0aFBhcnRzW3BhdGhQYXJ0cy5sZW5ndGggLSAxXTtcblxuICAgICAgICAgICAgLy8gUmVtb3ZlICcrJyBmcm9tIHRoZSBlbmQgb2YgdGhlIHBhcmVudCBmb2xkZXJcbiAgICAgICAgICAgIGlmIChsYXN0UGFydC5lbmRzV2l0aCgnKycpKSB7XG4gICAgICAgICAgICAgICAgbGFzdFBhcnQgPSBsYXN0UGFydC5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgICAgICAgcGF0aFBhcnRzW3BhdGhQYXJ0cy5sZW5ndGggLSAxXSA9IGxhc3RQYXJ0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmaW5hbFBhdGhTb3VyY2VSZWxhdGl2ZSA9IHBhdGhQYXJ0cy5qb2luKHBhdGguc2VwKSArIGZpbGVFeHRlbnNpb247XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgdGhlIGxhbmd1YWdlICsgc2VwZXJhdG9yIGZyb20gZmluYWwgcGF0aFxuICAgIGZpbmFsUGF0aFNvdXJjZVJlbGF0aXZlID0gZmluYWxQYXRoU291cmNlUmVsYXRpdmUucmVwbGFjZShgX18ke2xhbmd1YWdlfWAsIFwiXCIpO1xuXG4gICAgLy8gSWYgdGhlIGZpbGUgaXMgYSAueW1sLm1kIGZpbGUsIHJlbW92ZSB0aGUgLm1kIHBhcnRcbiAgICBpZiAoZmluYWxQYXRoU291cmNlUmVsYXRpdmUuZW5kc1dpdGgoXCIueW1sLm1kXCIpKSB7XG4gICAgICAgIGZpbmFsUGF0aFNvdXJjZVJlbGF0aXZlID0gZmluYWxQYXRoU291cmNlUmVsYXRpdmUucmVwbGFjZShcIi55bWwubWRcIiwgXCIueW1sXCIpO1xuICAgIH1cblxuICAgIC8vIENvbnN0cnVjdCB0YXJnZXQgcmVsYXRpdmUgYW5kIGFic29sdXRlIHBhdGhzXG4gICAgc291cmNlRmlsZUluZm8ucGF0aFRhcmdldFJlbGF0aXZlID0gcGF0aC5qb2luKG1haW5QYXRoLCBmaW5hbFBhdGhTb3VyY2VSZWxhdGl2ZSk7XG4gICAgc291cmNlRmlsZUluZm8ucGF0aFRhcmdldEFic29sdXRlID0gcGF0aC5qb2luKGJhc2VQYXRoLCBjb25maWcuZG9jdXNhdXJ1c1dlYnNpdGVEaXJlY3RvcnksIHNvdXJjZUZpbGVJbmZvLnBhdGhUYXJnZXRSZWxhdGl2ZSlcblxuICAgIHJldHVybiBzb3VyY2VGaWxlSW5mbztcbn1cbi8qKlxuICogVGhpcyBhc3luY2hyb25vdXMgZnVuY3Rpb24gY29tcGFyZXMgc291cmNlIGFuZCB0YXJnZXQgZmlsZXMgdG8gaWRlbnRpZnkgZmlsZXMgdGhhdCBuZWVkIHRvIGJlIGRlbGV0ZWQuXG4gKlxuICogQHBhcmFtIHtQYXJ0aWFsPFNvdXJjZUZpbGVJbmZvPltdfSBhbGxTb3VyY2VGaWxlc0luZm8gLSBBcnJheSBvZiBzb3VyY2UgZmlsZXMgaW5mb3JtYXRpb24uIEVhY2ggb2JqZWN0IGNvbnRhaW5pbmcgZGV0YWlscyBhYm91dCBhIHNvdXJjZSBmaWxlXG4gKiBAcGFyYW0ge1NvdXJjZUZpbGVJbmZvW119IHRhcmdldEpzb24gLSBBcnJheSBvZiB0YXJnZXQgZmlsZXMgaW5mb3JtYXRpb24uIEVhY2ggZWxlbWVudCBpcyBhbiBvYmplY3QgY29udGFpbmluZyBkZXRhaWxzIGFib3V0IGEgZmlsZSBmcm9tIHRoZSB0YXJnZXQuXG4gKiBAcmV0dXJuIHtQcm9taXNlPEZpbGVzVG9Qcm9jZXNzW10+fSAtIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggYW4gYXJyYXkgb2Ygb2JqZWN0cyBjb250YWluaW5nIGluZGljZXMgb2YgZmlsZXMgdG8gZGVsZXRlIGFuZCB0aGUgcmVhc29ucyBmb3IgXG4gKiB0aGVpciBkZWxldGlvbi4gRWFjaCBvYmplY3QgaGFzIHR3byBwcm9wZXJ0aWVzOiAnaW5kZXgnIGFuZCAncmVhc29uJy5cbiAqXG4gKiBAYXN5bmNcbiAqXG4gKiAxKSBUaGlzIGZ1bmN0aW9uIGl0ZXJhdGVzIG92ZXIgZWFjaCBmaWxlIGluIHRoZSAndGFyZ2V0SnNvbicgYXJyYXkgYW5kIGF0dGVtcHRzIHRvIGZpbmQgYSBtYXRjaGluZyBmaWxlIGluIHRoZSAnYWxsU291cmNlRmlsZXNJbmZvJyBhcnJheSBiYXNlZCBvbiBcbiAqIHRoZWlyIHJlbGF0aXZlIHBhdGhzLiBJZiBubyBtYXRjaGluZyBzb3VyY2UgZmlsZSBpcyBmb3VuZCwgaXQgaW1wbGllcyB0aGF0IHRoZSB0YXJnZXQgZmlsZSBzaG91bGQgYmUgZGVsZXRlZCwgYW5kIGl0IGlzIGFkZGVkIHRvIHRoZSAnZmlsZXNUb0RlbGV0ZScgXG4gKiBhcnJheSB3aXRoIHRoZSByZWFzb24gXCJpdCBkb2VzIG5vdCBleGlzdCBpbiBzb3VyY2VKc29uXCIuXG4gKiBcbiAqIDIpIElmIGEgbWF0Y2hpbmcgc291cmNlIGZpbGUgaXMgZm91bmQsIHRoZWlyIG1vZGlmaWNhdGlvbiBkYXRlcyBhcmUgY29tcGFyZWQuIElmIHRoZSBzb3VyY2UgZmlsZSBoYXMgYSBtb3JlIHJlY2VudCBtb2RpZmljYXRpb24gZGF0ZSB0aGFuIHRoZSB0YXJnZXQgZmlsZSwgXG4gKiBpdCBpbXBsaWVzIHRoYXQgdGhlIHRhcmdldCBmaWxlIHNob3VsZCBiZSB1cGRhdGVkLiBBcyBhIHBhcnQgb2YgdGhlIHVwZGF0ZSBwcm9jZXNzLCB0aGUgb2xkZXIgdGFyZ2V0IGZpbGUgbmVlZHMgdG8gYmUgZGVsZXRlZCBmaXJzdCwgXG4gKiBzbyBpdCBpcyBhZGRlZCB0byB0aGUgJ2ZpbGVzVG9EZWxldGUnIGFycmF5IHdpdGggdGhlIHJlYXNvbiBcIml0cyBsYXN0IG1vZGlmaWNhdGlvbiBkYXRlIGlzIG9sZGVyIHRoYW4gdGhlIGRhdGUgaW4gc291cmNlSnNvblwiLlxuICogVGhlIGZ1bmN0aW9uIHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgJ2ZpbGVzVG9EZWxldGUnIGFycmF5LlxuICovXG5hc3luYyBmdW5jdGlvbiBnZXRGaWxlc1RvRGVsZXRlKGFsbFNvdXJjZUZpbGVzSW5mbzogUGFydGlhbDxTb3VyY2VGaWxlSW5mbz5bXSwgdGFyZ2V0SnNvbjogU291cmNlRmlsZUluZm9bXSk6IFByb21pc2U8RmlsZXNUb1Byb2Nlc3NbXT4ge1xuICAgIC8vIExvYWQgSlNPTiBkYXRhXG5cbiAgICBjb25zdCBzb3VyY2VKc29uOiBQYXJ0aWFsPFNvdXJjZUZpbGVJbmZvPltdID0gYWxsU291cmNlRmlsZXNJbmZvO1xuXG4gICAgY29uc3QgZmlsZXNUb0RlbGV0ZTogRmlsZXNUb1Byb2Nlc3NbXSA9IFtdO1xuXG4gICAgLy8gSXRlcmF0ZSBvdmVyIHRhcmdldEpzb24gZmlsZXNcbiAgICB0YXJnZXRKc29uLmZvckVhY2goKHRhcmdldEZpbGUsIGkpID0+IHtcbiAgICAgICAgLy8gRmluZCBhIG1hdGNoaW5nIGZpbGUgaW4gc291cmNlSnNvblxuICAgICAgICBjb25zdCBtYXRjaGluZ1NvdXJjZUZpbGUgPSBzb3VyY2VKc29uLmZpbmQoZmlsZSA9PiBmaWxlLnBhdGhTb3VyY2VSZWxhdGl2ZSA9PT0gdGFyZ2V0RmlsZS5wYXRoU291cmNlUmVsYXRpdmUpO1xuXG4gICAgICAgIC8vIENyZWF0ZSBEYXRlIG9iamVjdHMgZnJvbSBkYXRlTW9kaWZpZWQgc3RyaW5nc1xuICAgICAgICBjb25zdCB0YXJnZXREYXRlID0gbmV3IERhdGUodGFyZ2V0RmlsZS5kYXRlTW9kaWZpZWQpO1xuICAgICAgICBjb25zdCBzb3VyY2VEYXRlID0gbWF0Y2hpbmdTb3VyY2VGaWxlPy5kYXRlTW9kaWZpZWQgPyBuZXcgRGF0ZShtYXRjaGluZ1NvdXJjZUZpbGUuZGF0ZU1vZGlmaWVkKSA6IG51bGw7XG5cbiAgICAgICAgLy8gQWRkIHRvIHRoZSBmaWxlc1RvRGVsZXRlIGFycmF5IGJhc2VkIG9uIGNlcnRhaW4gY29uZGl0aW9uc1xuICAgICAgICBpZiAoIW1hdGNoaW5nU291cmNlRmlsZSkge1xuICAgICAgICAgICAgZmlsZXNUb0RlbGV0ZS5wdXNoKHsgaW5kZXg6IGksIHJlYXNvbjogXCJpdCBkb2VzIG5vdCBleGlzdCBpbiBzb3VyY2VKc29uXCIsIHBhdGhLZXk6IHRhcmdldEZpbGUucGF0aFNvdXJjZVJlbGF0aXZlIH0pO1xuICAgICAgICAgICAgaWYgKGNvbmZpZy5kZWJ1Zykge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKCdcdUQ4M0RcdURERDFcdUZFMEYgRmlsZSB0byBkZWxldGU6ICVzJywgdGFyZ2V0RmlsZS5wYXRoU291cmNlUmVsYXRpdmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNvdXJjZURhdGUgJiYgdGFyZ2V0RGF0ZS5nZXRUaW1lKCkgPCBzb3VyY2VEYXRlLmdldFRpbWUoKSkge1xuICAgICAgICAgICAgZmlsZXNUb0RlbGV0ZS5wdXNoKHsgaW5kZXg6IGksIHJlYXNvbjogYGl0cyBsYXN0IG1vZGlmaWNhdGlvbiBkYXRlICR7dGFyZ2V0RGF0ZX0gaXMgb2xkZXIgdGhhbiB0aGUgZGF0ZSBpbiBzb3VyY2VKc29uICR7c291cmNlRGF0ZX1gLCBwYXRoS2V5OiB0YXJnZXRGaWxlLnBhdGhTb3VyY2VSZWxhdGl2ZSB9KTtcbiAgICAgICAgICAgIGlmIChjb25maWcuZGVidWcpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbygnXHVEODNEXHVERDA0IEZpbGUgdG8gdXBkYXRlOiAlcywgVGFyZ2V0OiAlcyBTb3VyY2U6ICVzJywgdGFyZ2V0RmlsZS5wYXRoU291cmNlUmVsYXRpdmUsIHRhcmdldERhdGUsIHNvdXJjZURhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZmlsZXNUb0RlbGV0ZTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZGVsZXRlRmlsZXMoZmlsZXNUb0RlbGV0ZTogRmlsZXNUb1Byb2Nlc3NbXSwgdGFyZ2V0SnNvbjogU291cmNlRmlsZUluZm9bXSwgYmFzZVBhdGg6IHN0cmluZykge1xuICAgIGNvbnN0IGVycm9yczogRXJyb3JbXSA9IFtdO1xuXG4gICAgLy8gU29ydCBmaWxlc1RvRGVsZXRlIGluIGRlc2NlbmRpbmcgb3JkZXIgYmFzZWQgb24gaW5kZXhcbiAgICBmaWxlc1RvRGVsZXRlLnNvcnQoKGEsIGIpID0+IGIuaW5kZXggLSBhLmluZGV4KTtcblxuICAgIC8vIERlbGV0ZSBmaWxlc1xuICAgIGZvciAoY29uc3QgZmlsZVRvRGVsZXRlIG9mIGZpbGVzVG9EZWxldGUpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0RmlsZSA9IHRhcmdldEpzb25bZmlsZVRvRGVsZXRlLmluZGV4XTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgZnMucHJvbWlzZXMudW5saW5rKHBhdGguam9pbihiYXNlUGF0aCwgdGFyZ2V0RmlsZS5wYXRoVGFyZ2V0UmVsYXRpdmUpKTtcbiAgICAgICAgICAgIGlmIChjb25maWcuZGVidWcpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbyhgXHUyNzA1IFN1Y2Nlc3NmdWxseSBkZWxldGVkIGZpbGUgJXNgLCB0YXJnZXRGaWxlLnBhdGhUYXJnZXRSZWxhdGl2ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCBkZWxldGVQYXJlbnREaXJlY3RvcmllcyhwYXRoLmpvaW4oYmFzZVBhdGgsIHRhcmdldEZpbGUucGF0aFRhcmdldFJlbGF0aXZlKSk7XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgZGVsZXRlZCBmaWxlIGZyb20gdGFyZ2V0SnNvbiBpbW1lZGlhdGVseSBhZnRlciBzdWNjZXNzZnVsIGRlbGV0aW9uXG4gICAgICAgICAgICB0YXJnZXRKc29uLnNwbGljZShmaWxlVG9EZWxldGUuaW5kZXgsIDEpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gSWYgZXJyb3IgY29kZSBpcyBFTk9FTlQsIHRoZSBmaWxlIHdhcyBub3QgZm91bmQsIHdoaWNoIHdlIGNvbnNpZGVyIGFzIGEgc3VjY2Vzc2Z1bCBkZWxldGlvbi5cbiAgICAgICAgICAgIGlmIChlcnJvci5jb2RlICE9PSBcIkVOT0VOVFwiKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGBcdTI3NEMgRmFpbGVkIHRvIGRlbGV0ZSBmaWxlICVzOiAlc2AsIHRhcmdldEZpbGUucGF0aFRhcmdldFJlbGF0aXZlLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBJZiBkZWxldGlvbiBmYWlsZWQgZm9yIG90aGVyIHJlYXNvbnMsIHdlIGtlZXAgdGhlIGZpbGUgaW4gdGFyZ2V0SnNvbi5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb25maWcuZGVidWcpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbyhgXHVEODNEXHVEREQxXHVGRTBGIEZpbGUgJXMgd2FzIG5vdCBmb3VuZCwgY29uc2lkZXJlZCBhcyBkZWxldGVkYCwgdGFyZ2V0RmlsZS5wYXRoVGFyZ2V0UmVsYXRpdmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGFyZ2V0SnNvbi5zcGxpY2UoZmlsZVRvRGVsZXRlLmluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gY2hlY2tGaWxlc0V4aXN0ZW5jZSh0YXJnZXRKc29uOiBTb3VyY2VGaWxlSW5mb1tdKTogUHJvbWlzZTxTb3VyY2VGaWxlSW5mb1tdPiB7XG4gICAgY29uc3QgZXhpc3RlbnRGaWxlcyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICB0YXJnZXRKc29uLm1hcChhc3luYyBmaWxlSW5mbyA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGZzLnByb21pc2VzLmFjY2VzcyhmaWxlSW5mby5wYXRoVGFyZ2V0QWJzb2x1dGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gYXdhaXQgZnMucHJvbWlzZXMuc3RhdChmaWxlSW5mby5wYXRoVGFyZ2V0QWJzb2x1dGUpO1xuICAgICAgICAgICAgICAgIGZpbGVJbmZvLmRhdGVNb2RpZmllZFRhcmdldCA9IHN0YXRzLm10aW1lO1xuICAgICAgICAgICAgICAgIGZpbGVJbmZvLnNpemVUYXJnZXQgPSBzdGF0cy5zaXplO1xuICAgICAgICAgICAgICAgIHJldHVybiBmaWxlSW5mbztcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGlmIChlcnIuY29kZSAhPT0gJ0VOT0VOVCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyOyAvLyByZS10aHJvdyB1bmV4cGVjdGVkIGVycm9yc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBGaWxlIGRvZXNuJ3QgZXhpc3QsIHJldHVybiBudWxsXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEZpbGUgbm90IGZvbmQ6ICR7ZmlsZUluZm8ucGF0aFNvdXJjZVJlbGF0aXZlfWApXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgKTtcbiAgICBjb25zdCBsZW4gPSBleGlzdGVudEZpbGVzLmxlbmd0aFxuICAgIC8vIEZpbHRlciBvdXQgbnVsbCBlbnRyaWVzIChpLmUuLCBub24tZXhpc3RlbnQgZmlsZXMpXG4gICAgY29uc3QgZmlsZXMgPSBleGlzdGVudEZpbGVzLmZpbHRlcihmaWxlSW5mbyA9PiBmaWxlSW5mbyAhPT0gbnVsbClcblxuICAgIGlmIChjb25maWcuZGVidWcpIHtcbiAgICAgICAgbG9nZ2VyLmluZm8oXCJSZW1vdmVkICVpIEZpbGVzXCIsIGxlbiAtIGZpbGVzLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZpbGVzIGFzIFNvdXJjZUZpbGVJbmZvW107XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVVbnVzZWRGaWxlcyhqc29uOiBTb3VyY2VGaWxlSW5mb1tdLCB3ZWJzaXRlUGF0aDogc3RyaW5nKSB7XG4gICAgY29uc3QgdGFyZ2V0RGlyZWN0b3JpZXMgPSBbJ2Jsb2cnLCAnaTE4bicsICdkb2NzJ107XG4gICAgY29uc3QgYmxvZ1N1ZmZpeCA9IFwiX19ibG9nXCJcbiAgXG4gICAgbGV0IGZpbGVzRm91bmQ6IHN0cmluZ1tdID0gW107XG4gIFxuICAgIGZ1bmN0aW9uIGV4cGxvcmVEaXJlY3RvcnkoZGlyZWN0b3J5OiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgZW50cmllcyA9IGZzLnJlYWRkaXJTeW5jKGRpcmVjdG9yeSwgeyB3aXRoRmlsZVR5cGVzOiB0cnVlIH0pO1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGZ1bGxQYXRoID0gcGF0aC5qb2luKGRpcmVjdG9yeSwgZW50cnkubmFtZSk7XG4gICAgICAgICAgICBpZiAoZW50cnkuaXNEaXJlY3RvcnkoKSkge1xuICAgICAgICAgICAgICAgIGV4cGxvcmVEaXJlY3RvcnkoZnVsbFBhdGgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlbnRyeS5pc0ZpbGUoKSkge1xuICAgICAgICAgICAgICAgIGZpbGVzRm91bmQucHVzaChmdWxsUGF0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gIFxuICAgIC8vIFNjYW4gZWFjaCB0YXJnZXQgZGlyZWN0b3J5XG4gICAgdGFyZ2V0RGlyZWN0b3JpZXMuZm9yRWFjaChkaXIgPT4ge1xuICAgICAgY29uc3QgZGlyUGF0aCA9IHBhdGguam9pbih3ZWJzaXRlUGF0aCwgZGlyKTtcbiAgICAgIGlmIChmcy5leGlzdHNTeW5jKGRpclBhdGgpKSB7XG4gICAgICAgIGV4cGxvcmVEaXJlY3RvcnkoZGlyUGF0aCk7XG4gICAgICB9XG4gICAgfSk7XG4gIFxuICAgIC8vIEdvIHRocm91Z2ggb3RoZXIgZGlyZWN0b3JpZXMgYW5kIGxvb2sgZm9yIGJsb2dTdWZmaXggZm9sZGVyc1xuICAgIGNvbnN0IGFsbERpcmVjdG9yaWVzID0gZnMucmVhZGRpclN5bmMod2Vic2l0ZVBhdGgsIHsgd2l0aEZpbGVUeXBlczogdHJ1ZSB9KTtcbiAgICBjb25zdCBvdGhlckRpcmVjdG9yaWVzID0gYWxsRGlyZWN0b3JpZXMuZmlsdGVyKGRpciA9PiBkaXIubmFtZS5lbmRzV2l0aChibG9nU3VmZml4KSk7XG4gIFxuICAgIG90aGVyRGlyZWN0b3JpZXMuZm9yRWFjaChkaXIgPT4ge1xuICAgICAgY29uc3QgZGlyUGF0aCA9IHBhdGguam9pbih3ZWJzaXRlUGF0aCwgZGlyLm5hbWUpO1xuICAgICAgZXhwbG9yZURpcmVjdG9yeShkaXJQYXRoKTtcbiAgICB9KTtcbiAgXG4gICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGZpbGVzRm91bmQgYW5kIGNoZWNrIGFnYWluc3QgdGhlIGpzb25cbiAgICBmaWxlc0ZvdW5kLmZvckVhY2goYXN5bmMgZmlsZSA9PiB7XG4gICAgICBjb25zdCBmaWxlSXNVc2VkID0ganNvbi5zb21lKGogPT4gai5wYXRoVGFyZ2V0QWJzb2x1dGUgPT09IGZpbGUpO1xuICBcbiAgICAgIC8vIERlbGV0ZSB0aGUgZmlsZSBpZiBpdCdzIG5vdCB1c2VkXG4gICAgICBpZiAoIWZpbGVJc1VzZWQpIHtcbiAgICAgICAgYXdhaXQgZnMucHJvbWlzZXMudW5saW5rKGZpbGUpO1xuICAgICAgICBjb25zb2xlLmxvZyhgRGVsZXRlZCB1bnVzZWQgZmlsZTogJHtmaWxlfWApO1xuICAgICAgfVxuICAgIH0pO1xufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBNYXJrZG93biBDb252ZXJzaW9uXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmFzeW5jIGZ1bmN0aW9uIGNvcHlNYXJrZG93bkZpbGVzVG9UYXJnZXQoZmlsZXM6IFBhcnRpYWw8U291cmNlRmlsZUluZm8+W10sIGJhc2VQYXRoOiBzdHJpbmcsIHRhcmdldEpzb246IFBhcnRpYWw8U291cmNlRmlsZUluZm8+W10sIGFzc2V0SnNvbjogQXNzZXRbXSkge1xuXG4gICAgY29uc3QgcmVzdWx0czogU291cmNlRmlsZUluZm9bXSA9IFtdO1xuXG4gICAgY29uc3QgcHJvbWlzZXMgPSBmaWxlcy5tYXAoYXN5bmMgKGZpbGUpID0+IHtcbiAgICAgICAgY29uc3QgeyBwYXRoVGFyZ2V0QWJzb2x1dGUsIHBhdGhTb3VyY2VBYnNvbHV0ZSwgcGF0aFNvdXJjZVJlbGF0aXZlIH0gPSBmaWxlXG4gICAgICAgIC8vIEVuc3VyZSB0aGUgZGlyZWN0b3J5IGV4aXN0c1xuXG4gICAgICAgIGlmIChwYXRoVGFyZ2V0QWJzb2x1dGUgJiYgcGF0aFNvdXJjZUFic29sdXRlICYmIHBhdGhTb3VyY2VSZWxhdGl2ZSkge1xuICAgICAgICAgICAgYXdhaXQgZW5zdXJlRGlyZWN0b3J5RXhpc3RlbmNlKHBhdGhUYXJnZXRBYnNvbHV0ZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNvbnRlbnQgPSBhd2FpdCBmcy5wcm9taXNlcy5yZWFkRmlsZShwYXRoU291cmNlQWJzb2x1dGUsICd1dGYtOCcpO1xuICAgICAgICAgICAgLy8gQWN0dWFsIG1hcmtkb3duIGNvbnZlcnNpb24gcHJvY2Vzc1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtZWRDb250ZW50ID0gYXdhaXQgcHJvY2Vzc01hcmtkb3duKHBhdGhTb3VyY2VSZWxhdGl2ZSwgc291cmNlQ29udGVudCwgYXNzZXRKc29uKTtcbiAgICAgICAgICAgIGlmICh0cmFuc2Zvcm1lZENvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBmcy5wcm9taXNlcy53cml0ZUZpbGUocGF0aFRhcmdldEFic29sdXRlLCBTdHJpbmcodHJhbnNmb3JtZWRDb250ZW50KSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjb25maWcuZGVidWcpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbyhgXHVEODNEXHVEQ0U0IENvbnZlcnRlZCBmaWxlIGZyb20gJHtwYXRoU291cmNlQWJzb2x1dGV9IHRvICR7cGF0aFRhcmdldEFic29sdXRlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmVzdWx0cy5wdXNoKGZpbGUgYXMgU291cmNlRmlsZUluZm8pO1xuXG4gICAgfSk7XG5cbiAgICAvLyBXYWl0IGZvciBhbGwgY29weSBvcGVyYXRpb25zIHRvIGZpbmlzaFxuICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcblxuICAgIC8vIEFkZCByZXN1bHRzIHRvIHRhcmdldEpzb25cbiAgICB0YXJnZXRKc29uLnB1c2goLi4ucmVzdWx0cyk7XG5cbiAgICBhd2FpdCBmcy5wcm9taXNlcy53cml0ZUZpbGUocGF0aC5qb2luKGJhc2VQYXRoLCAnYXNzZXRJbmZvLmpzb24nKSwgSlNPTi5zdHJpbmdpZnkoYXNzZXRKc29uLCBudWxsLCAyKSk7XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIEFzc2V0XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmFzeW5jIGZ1bmN0aW9uIHJlbW92ZUFzc2V0UmVmZXJlbmNlcyhmaWxlc1RvRGVsZXRlOiBGaWxlc1RvUHJvY2Vzc1tdLCBhc3NldEpzb246IEFzc2V0W10sIHdlYnNpdGVQYXRoOiBzdHJpbmcpOiBQcm9taXNlPEFzc2V0W10+IHtcbiAgICBmb3IgKGNvbnN0IGZpbGVUb0RlbGV0ZSBvZiBmaWxlc1RvRGVsZXRlKSB7XG4gICAgICAgIGlmICghZmlsZVRvRGVsZXRlLnBhdGhLZXkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSXRlcmF0ZSBiYWNrd2FyZHMgdGhyb3VnaCBlYWNoIGFzc2V0IGluIHRoZSBqc29uXG4gICAgICAgIGZvciAobGV0IGFzc2V0SW5kZXggPSBhc3NldEpzb24ubGVuZ3RoIC0gMTsgYXNzZXRJbmRleCA+PSAwOyBhc3NldEluZGV4LS0pIHtcbiAgICAgICAgICAgIGNvbnN0IGFzc2V0ID0gYXNzZXRKc29uW2Fzc2V0SW5kZXhdO1xuXG4gICAgICAgICAgICAvLyBJdGVyYXRlIGJhY2t3YXJkcyB0aHJvdWdoIGVhY2ggc2l6ZSBpbiB0aGUgYXNzZXRcbiAgICAgICAgICAgIGZvciAobGV0IHNpemVJbmRleCA9IGFzc2V0LnNpemVzLmxlbmd0aCAtIDE7IHNpemVJbmRleCA+PSAwOyBzaXplSW5kZXgtLSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemUgPSBhc3NldC5zaXplc1tzaXplSW5kZXhdO1xuXG4gICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgaW5kZXggb2YgdGhlIGZpbGVQYXRoIGluIGluRG9jdW1lbnRzIGFycmF5XG4gICAgICAgICAgICAgICAgY29uc3QgZG9jSW5kZXggPSBzaXplLmluRG9jdW1lbnRzLmluZGV4T2YoZmlsZVRvRGVsZXRlLnBhdGhLZXkpO1xuXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGZpbGVQYXRoIGlzIGZvdW5kIGluIHRoZSBpbkRvY3VtZW50cyBhcnJheVxuICAgICAgICAgICAgICAgIGlmIChkb2NJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBmaWxlUGF0aCBmcm9tIGluRG9jdW1lbnRzIGFycmF5XG4gICAgICAgICAgICAgICAgICAgIHNpemUuaW5Eb2N1bWVudHMuc3BsaWNlKGRvY0luZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5kZWJ1Zykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oYFx1RDgzRFx1REREMSBSZW1vdmVkIGZpbGVQYXRoIGZyb20gaW5Eb2N1bWVudHM6ICR7ZmlsZVRvRGVsZXRlLnBhdGhLZXl9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgaW5Eb2N1bWVudHMgYXJyYXkgaXMgZW1wdHksIHJlbW92ZSB0aGUgc2l6ZSBlbnRyeVxuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6ZS5pbkRvY3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFzc2V0VG9SZW1vdmUgPSBzaXplLm5ld05hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlbW92ZUFzc2V0RnJvbVRhcmdldChhc3NldFRvUmVtb3ZlLCBjb25maWcuZG9jdXNhdXJ1c0Fzc2V0U3ViZm9sZGVyTmFtZSwgd2Vic2l0ZVBhdGgpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2V0LnNpemVzLnNwbGljZShzaXplSW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5kZWJ1Zykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKGBcdUQ4M0RcdUREMjUgUmVtb3ZlZCBzaXplIGZyb20gc2l6ZXM6ICR7c2l6ZS5zaXplfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiBzaXplcyBhcnJheSBpcyBlbXB0eSwgcmVtb3ZlIHRoZSBhc3NldCBlbnRyeVxuICAgICAgICAgICAgaWYgKGFzc2V0LnNpemVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGFzc2V0SnNvbi5zcGxpY2UoYXNzZXRJbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5kZWJ1Zykge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbyhgXHVEODNEXHVEQ0E1IFJlbW92ZWQgYXNzZXQgZnJvbSBhc3NldEpzb246ICR7YXNzZXQuZmlsZU5hbWV9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGFzc2V0SnNvbjtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVtb3ZlQXNzZXRGcm9tVGFyZ2V0KGFzc2V0VG9SZW1vdmU6IHN0cmluZ1tdLCBkb2N1c2F1cnVzQXNzZXRTdWJmb2xkZXJOYW1lOiBzdHJpbmcsIHdlYnNpdGVQYXRoOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBmb3IgKGNvbnN0IGFzc2V0IG9mIGFzc2V0VG9SZW1vdmUpIHtcbiAgICAgICAgY29uc3QgYXNzZXRQYXRoID0gcGF0aC5qb2luKHdlYnNpdGVQYXRoLCBcInN0YXRpY1wiLCBkb2N1c2F1cnVzQXNzZXRTdWJmb2xkZXJOYW1lLCBhc3NldCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBmcy5wcm9taXNlcy51bmxpbmsoYXNzZXRQYXRoKTtcbiAgICAgICAgICAgIGlmIChjb25maWcuZGVidWcpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbyhgXHVEODNEXHVEREQxIFJlbW92ZWQgYXNzZXQ6ICR7YXNzZXRQYXRofWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGNvbmZpZy5kZWJ1Zykge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihgXHUyNzRDIEVycm9yIHJlbW92aW5nIGFzc2V0OiAke2Fzc2V0UGF0aH1gLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNvbnN0IGNvcHlGaWxlID0gdXRpbC5wcm9taXNpZnkoZnMuY29weUZpbGUpO1xuY29uc3QgbWtkaXIgPSB1dGlsLnByb21pc2lmeShmcy5ta2Rpcik7XG5cbmFzeW5jIGZ1bmN0aW9uIGNvcHlBc3NldEZpbGVzVG9UYXJnZXQodmF1bHRQYXRoUGF0aDogc3RyaW5nLCB3ZWJzaXRlUGF0aDogc3RyaW5nLCBhc3NldEpzb246IEFzc2V0W10sIGFzc2V0c1RvUHJvY2VzczogeyBhc3NldEluZGV4OiBudW1iZXIsIHNpemVJbmRleDogbnVtYmVyLCBwYXRoOiBzdHJpbmcgfVtdKTogUHJvbWlzZTx2b2lkPiB7XG5cbiAgICBjb25zdCBkb2N1c2F1cnVzQXNzZXRGb2xkZXJQYXRoID0gcGF0aC5qb2luKHdlYnNpdGVQYXRoLCBcInN0YXRpY1wiLCBjb25maWcuZG9jdXNhdXJ1c0Fzc2V0U3ViZm9sZGVyTmFtZSlcbiAgICBhd2FpdCBta2Rpcihkb2N1c2F1cnVzQXNzZXRGb2xkZXJQYXRoLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcbiAgICBmb3IgKGNvbnN0IGFzc2V0VG9Qcm9jZXNzIG9mIGFzc2V0c1RvUHJvY2Vzcykge1xuXG4gICAgICAgIC8vIFVzZSB0aGUgaW5kZXhlcyB0byBmaW5kIHRoZSBvcmlnaW5hbCBhc3NldCBhbmQgc2l6ZVxuICAgICAgICBjb25zdCBhc3NldCA9IGFzc2V0SnNvblthc3NldFRvUHJvY2Vzcy5hc3NldEluZGV4XTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IGFzc2V0LnNpemVzW2Fzc2V0VG9Qcm9jZXNzLnNpemVJbmRleF07XG5cbiAgICAgICAgLy8gQnVpbGQgdGhlIG9yaWdpbmFsIGZpbGUgcGF0aFxuICAgICAgICBjb25zdCBvcmlnaW5hbEZpbGVQYXRoID0gcGF0aC5qb2luKHZhdWx0UGF0aFBhdGgsIGNvbmZpZy5vYnNpZGlhbkFzc2V0U3ViZm9sZGVyTmFtZSwgYXNzZXQub3JpZ2luYWxGaWxlTmFtZSkucmVwbGFjZSgvJTIwL2csIFwiIFwiKTtcblxuICAgICAgICBmb3IgKGNvbnN0IG5ld05hbWUgb2Ygc2l6ZS5uZXdOYW1lKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdGaWxlUGF0aCA9IHBhdGguam9pbihkb2N1c2F1cnVzQXNzZXRGb2xkZXJQYXRoLCBuZXdOYW1lKTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgaXQncyBhbiBpbWFnZVxuICAgICAgICAgICAgaWYgKFtcImpwZ1wiLCBcInBuZ1wiLCBcIndlYnBcIiwgXCJqcGVnXCIsIFwiYm1wXCIsIFwiZ2lmXCJdLmluY2x1ZGVzKGFzc2V0LmZpbGVFeHRlbnNpb24pKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgc2l6ZSBpcyBzdGFuZGFyZCwgdGhlcmUgaXMgbm8gcmVzaXplIG5lZWRlZCBmb3IgZ2lmcywganVzdCBpbmNyZWFzZSBmaWxlIHNpemVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemUuc2l6ZSA9PT0gXCJzdGFuZGFyZFwiICYmIGFzc2V0LmZpbGVFeHRlbnNpb24gPT09IFwiZ2lmXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGZzLmNvcHlGaWxlU3luYyhvcmlnaW5hbEZpbGVQYXRoLCBuZXdGaWxlUGF0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlnLmRlYnVnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oYEltYWdlIGNvcGllZCBmcm9tICR7b3JpZ2luYWxGaWxlUGF0aH0gdG8gJHtuZXdGaWxlUGF0aH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlc2l6ZUltYWdlKG9yaWdpbmFsRmlsZVBhdGgsIG5ld0ZpbGVQYXRoLCBzaXplLnNpemUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5kZWJ1Zykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKGBJbWFnZSByZXNpemVkIGFuZCBjb3BpZWQgZnJvbSAke29yaWdpbmFsRmlsZVBhdGh9IHRvICR7bmV3RmlsZVBhdGh9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlnLmRlYnVnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbyhgRmFpbGVkIHRvIHJlc2l6ZSBpbWFnZSBhbmQgY29weSBmcm9tICR7b3JpZ2luYWxGaWxlUGF0aH0gdG8gJHtuZXdGaWxlUGF0aH06ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXNzZXQuZmlsZUV4dGVuc2lvbiA9PSBcInN2Z1wiKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgY29weVNWRyhvcmlnaW5hbEZpbGVQYXRoLCBuZXdGaWxlUGF0aCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFtcImV4Y2FsaWRyYXdcIl0uaW5jbHVkZXMoYXNzZXQuZmlsZUV4dGVuc2lvbikpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBjb3B5RXhjYWxpZHJhdyhvcmlnaW5hbEZpbGVQYXRoLCBuZXdGaWxlUGF0aCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIENvcHkgdGhlIGZpbGUgdG8gdGhlIG5ldyBsb2NhdGlvblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGNvcHlGaWxlKG9yaWdpbmFsRmlsZVBhdGgsIG5ld0ZpbGVQYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5kZWJ1Zykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oYEZpbGUgY29waWVkIGZyb20gJHtvcmlnaW5hbEZpbGVQYXRofSB0byAke25ld0ZpbGVQYXRofWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5kZWJ1Zykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGBGYWlsZWQgdG8gY29weSBmaWxlIGZyb20gJHtvcmlnaW5hbEZpbGVQYXRofSB0byAke25ld0ZpbGVQYXRofTogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBjb3B5U1ZHKG9yaWdpbmFsRmlsZVBhdGg6IHN0cmluZywgbmV3RmlsZVBhdGg6IHN0cmluZykge1xuICAgIGF3YWl0IGNvcHlGaWxlKG9yaWdpbmFsRmlsZVBhdGgsIG5ld0ZpbGVQYXRoKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gY29weUV4Y2FsaWRyYXcob3JpZ2luYWxGaWxlUGF0aDogc3RyaW5nLCBuZXdGaWxlUGF0aDogc3RyaW5nKSB7XG4gICAgY29uc3QgZmlsZVBhdGggPSBvcmlnaW5hbEZpbGVQYXRoLnJlcGxhY2UoXCIubWRcIiwgXCJcIik7XG4gICAgY29uc3QgbmV3RGFya0ZpbGVQYXRoID0gbmV3RmlsZVBhdGgucmVwbGFjZSAoXCIubGlnaHRcIiwgXCIuZGFya1wiKVxuICAgIGNvbnN0IGRhcmtGaWxlUGF0aCA9IGZpbGVQYXRoICsgXCIuZGFyay5zdmdcIjtcbiAgICBhd2FpdCBjb3B5RmlsZShkYXJrRmlsZVBhdGgsIG5ld0RhcmtGaWxlUGF0aCk7XG5cblxuICAgIGNvbnN0IGxpZ2h0RmlsZVBhdGggPSBmaWxlUGF0aCArIFwiLmxpZ2h0LnN2Z1wiO1xuICAgIGF3YWl0IGNvcHlGaWxlKGxpZ2h0RmlsZVBhdGgsIG5ld0ZpbGVQYXRoKTtcblxufVxuXG4vLyBJbnRpdGFsaXplIEdyYXBoaWNrc01hZ2ljXG5jb25zdCBnbSA9IHJlcXVpcmUoJ2dtJykuc3ViQ2xhc3MoeyBpbWFnZU1hZ2ljazogJzcrJyB9KTtcblxuYXN5bmMgZnVuY3Rpb24gcmVzaXplSW1hZ2Uob3JpZ2luYWxGaWxlUGF0aDogc3RyaW5nLCBuZXdGaWxlUGF0aDogc3RyaW5nLCBzaXplOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCB3aWR0aE9yaWdpbmFsOiBudW1iZXIgPSBhd2FpdCBnZXRJbWFnZVdpZHRoKG9yaWdpbmFsRmlsZVBhdGgpO1xuICAgIGxldCB3aWR0aDogbnVtYmVyO1xuICAgIGxldCBoZWlnaHQ6IHN0cmluZyB8IG51bWJlcjtcbiAgICBsZXQgYXV0byA9IHRydWU7XG5cbiAgICBpZiAoc2l6ZSA9PT0gXCJzdGFuZGFyZFwiKSB7XG4gICAgICAgIHdpZHRoID0gTWF0aC5taW4od2lkdGhPcmlnaW5hbCwgcGFyc2VJbnQoY29uZmlnLmNvbnZlcnRlZEltYWdlTWF4V2lkdGgpKVxuICAgICAgICBoZWlnaHQgPSAnJzsgIC8vIGF1dG8gaGVpZ2h0XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZGltZW5zaW9ucyA9IHNpemUuc3BsaXQoXCJ4XCIpO1xuICAgICAgICB3aWR0aCA9IHBhcnNlSW50KGRpbWVuc2lvbnNbMF0pO1xuICAgICAgICBoZWlnaHQgPSBkaW1lbnNpb25zLmxlbmd0aCA+IDEgPyBwYXJzZUludChkaW1lbnNpb25zWzFdKSA6ICcnO1xuICAgICAgICBpZiAoaGVpZ2h0KSB7XG4gICAgICAgICAgICBhdXRvID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgaW1hZ2VQcm9jZXNzID0gZ20ob3JpZ2luYWxGaWxlUGF0aClcbiAgICAgICAgLmNvYWxlc2NlKClcblxuICAgIGlmIChhdXRvKSB7XG4gICAgICAgIGltYWdlUHJvY2VzcyA9IGltYWdlUHJvY2Vzcy5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaW1hZ2VQcm9jZXNzID0gaW1hZ2VQcm9jZXNzLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0LCAnIScpO1xuICAgIH1cblxuICAgIGltYWdlUHJvY2Vzcy53cml0ZShuZXdGaWxlUGF0aCwgZnVuY3Rpb24gKGVycjogRXJyb3IpIHtcbiAgICAgICAgaWYgKGVycikgbG9nZ2VyLmVycm9yKGVycik7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldEltYWdlV2lkdGgoaW1hZ2VQYXRoOiBzdHJpbmcpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICBnbShpbWFnZVBhdGgpLnNpemUoKGVycjogRXJyb3IsIHNpemUpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIGdldHRpbmcgaW1hZ2Ugd2lkdGg6ICcsIGVycik7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoc2l6ZS53aWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRBc3NldHNUb1Byb2Nlc3MoYXNzZXRKc29uOiBBc3NldFtdLCB3ZWJzaXRlUGF0aDogc3RyaW5nKTogUHJvbWlzZTx7IGFzc2V0SW5kZXg6IG51bWJlciwgc2l6ZUluZGV4OiBudW1iZXIsIHBhdGg6IHN0cmluZyB9W10+IHtcbiAgICBjb25zdCBkb2N1bWVudHMgPSBbXTtcblxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgYXNzZXRzXG4gICAgZm9yIChjb25zdCBbYXNzZXRJbmRleCwgYXNzZXRdIG9mIGFzc2V0SnNvbi5lbnRyaWVzKCkpIHtcbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBzaXplcyBvZiBlYWNoIGFzc2V0XG4gICAgICAgIGZvciAoY29uc3QgW3NpemVJbmRleCwgc2l6ZV0gb2YgYXNzZXQuc2l6ZXMuZW50cmllcygpKSB7XG4gICAgICAgICAgICAvLyBBZGQgYWxsIGRvY3VtZW50cyBmb3IgZWFjaCBzaXplIHRvIHRoZSBhcnJheSwgYWxvbmcgd2l0aCB0aGUgYXNzZXQgYW5kIHNpemUgaW5kZXhcbiAgICAgICAgICAgIGZvciAoY29uc3QgbmFtZSBvZiBzaXplLm5ld05hbWUpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudHMucHVzaCh7IGFzc2V0SW5kZXgsIHNpemVJbmRleCwgcGF0aDogbmFtZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIGVhY2ggZG9jdW1lbnQgZXhpc3RzLCBpZiBpdCBkb2VzIHJlbW92ZSBpdCBmcm9tIHRoZSBhcnJheVxuICAgIGNvbnN0IGFzc2V0c1RvUHJvY2VzcyA9IGRvY3VtZW50cy5maWx0ZXIoZG9jdW1lbnQgPT4ge1xuICAgICAgICBjb25zdCBmaWxlRXhpc3RzID0gZnMuZXhpc3RzU3luYyhwYXRoLmpvaW4od2Vic2l0ZVBhdGgsIFwic3RhdGljXCIsIGNvbmZpZy5kb2N1c2F1cnVzQXNzZXRTdWJmb2xkZXJOYW1lLCBkb2N1bWVudC5wYXRoKSk7XG5cbiAgICAgICAgaWYgKCFmaWxlRXhpc3RzICYmIGNvbmZpZy5kZWJ1Zykge1xuICAgICAgICAgICAgbG9nZ2VyLmluZm8oYEZpbGUgJHtkb2N1bWVudC5wYXRofSBkb2VzIG5vdCBleGlzdC5gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIWZpbGVFeGlzdHM7IC8vIE9ubHkga2VlcCBpdCBpbiB0aGUgYXJyYXkgaWYgdGhlIGZpbGUgZG9lcyBub3QgZXhpc3RcbiAgICB9KTtcbiAgICByZXR1cm4gYXNzZXRzVG9Qcm9jZXNzO1xufVxuXG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQSw0Q0FBQUEs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Q0FBQyxDQUFDO0FBRUosZ0JBQVksU0FBUyxNQUFNLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFFL0MsUUFBSSx5QkFBUSxXQUFXLEVBQ3JCLFFBQVEsZUFBZSxFQUN2QixRQUFRLG9DQUFvQyxFQUM1QyxRQUFRLFVBQVEsS0FDZixlQUFlLHFCQUFxQixFQUNwQyxTQUFTLEtBQUssT0FBTyxTQUFTLFlBQVksRUFDMUMsU0FBUyxPQUFPLFVBQVU7QUFDMUIsV0FBSyxPQUFPLFNBQVMsZUFBZTtBQUNwQyxZQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsSUFDaEMsQ0FBQyxDQUFDO0FBRUosZ0JBQVksU0FBUyxNQUFNLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFFbEQsUUFBSSx5QkFBUSxXQUFXLEVBQ3JCLFFBQVEsWUFBWSxFQUNwQixRQUFRLDhCQUE4QixFQUN0QyxVQUFVLENBQUMsVUFBVTtBQUNyQixZQUFNLFNBQVMsS0FBSyxPQUFPLFNBQVMsS0FBSyxFQUFFLFNBQVMsQ0FBQ0UsV0FBVTtBQUM5RCxhQUFLLE9BQU8sU0FBUyxRQUFRQTtBQUM3QixhQUFLLE9BQU8sYUFBYTtBQUFBLE1BQzFCLENBQUM7QUFBQSxJQUNGLENBQUM7QUFFRixRQUFJLHlCQUFRLFdBQVcsRUFDckIsUUFBUSxnQkFBZ0IsRUFDeEIsUUFBUSw0QkFBNEIsRUFDcEMsVUFBVSxDQUFDLFVBQVU7QUFDckIsWUFBTSxTQUFTLEtBQUssT0FBTyxTQUFTLEtBQUssRUFBRSxTQUFTLENBQUNBLFdBQVU7QUFDOUQsYUFBSyxPQUFPLFNBQVMsUUFBUUE7QUFDN0IsYUFBSyxPQUFPLGFBQWE7QUFBQSxNQUMxQixDQUFDO0FBQUEsSUFDRixDQUFDO0FBQUEsRUFHSDtBQUNEOyIsCiAgIm5hbWVzIjogWyJtb2R1bGUiLCAibW9kdWxlIiwgImdtIiwgInNlbGYiLCAicGFyc2UiLCAibW9kdWxlIiwgInByb2Nlc3MiLCAid2luZG93IiwgIm1vZHVsZSIsICJtb2R1bGUiLCAic2VsZiIsICJtb2R1bGUiLCAibW9kdWxlIiwgImZzIiwgInNlbGYiLCAiZXJyIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJzZXQiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJzZWxmIiwgIm1vZHVsZSIsICJNYXAiLCAidXRpbCIsICJzZWxmIiwgIm1vZHVsZSIsICJmcyIsICJwYXRoIiwgIm1vZHVsZSIsICJmcyIsICJwYXRoIiwgIm1vZHVsZSIsICJmcyIsICJwYXRoIiwgInJlc29sdmUiLCAibW9kdWxlIiwgInBhdGgiLCAibW9kdWxlIiwgInBhdGgiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJmcyIsICJwYXJzZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgInBhcnNlIiwgIm1vZHVsZSIsICJwYXJzZSIsICJtb2R1bGUiLCAic2VsZiIsICJtb2R1bGUiLCAiX3R5cGVvZiIsICJvYmoiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJhcmdzIiwgInN0cmVhbSIsICJzZWxmIiwgImVyciIsICJzdGRvdXQiLCAic3RkZXJyIiwgImNtZCIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgInV0aWwiLCAiZ20iLCAibW9kdWxlIiwgInJlcXVpcmVfYnJvd3NlciIsICJtb2R1bGUiLCAicGlubyIsICJ0cmFuc21pdCIsICJsZXZlbCIsICJsb2dnZXIiLCAiY29uZmlnIiwgImltcG9ydF9vYnNpZGlhbiIsICJwYXRoIiwgInByb21pc2VzIiwgImNvcHlGaWxlIiwgInV0aWwiLCAibWtkaXIiLCAicmVzb2x2ZSIsICJkb2N1bWVudCIsICJwaW5vIiwgImNvbmZpZyIsICJwYXRoIiwgInZhbHVlIl0KfQo=
